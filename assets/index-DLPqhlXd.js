(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var jd={exports:{}},Al={};var sv;function pA(){if(sv)return Al;sv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Al.Fragment=t,Al.jsx=n,Al.jsxs=n,Al}var rv;function yA(){return rv||(rv=1,jd.exports=pA()),jd.exports}var N=yA(),Bd={exports:{}},bt={};var av;function _A(){if(av)return bt;av=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.iterator;function q(V){return V===null||typeof V!="object"?null:(V=x&&V[x]||V["@@iterator"],typeof V=="function"?V:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,W={};function ut(V,X,it){this.props=V,this.context=X,this.refs=W,this.updater=it||K}ut.prototype.isReactComponent={},ut.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},ut.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function st(){}st.prototype=ut.prototype;function et(V,X,it){this.props=V,this.context=X,this.refs=W,this.updater=it||K}var gt=et.prototype=new st;gt.constructor=et,J(gt,ut.prototype),gt.isPureReactComponent=!0;var Ct=Array.isArray;function Et(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function w(V,X,it){var ot=it.ref;return{$$typeof:s,type:V,key:X,ref:ot!==void 0?ot:null,props:it}}function O(V,X){return w(V.type,X,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function U(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(it){return X[it]})}var R=/\/+/g;function Xt(V,X){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):X.toString(36)}function de(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Et,Et):(V.status="pending",V.then(function(X){V.status==="pending"&&(V.status="fulfilled",V.value=X)},function(X){V.status==="pending"&&(V.status="rejected",V.reason=X)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function F(V,X,it,ot,vt){var Rt=typeof V;(Rt==="undefined"||Rt==="boolean")&&(V=null);var Lt=!1;if(V===null)Lt=!0;else switch(Rt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(V.$$typeof){case s:case t:Lt=!0;break;case E:return Lt=V._init,F(Lt(V._payload),X,it,ot,vt)}}if(Lt)return vt=vt(V),Lt=ot===""?"."+Xt(V,0):ot,Ct(vt)?(it="",Lt!=null&&(it=Lt.replace(R,"$&/")+"/"),F(vt,X,it,"",function(hr){return hr})):vt!=null&&(D(vt)&&(vt=O(vt,it+(vt.key==null||V&&V.key===vt.key?"":(""+vt.key).replace(R,"$&/")+"/")+Lt)),X.push(vt)),1;Lt=0;var Ve=ot===""?".":ot+":";if(Ct(V))for(var re=0;re<V.length;re++)ot=V[re],Rt=Ve+Xt(ot,re),Lt+=F(ot,X,it,Rt,vt);else if(re=q(V),typeof re=="function")for(V=re.call(V),re=0;!(ot=V.next()).done;)ot=ot.value,Rt=Ve+Xt(ot,re++),Lt+=F(ot,X,it,Rt,vt);else if(Rt==="object"){if(typeof V.then=="function")return F(de(V),X,it,ot,vt);throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function nt(V,X,it){if(V==null)return V;var ot=[],vt=0;return F(V,ot,"","",function(Rt){return X.call(it,Rt,vt++)}),ot}function dt(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(it){(V._status===0||V._status===-1)&&(V._status=1,V._result=it)},function(it){(V._status===0||V._status===-1)&&(V._status=2,V._result=it)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var zt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Gt={map:nt,forEach:function(V,X,it){nt(V,function(){X.apply(this,arguments)},it)},count:function(V){var X=0;return nt(V,function(){X++}),X},toArray:function(V){return nt(V,function(X){return X})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return bt.Activity=S,bt.Children=Gt,bt.Component=ut,bt.Fragment=n,bt.Profiler=o,bt.PureComponent=et,bt.StrictMode=r,bt.Suspense=y,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,bt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return I.H.useMemoCache(V)}},bt.cache=function(V){return function(){return V.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(V,X,it){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ot=J({},V.props),vt=V.key;if(X!=null)for(Rt in X.key!==void 0&&(vt=""+X.key),X)!A.call(X,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&X.ref===void 0||(ot[Rt]=X[Rt]);var Rt=arguments.length-2;if(Rt===1)ot.children=it;else if(1<Rt){for(var Lt=Array(Rt),Ve=0;Ve<Rt;Ve++)Lt[Ve]=arguments[Ve+2];ot.children=Lt}return w(V.type,vt,ot)},bt.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},bt.createElement=function(V,X,it){var ot,vt={},Rt=null;if(X!=null)for(ot in X.key!==void 0&&(Rt=""+X.key),X)A.call(X,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(vt[ot]=X[ot]);var Lt=arguments.length-2;if(Lt===1)vt.children=it;else if(1<Lt){for(var Ve=Array(Lt),re=0;re<Lt;re++)Ve[re]=arguments[re+2];vt.children=Ve}if(V&&V.defaultProps)for(ot in Lt=V.defaultProps,Lt)vt[ot]===void 0&&(vt[ot]=Lt[ot]);return w(V,Rt,vt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(V){return{$$typeof:g,render:V}},bt.isValidElement=D,bt.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:dt}},bt.memo=function(V,X){return{$$typeof:p,type:V,compare:X===void 0?null:X}},bt.startTransition=function(V){var X=I.T,it={};I.T=it;try{var ot=V(),vt=I.S;vt!==null&&vt(it,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(Et,zt)}catch(Rt){zt(Rt)}finally{X!==null&&it.types!==null&&(X.types=it.types),I.T=X}},bt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},bt.use=function(V){return I.H.use(V)},bt.useActionState=function(V,X,it){return I.H.useActionState(V,X,it)},bt.useCallback=function(V,X){return I.H.useCallback(V,X)},bt.useContext=function(V){return I.H.useContext(V)},bt.useDebugValue=function(){},bt.useDeferredValue=function(V,X){return I.H.useDeferredValue(V,X)},bt.useEffect=function(V,X){return I.H.useEffect(V,X)},bt.useEffectEvent=function(V){return I.H.useEffectEvent(V)},bt.useId=function(){return I.H.useId()},bt.useImperativeHandle=function(V,X,it){return I.H.useImperativeHandle(V,X,it)},bt.useInsertionEffect=function(V,X){return I.H.useInsertionEffect(V,X)},bt.useLayoutEffect=function(V,X){return I.H.useLayoutEffect(V,X)},bt.useMemo=function(V,X){return I.H.useMemo(V,X)},bt.useOptimistic=function(V,X){return I.H.useOptimistic(V,X)},bt.useReducer=function(V,X,it){return I.H.useReducer(V,X,it)},bt.useRef=function(V){return I.H.useRef(V)},bt.useState=function(V){return I.H.useState(V)},bt.useSyncExternalStore=function(V,X,it){return I.H.useSyncExternalStore(V,X,it)},bt.useTransition=function(){return I.H.useTransition()},bt.version="19.2.3",bt}var ov;function Um(){return ov||(ov=1,Bd.exports=_A()),Bd.exports}var mt=Um(),qd={exports:{}},Sl={},Hd={exports:{}},Fd={};var lv;function vA(){return lv||(lv=1,(function(s){function t(F,nt){var dt=F.length;F.push(nt);t:for(;0<dt;){var zt=dt-1>>>1,Gt=F[zt];if(0<o(Gt,nt))F[zt]=nt,F[dt]=Gt,dt=zt;else break t}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var nt=F[0],dt=F.pop();if(dt!==nt){F[0]=dt;t:for(var zt=0,Gt=F.length,V=Gt>>>1;zt<V;){var X=2*(zt+1)-1,it=F[X],ot=X+1,vt=F[ot];if(0>o(it,dt))ot<Gt&&0>o(vt,it)?(F[zt]=vt,F[ot]=dt,zt=ot):(F[zt]=it,F[X]=dt,zt=X);else if(ot<Gt&&0>o(vt,dt))F[zt]=vt,F[ot]=dt,zt=ot;else break t}}return nt}function o(F,nt){var dt=F.sortIndex-nt.sortIndex;return dt!==0?dt:F.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();s.unstable_now=function(){return f.now()-g}}var y=[],p=[],E=1,S=null,x=3,q=!1,K=!1,J=!1,W=!1,ut=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function gt(F){for(var nt=n(p);nt!==null;){if(nt.callback===null)r(p);else if(nt.startTime<=F)r(p),nt.sortIndex=nt.expirationTime,t(y,nt);else break;nt=n(p)}}function Ct(F){if(J=!1,gt(F),!K)if(n(y)!==null)K=!0,Et||(Et=!0,U());else{var nt=n(p);nt!==null&&de(Ct,nt.startTime-F)}}var Et=!1,I=-1,A=5,w=-1;function O(){return W?!0:!(s.unstable_now()-w<A)}function D(){if(W=!1,Et){var F=s.unstable_now();w=F;var nt=!0;try{t:{K=!1,J&&(J=!1,st(I),I=-1),q=!0;var dt=x;try{e:{for(gt(F),S=n(y);S!==null&&!(S.expirationTime>F&&O());){var zt=S.callback;if(typeof zt=="function"){S.callback=null,x=S.priorityLevel;var Gt=zt(S.expirationTime<=F);if(F=s.unstable_now(),typeof Gt=="function"){S.callback=Gt,gt(F),nt=!0;break e}S===n(y)&&r(y),gt(F)}else r(y);S=n(y)}if(S!==null)nt=!0;else{var V=n(p);V!==null&&de(Ct,V.startTime-F),nt=!1}}break t}finally{S=null,x=dt,q=!1}nt=void 0}}finally{nt?U():Et=!1}}}var U;if(typeof et=="function")U=function(){et(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Xt=R.port2;R.port1.onmessage=D,U=function(){Xt.postMessage(null)}}else U=function(){ut(D,0)};function de(F,nt){I=ut(function(){F(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(F){switch(x){case 1:case 2:case 3:var nt=3;break;default:nt=x}var dt=x;x=nt;try{return F()}finally{x=dt}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(F,nt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var dt=x;x=F;try{return nt()}finally{x=dt}},s.unstable_scheduleCallback=function(F,nt,dt){var zt=s.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?zt+dt:zt):dt=zt,F){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=dt+Gt,F={id:E++,callback:nt,priorityLevel:F,startTime:dt,expirationTime:Gt,sortIndex:-1},dt>zt?(F.sortIndex=dt,t(p,F),n(y)===null&&F===n(p)&&(J?(st(I),I=-1):J=!0,de(Ct,dt-zt))):(F.sortIndex=Gt,t(y,F),K||q||(K=!0,Et||(Et=!0,U()))),F},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(F){var nt=x;return function(){var dt=x;x=nt;try{return F.apply(this,arguments)}finally{x=dt}}}})(Fd)),Fd}var uv;function TA(){return uv||(uv=1,Hd.exports=vA()),Hd.exports}var Gd={exports:{}},Je={};var cv;function EA(){if(cv)return Je;cv=1;var s=Um();function t(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,p,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:p,implementation:E}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Je.createPortal=function(y,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(y,p,null,E)},Je.flushSync=function(y){var p=f.T,E=r.p;try{if(f.T=null,r.p=2,y)return y()}finally{f.T=p,r.p=E,r.d.f()}},Je.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(y,p))},Je.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Je.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var E=p.as,S=g(E,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,q=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?r.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:q}):E==="script"&&r.d.X(y,{crossOrigin:S,integrity:x,fetchPriority:q,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Je.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=g(p.as,p.crossOrigin);r.d.M(y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(y)},Je.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,S=g(E,p.crossOrigin);r.d.L(y,E,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Je.preloadModule=function(y,p){if(typeof y=="string")if(p){var E=g(p.as,p.crossOrigin);r.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(y)},Je.requestFormReset=function(y){r.d.r(y)},Je.unstable_batchedUpdates=function(y,p){return y(p)},Je.useFormState=function(y,p,E){return f.H.useFormState(y,p,E)},Je.useFormStatus=function(){return f.H.useHostTransitionStatus()},Je.version="19.2.3",Je}var hv;function bA(){if(hv)return Gd.exports;hv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Gd.exports=EA(),Gd.exports}var fv;function AA(){if(fv)return Sl;fv=1;var s=TA(),t=Um(),n=bA();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(u(e)!==e)throw Error(r(188))}function p(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return y(h),e;if(d===l)return y(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),st=Symbol.for("react.consumer"),et=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),Ct=Symbol.for("react.suspense"),Et=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Xt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case ut:return"Profiler";case W:return"StrictMode";case Ct:return"Suspense";case Et:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case K:return"Portal";case et:return e.displayName||"Context";case st:return(e._context.displayName||"Context")+".Consumer";case gt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return i=e.displayName||null,i!==null?i:Xt(e.type)||"Memo";case A:i=e._payload,e=e._init;try{return Xt(e(i))}catch{}}return null}var de=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},zt=[],Gt=-1;function V(e){return{current:e}}function X(e){0>Gt||(e.current=zt[Gt],zt[Gt]=null,Gt--)}function it(e,i){Gt++,zt[Gt]=e.current,e.current=i}var ot=V(null),vt=V(null),Rt=V(null),Lt=V(null);function Ve(e,i){switch(it(Rt,i),it(vt,e),it(ot,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?I_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=I_(i),e=C_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(ot),it(ot,e)}function re(){X(ot),X(vt),X(Rt)}function hr(e){e.memoizedState!==null&&it(Lt,e);var i=ot.current,a=C_(i,e.type);i!==a&&(it(vt,e),it(ot,a))}function ia(e){vt.current===e&&(X(ot),X(vt)),Lt.current===e&&(X(Lt),vl._currentValue=dt)}var sa,ra;function si(e){if(sa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);sa=i&&i[1]||"",ra=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sa+e+ra}var vo=!1;function fr(e,i){if(!e||vo)return"";vo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var j=H}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(H){j=H}e.call(Y.prototype)}}else{try{throw Error()}catch(H){j=H}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var C=_.split(`
`),z=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var G=`
`+C[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{vo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?si(a):""}function To(e,i){switch(e.tag){case 26:case 27:case 5:return si(e.type);case 16:return si("Lazy");case 13:return e.child!==i&&i!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return fr(e.type,!1);case 11:return fr(e.type.render,!1);case 1:return fr(e.type,!0);case 31:return si("Activity");default:return""}}function Eo(e){try{var i="",a=null;do i+=To(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Te=Object.prototype.hasOwnProperty,ke=s.unstable_scheduleCallback,ls=s.unstable_cancelCallback,Bh=s.unstable_shouldYield,ru=s.unstable_requestPaint,nn=s.unstable_now,dr=s.unstable_getCurrentPriorityLevel,bo=s.unstable_ImmediatePriority,Ao=s.unstable_UserBlockingPriority,us=s.unstable_NormalPriority,qh=s.unstable_LowPriority,au=s.unstable_IdlePriority,ou=s.log,lu=s.unstable_setDisableYieldValue,qn=null,qe=null;function In(e){if(typeof ou=="function"&&lu(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(qn,e)}catch{}}var me=Math.clz32?Math.clz32:cu,uu=Math.log,aa=Math.LN2;function cu(e){return e>>>=0,e===0?32:31-(uu(e)/aa|0)|0}var ri=256,mr=262144,Ee=4194304;function ai(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function oi(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ai(l):(_&=T,_!==0?h=ai(_):a||(a=T&~e,a!==0&&(h=ai(a))))):(T=l&~d,T!==0?h=ai(T):_!==0?h=ai(_):a||(a=l&~e,a!==0&&(h=ai(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Hn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Hh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hu(){var e=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),e}function li(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function gr(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fh(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var G=31-me(a),Y=1<<G;T[G]=0,C[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var H=j[G];H!==null&&(H.lane&=-536870913)}a&=~Y}l!==0&&pr(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function pr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-me(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function So(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-me(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function wo(e,i){var a=i&-i;return a=(a&42)!==0?1:yr(a),(a&(e.suspendedLanes|i))!==0?0:a}function yr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ui(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function fu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:J_(e.type))}function Fn(e,i){var a=nt.p;try{return nt.p=e,i()}finally{nt.p=a}}var Gn=Math.random().toString(36).slice(2),be="__reactFiber$"+Gn,Pe="__reactProps$"+Gn,ui="__reactContainer$"+Gn,oa="__reactEvents$"+Gn,Gh="__reactListeners$"+Gn,du="__reactHandles$"+Gn,mu="__reactResources$"+Gn,ci="__reactMarker$"+Gn;function la(e){delete e[be],delete e[Pe],delete e[oa],delete e[Gh],delete e[du]}function hi(e){var i=e[be];if(i)return i;for(var a=e.parentNode;a;){if(i=a[ui]||a[be]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=k_(e);e!==null;){if(a=e[be])return a;e=k_(e)}return i}e=a,a=e.parentNode}return null}function Cn(e){if(e=e[be]||e[ui]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function pn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function fi(e){var i=e[mu];return i||(i=e[mu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ae(e){e[ci]=!0}var Ro=new Set,Io={};function di(e,i){mi(e,i),mi(e+"Capture",i)}function mi(e,i){for(Io[e]=i,e=0;e<i.length;e++)Ro.add(i[e])}var Co=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},xo={};function gu(e){return Te.call(xo,e)?!0:Te.call(No,e)?!1:Co.test(e)?xo[e]=!0:(No[e]=!0,!1)}function ua(e,i,a){if(gu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function yn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Se(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cs(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Do(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Kt(e){if(!e._valueTracker){var i=cs(e)?"checked":"value";e._valueTracker=Do(e,i,""+e[i])}}function _r(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=cs(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function gi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vr=/[\n"\\]/g;function on(e){return e.replace(vr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ca(e,i,a,l,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+ze(i)):e.value!==""+ze(i)&&(e.value=""+ze(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Oo(e,_,ze(i)):a!=null?Oo(e,_,ze(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+ze(T):e.removeAttribute("name")}function pu(e,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Kt(e);return}a=a!=null?""+ze(a):"",i=i!=null?""+ze(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Kt(e)}function Oo(e,i,a){i==="number"&&gi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function hs(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+ze(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function yu(e,i,a){if(i!=null&&(i=""+ze(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+ze(a):""}function fs(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(de(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=ze(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Kt(e)}function ln(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var _u=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||_u.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Vo(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Mo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Mo(e,d,i[d])}function ha(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(e){return ds.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Kn(){}var ko=null;function Nn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ms=null,pi=null;function Tr(e){var i=Cn(e);if(i&&(e=i.stateNode)){var a=e[Pe]||null;t:switch(e=i.stateNode,i.type){case"input":if(ca(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Pe]||null;if(!h)throw Error(r(90));ca(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&_r(l)}break t;case"textarea":yu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&hs(e,!!a.multiple,i,!1)}}}var da=!1;function gs(e,i,a){if(da)return e(i,a);da=!0;try{var l=e(i);return l}finally{if(da=!1,(ms!==null||pi!==null)&&(fc(),ms&&(i=ms,e=pi,pi=ms=null,Tr(i),e)))for(i=0;i<e.length;i++)Tr(e[i])}}function Qn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Pe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Er=!1;if(xn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Er=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Er=!1}var yi=null,Uo=null,br=null;function Lo(){if(br)return br;var e,i=Uo,a=i.length,l,h="value"in yi?yi.value:yi.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return br=h.slice(e,1<l?1-l:void 0)}function Ar(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Li(){return!0}function Yn(){return!1}function He(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Li:Yn,this.isPropagationStopped=Yn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),i}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=He(Pi),ps=S({},Pi,{view:0,detail:0}),Po=He(ps),ys,ma,vi,ga=S({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vi&&(vi&&e.type==="mousemove"?(ys=e.screenX-vi.screenX,ma=e.screenY-vi.screenY):ma=ys=0,vi=e),ys)},movementY:function(e){return"movementY"in e?e.movementY:ma}}),zo=He(ga),Sr=S({},ga,{dataTransfer:0}),Tu=He(Sr),Eu=S({},ps,{relatedTarget:0}),wr=He(Eu),jo=S({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=He(jo),pa=S({},Pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Au=He(pa),Su=S({},Pi,{data:0}),Ti=He(Su),wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Iu[e])?!!i[e]:!1}function _s(){return Cu}var sn=S({},ps,{key:function(e){if(e.key){var i=wu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ar(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ru[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(e){return e.type==="keypress"?Ar(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ar(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nu=He(sn),xu=S({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=He(xu),c=S({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),m=He(c),v=S({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=He(v),L=S({},ga,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=He(L),tt=S({},Pi,{newState:0,oldState:0}),St=He(tt),ge=[9,13,27,32],qt=xn&&"CompositionEvent"in window,ae=null;xn&&"documentMode"in document&&(ae=document.documentMode);var Dn=xn&&"TextEvent"in window&&!ae,Ei=xn&&(!qt||ae&&8<ae&&11>=ae),Xn=" ",$n=!1;function Rr(e,i){switch(e){case"keyup":return ge.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ya(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _a=!1;function j1(e,i){switch(e){case"compositionend":return ya(i);case"keypress":return i.which!==32?null:($n=!0,Xn);case"textInput":return e=i.data,e===Xn&&$n?null:e;default:return null}}function B1(e,i){if(_a)return e==="compositionend"||!qt&&Rr(e,i)?(e=Lo(),br=Uo=yi=null,_a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ei&&i.locale!=="ko"?null:i.data;default:return null}}var q1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pg(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!q1[e.type]:i==="textarea"}function zg(e,i,a,l){ms?pi?pi.push(l):pi=[l]:ms=l,i=vc(i,"onChange"),0<i.length&&(a=new _i("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Bo=null,qo=null;function H1(e){E_(e,0)}function Du(e){var i=pn(e);if(_r(i))return e}function jg(e,i){if(e==="change")return i}var Bg=!1;if(xn){var Kh;if(xn){var Qh="oninput"in document;if(!Qh){var qg=document.createElement("div");qg.setAttribute("oninput","return;"),Qh=typeof qg.oninput=="function"}Kh=Qh}else Kh=!1;Bg=Kh&&(!document.documentMode||9<document.documentMode)}function Hg(){Bo&&(Bo.detachEvent("onpropertychange",Fg),qo=Bo=null)}function Fg(e){if(e.propertyName==="value"&&Du(qo)){var i=[];zg(i,qo,e,Nn(e)),gs(H1,i)}}function F1(e,i,a){e==="focusin"?(Hg(),Bo=i,qo=a,Bo.attachEvent("onpropertychange",Fg)):e==="focusout"&&Hg()}function G1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Du(qo)}function K1(e,i){if(e==="click")return Du(i)}function Q1(e,i){if(e==="input"||e==="change")return Du(i)}function Y1(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var _n=typeof Object.is=="function"?Object.is:Y1;function Ho(e,i){if(_n(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Te.call(i,h)||!_n(e[h],i[h]))return!1}return!0}function Gg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kg(e,i){var a=Gg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Gg(a)}}function Qg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Qg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Yg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=gi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=gi(e.document)}return i}function Yh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var X1=xn&&"documentMode"in document&&11>=document.documentMode,va=null,Xh=null,Fo=null,$h=!1;function Xg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$h||va==null||va!==gi(l)||(l=va,"selectionStart"in l&&Yh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Fo&&Ho(Fo,l)||(Fo=l,l=vc(Xh,"onSelect"),0<l.length&&(i=new _i("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=va)))}function Ir(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ta={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionrun:Ir("Transition","TransitionRun"),transitionstart:Ir("Transition","TransitionStart"),transitioncancel:Ir("Transition","TransitionCancel"),transitionend:Ir("Transition","TransitionEnd")},Jh={},$g={};xn&&($g=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Cr(e){if(Jh[e])return Jh[e];if(!Ta[e])return e;var i=Ta[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in $g)return Jh[e]=i[a];return e}var Jg=Cr("animationend"),Zg=Cr("animationiteration"),Wg=Cr("animationstart"),$1=Cr("transitionrun"),J1=Cr("transitionstart"),Z1=Cr("transitioncancel"),tp=Cr("transitionend"),ep=new Map,Zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zh.push("scrollEnd");function Jn(e,i){ep.set(e,i),di(i,[e])}var Ou=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},On=[],Ea=0,Wh=0;function Mu(){for(var e=Ea,i=Wh=Ea=0;i<e;){var a=On[i];On[i++]=null;var l=On[i];On[i++]=null;var h=On[i];On[i++]=null;var d=On[i];if(On[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&np(a,h,d)}}function Vu(e,i,a,l){On[Ea++]=e,On[Ea++]=i,On[Ea++]=a,On[Ea++]=l,Wh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function tf(e,i,a,l){return Vu(e,i,a,l),ku(e)}function Nr(e,i){return Vu(e,null,null,i),ku(e)}function np(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-me(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function ku(e){if(50<fl)throw fl=0,cd=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ba={};function W1(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,i,a,l){return new W1(e,i,a,l)}function ef(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ji(e,i){var a=e.alternate;return a===null?(a=vn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ip(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Uu(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")ef(e)&&(_=1);else if(typeof e=="string")_=sA(e,a,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=vn(31,a,i,h),e.elementType=w,e.lanes=d,e;case J:return xr(a.children,h,d,i);case W:_=8,h|=24;break;case ut:return e=vn(12,a,i,h|2),e.elementType=ut,e.lanes=d,e;case Ct:return e=vn(13,a,i,h),e.elementType=Ct,e.lanes=d,e;case Et:return e=vn(19,a,i,h),e.elementType=Et,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case et:_=10;break t;case st:_=9;break t;case gt:_=11;break t;case I:_=14;break t;case A:_=16,l=null;break t}_=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return i=vn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function xr(e,i,a,l){return e=vn(7,e,l,i),e.lanes=a,e}function nf(e,i,a){return e=vn(6,e,null,i),e.lanes=a,e}function sp(e){var i=vn(18,null,null,0);return i.stateNode=e,i}function sf(e,i,a){return i=vn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var rp=new WeakMap;function Mn(e,i){if(typeof e=="object"&&e!==null){var a=rp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Eo(i)},rp.set(e,i),i)}return{value:e,source:i,stack:Eo(i)}}var Aa=[],Sa=0,Lu=null,Go=0,Vn=[],kn=0,vs=null,bi=1,Ai="";function Bi(e,i){Aa[Sa++]=Go,Aa[Sa++]=Lu,Lu=e,Go=i}function ap(e,i,a){Vn[kn++]=bi,Vn[kn++]=Ai,Vn[kn++]=vs,vs=e;var l=bi;e=Ai;var h=32-me(l)-1;l&=~(1<<h),a+=1;var d=32-me(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,bi=1<<32-me(i)+h|a<<h|l,Ai=d+e}else bi=1<<d|a<<h|l,Ai=e}function rf(e){e.return!==null&&(Bi(e,1),ap(e,1,0))}function af(e){for(;e===Lu;)Lu=Aa[--Sa],Aa[Sa]=null,Go=Aa[--Sa],Aa[Sa]=null;for(;e===vs;)vs=Vn[--kn],Vn[kn]=null,Ai=Vn[--kn],Vn[kn]=null,bi=Vn[--kn],Vn[kn]=null}function op(e,i){Vn[kn++]=bi,Vn[kn++]=Ai,Vn[kn++]=vs,bi=i.id,Ai=i.overflow,vs=e}var Fe=null,ne=null,Ut=!1,Ts=null,Un=!1,of=Error(r(519));function Es(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ko(Mn(i,e)),of}function lp(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[be]=e,i[Pe]=l,a){case"dialog":xt("cancel",i),xt("close",i);break;case"iframe":case"object":case"embed":xt("load",i);break;case"video":case"audio":for(a=0;a<ml.length;a++)xt(ml[a],i);break;case"source":xt("error",i);break;case"img":case"image":case"link":xt("error",i),xt("load",i);break;case"details":xt("toggle",i);break;case"input":xt("invalid",i),pu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":xt("invalid",i);break;case"textarea":xt("invalid",i),fs(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||w_(i.textContent,a)?(l.popover!=null&&(xt("beforetoggle",i),xt("toggle",i)),l.onScroll!=null&&xt("scroll",i),l.onScrollEnd!=null&&xt("scrollend",i),l.onClick!=null&&(i.onclick=Kn),i=!0):i=!1,i||Es(e,!0)}function up(e){for(Fe=e.return;Fe;)switch(Fe.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Fe=Fe.return}}function wa(e){if(e!==Fe)return!1;if(!Ut)return up(e),Ut=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||wd(e.type,e.memoizedProps)),a=!a),a&&ne&&Es(e),up(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ne=V_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ne=V_(e)}else i===27?(i=ne,ks(e.type)?(e=xd,xd=null,ne=e):ne=i):ne=Fe?Pn(e.stateNode.nextSibling):null;return!0}function Dr(){ne=Fe=null,Ut=!1}function lf(){var e=Ts;return e!==null&&(fn===null?fn=e:fn.push.apply(fn,e),Ts=null),e}function Ko(e){Ts===null?Ts=[e]:Ts.push(e)}var uf=V(null),Or=null,qi=null;function bs(e,i,a){it(uf,i._currentValue),i._currentValue=a}function Hi(e){e._currentValue=uf.current,X(uf)}function cf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function hf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),cf(d.return,a,e),l||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),cf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ra(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=h.type;_n(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===Lt.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(vl):e=[vl])}h=h.return}e!==null&&hf(i,e,a,l),i.flags|=262144}function Pu(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mr(e){Or=e,qi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return cp(Or,e)}function zu(e,i){return Or===null&&Mr(e),cp(e,i)}function cp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},qi===null){if(e===null)throw Error(r(308));qi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else qi=qi.next=i;return a}var tb=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},eb=s.unstable_scheduleCallback,nb=s.unstable_NormalPriority,we={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ff(){return{controller:new tb,data:new Map,refCount:0}}function Qo(e){e.refCount--,e.refCount===0&&eb(nb,function(){e.controller.abort()})}var Yo=null,df=0,Ia=0,Ca=null;function ib(e,i){if(Yo===null){var a=Yo=[];df=0,Ia=pd(),Ca={status:"pending",value:void 0,then:function(l){a.push(l)}}}return df++,i.then(hp,hp),i}function hp(){if(--df===0&&Yo!==null){Ca!==null&&(Ca.status="fulfilled");var e=Yo;Yo=null,Ia=0,Ca=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function sb(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var fp=F.S;F.S=function(e,i){Xy=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&ib(e,i),fp!==null&&fp(e,i)};var Vr=V(null);function mf(){var e=Vr.current;return e!==null?e:te.pooledCache}function ju(e,i){i===null?it(Vr,Vr.current):it(Vr,i.pool)}function dp(){var e=mf();return e===null?null:{parent:we._currentValue,pool:e}}var Na=Error(r(460)),gf=Error(r(474)),Bu=Error(r(542)),qu={then:function(){}};function mp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function gp(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Kn,Kn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,yp(e),e;default:if(typeof i.status=="string")i.then(Kn,Kn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,yp(e),e}throw Ur=i,Na}}function kr(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ur=a,Na):a}}var Ur=null;function pp(){if(Ur===null)throw Error(r(459));var e=Ur;return Ur=null,e}function yp(e){if(e===Na||e===Bu)throw Error(r(483))}var xa=null,Xo=0;function Hu(e){var i=Xo;return Xo+=1,xa===null&&(xa=[]),gp(xa,e,i)}function $o(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Fu(e,i){throw i.$$typeof===x?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function _p(e){function i(k,M){if(e){var P=k.deletions;P===null?(k.deletions=[M],k.flags|=16):P.push(M)}}function a(k,M){if(!e)return null;for(;M!==null;)i(k,M),M=M.sibling;return null}function l(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function h(k,M){return k=ji(k,M),k.index=0,k.sibling=null,k}function d(k,M,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<M?(k.flags|=67108866,M):P):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function _(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,M,P,Q){return M===null||M.tag!==6?(M=nf(P,k.mode,Q),M.return=k,M):(M=h(M,P),M.return=k,M)}function C(k,M,P,Q){var ht=P.type;return ht===J?G(k,M,P.props.children,Q,P.key):M!==null&&(M.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&kr(ht)===M.type)?(M=h(M,P.props),$o(M,P),M.return=k,M):(M=Uu(P.type,P.key,P.props,null,k.mode,Q),$o(M,P),M.return=k,M)}function z(k,M,P,Q){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=sf(P,k.mode,Q),M.return=k,M):(M=h(M,P.children||[]),M.return=k,M)}function G(k,M,P,Q,ht){return M===null||M.tag!==7?(M=xr(P,k.mode,Q,ht),M.return=k,M):(M=h(M,P),M.return=k,M)}function Y(k,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=nf(""+M,k.mode,P),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case q:return P=Uu(M.type,M.key,M.props,null,k.mode,P),$o(P,M),P.return=k,P;case K:return M=sf(M,k.mode,P),M.return=k,M;case A:return M=kr(M),Y(k,M,P)}if(de(M)||U(M))return M=xr(M,k.mode,P,null),M.return=k,M;if(typeof M.then=="function")return Y(k,Hu(M),P);if(M.$$typeof===et)return Y(k,zu(k,M),P);Fu(k,M)}return null}function j(k,M,P,Q){var ht=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ht!==null?null:T(k,M,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case q:return P.key===ht?C(k,M,P,Q):null;case K:return P.key===ht?z(k,M,P,Q):null;case A:return P=kr(P),j(k,M,P,Q)}if(de(P)||U(P))return ht!==null?null:G(k,M,P,Q,null);if(typeof P.then=="function")return j(k,M,Hu(P),Q);if(P.$$typeof===et)return j(k,M,zu(k,P),Q);Fu(k,P)}return null}function H(k,M,P,Q,ht){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,T(M,k,""+Q,ht);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case q:return k=k.get(Q.key===null?P:Q.key)||null,C(M,k,Q,ht);case K:return k=k.get(Q.key===null?P:Q.key)||null,z(M,k,Q,ht);case A:return Q=kr(Q),H(k,M,P,Q,ht)}if(de(Q)||U(Q))return k=k.get(P)||null,G(M,k,Q,ht,null);if(typeof Q.then=="function")return H(k,M,P,Hu(Q),ht);if(Q.$$typeof===et)return H(k,M,P,zu(M,Q),ht);Fu(M,Q)}return null}function lt(k,M,P,Q){for(var ht=null,jt=null,ct=M,It=M=0,Ot=null;ct!==null&&It<P.length;It++){ct.index>It?(Ot=ct,ct=null):Ot=ct.sibling;var Bt=j(k,ct,P[It],Q);if(Bt===null){ct===null&&(ct=Ot);break}e&&ct&&Bt.alternate===null&&i(k,ct),M=d(Bt,M,It),jt===null?ht=Bt:jt.sibling=Bt,jt=Bt,ct=Ot}if(It===P.length)return a(k,ct),Ut&&Bi(k,It),ht;if(ct===null){for(;It<P.length;It++)ct=Y(k,P[It],Q),ct!==null&&(M=d(ct,M,It),jt===null?ht=ct:jt.sibling=ct,jt=ct);return Ut&&Bi(k,It),ht}for(ct=l(ct);It<P.length;It++)Ot=H(ct,k,It,P[It],Q),Ot!==null&&(e&&Ot.alternate!==null&&ct.delete(Ot.key===null?It:Ot.key),M=d(Ot,M,It),jt===null?ht=Ot:jt.sibling=Ot,jt=Ot);return e&&ct.forEach(function(js){return i(k,js)}),Ut&&Bi(k,It),ht}function pt(k,M,P,Q){if(P==null)throw Error(r(151));for(var ht=null,jt=null,ct=M,It=M=0,Ot=null,Bt=P.next();ct!==null&&!Bt.done;It++,Bt=P.next()){ct.index>It?(Ot=ct,ct=null):Ot=ct.sibling;var js=j(k,ct,Bt.value,Q);if(js===null){ct===null&&(ct=Ot);break}e&&ct&&js.alternate===null&&i(k,ct),M=d(js,M,It),jt===null?ht=js:jt.sibling=js,jt=js,ct=Ot}if(Bt.done)return a(k,ct),Ut&&Bi(k,It),ht;if(ct===null){for(;!Bt.done;It++,Bt=P.next())Bt=Y(k,Bt.value,Q),Bt!==null&&(M=d(Bt,M,It),jt===null?ht=Bt:jt.sibling=Bt,jt=Bt);return Ut&&Bi(k,It),ht}for(ct=l(ct);!Bt.done;It++,Bt=P.next())Bt=H(ct,k,It,Bt.value,Q),Bt!==null&&(e&&Bt.alternate!==null&&ct.delete(Bt.key===null?It:Bt.key),M=d(Bt,M,It),jt===null?ht=Bt:jt.sibling=Bt,jt=Bt);return e&&ct.forEach(function(gA){return i(k,gA)}),Ut&&Bi(k,It),ht}function Wt(k,M,P,Q){if(typeof P=="object"&&P!==null&&P.type===J&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case q:t:{for(var ht=P.key;M!==null;){if(M.key===ht){if(ht=P.type,ht===J){if(M.tag===7){a(k,M.sibling),Q=h(M,P.props.children),Q.return=k,k=Q;break t}}else if(M.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&kr(ht)===M.type){a(k,M.sibling),Q=h(M,P.props),$o(Q,P),Q.return=k,k=Q;break t}a(k,M);break}else i(k,M);M=M.sibling}P.type===J?(Q=xr(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=Uu(P.type,P.key,P.props,null,k.mode,Q),$o(Q,P),Q.return=k,k=Q)}return _(k);case K:t:{for(ht=P.key;M!==null;){if(M.key===ht)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){a(k,M.sibling),Q=h(M,P.children||[]),Q.return=k,k=Q;break t}else{a(k,M);break}else i(k,M);M=M.sibling}Q=sf(P,k.mode,Q),Q.return=k,k=Q}return _(k);case A:return P=kr(P),Wt(k,M,P,Q)}if(de(P))return lt(k,M,P,Q);if(U(P)){if(ht=U(P),typeof ht!="function")throw Error(r(150));return P=ht.call(P),pt(k,M,P,Q)}if(typeof P.then=="function")return Wt(k,M,Hu(P),Q);if(P.$$typeof===et)return Wt(k,M,zu(k,P),Q);Fu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(a(k,M.sibling),Q=h(M,P),Q.return=k,k=Q):(a(k,M),Q=nf(P,k.mode,Q),Q.return=k,k=Q),_(k)):a(k,M)}return function(k,M,P,Q){try{Xo=0;var ht=Wt(k,M,P,Q);return xa=null,ht}catch(ct){if(ct===Na||ct===Bu)throw ct;var jt=vn(29,ct,null,k.mode);return jt.lanes=Q,jt.return=k,jt}}}var Lr=_p(!0),vp=_p(!1),As=!1;function pf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ss(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ws(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ku(e),np(e,null,a),i}return Vu(e,l,i,a),ku(e)}function Jo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,So(e,a)}}function _f(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var vf=!1;function Zo(){if(vf){var e=Ca;if(e!==null)throw e}}function Wo(e,i,a,l){vf=!1;var h=e.updateQueue;As=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,z=C.next;C.next=null,_===null?d=z:_.next=z,_=C;var G=e.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==_&&(T===null?G.firstBaseUpdate=z:T.next=z,G.lastBaseUpdate=C))}if(d!==null){var Y=h.baseState;_=0,G=z=C=null,T=d;do{var j=T.lane&-536870913,H=j!==T.lane;if(H?(Dt&j)===j:(l&j)===j){j!==0&&j===Ia&&(vf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var lt=e,pt=T;j=i;var Wt=a;switch(pt.tag){case 1:if(lt=pt.payload,typeof lt=="function"){Y=lt.call(Wt,Y,j);break t}Y=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=pt.payload,j=typeof lt=="function"?lt.call(Wt,Y,j):lt,j==null)break t;Y=S({},Y,j);break t;case 2:As=!0}}j=T.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(z=G=H,C=Y):G=G.next=H,_|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),xs|=_,e.lanes=_,e.memoizedState=Y}}function Tp(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Ep(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Tp(a[e],i)}var Da=V(null),Gu=V(0);function bp(e,i){e=Zi,it(Gu,e),it(Da,i),Zi=e|i.baseLanes}function Tf(){it(Gu,Zi),it(Da,Da.current)}function Ef(){Zi=Gu.current,X(Da),X(Gu)}var Tn=V(null),Ln=null;function Rs(e){var i=e.alternate;it(pe,pe.current&1),it(Tn,e),Ln===null&&(i===null||Da.current!==null||i.memoizedState!==null)&&(Ln=e)}function bf(e){it(pe,pe.current),it(Tn,e),Ln===null&&(Ln=e)}function Ap(e){e.tag===22?(it(pe,pe.current),it(Tn,e),Ln===null&&(Ln=e)):Is()}function Is(){it(pe,pe.current),it(Tn,Tn.current)}function En(e){X(Tn),Ln===e&&(Ln=null),X(pe)}var pe=V(0);function Ku(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Cd(a)||Nd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Fi=0,wt=null,Jt=null,Re=null,Qu=!1,Oa=!1,Pr=!1,Yu=0,tl=0,Ma=null,rb=0;function ue(){throw Error(r(321))}function Af(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!_n(e[a],i[a]))return!1;return!0}function Sf(e,i,a,l,h,d){return Fi=d,wt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=e===null||e.memoizedState===null?ay:zf,Pr=!1,d=a(l,h),Pr=!1,Oa&&(d=wp(i,a,l,h)),Sp(e),d}function Sp(e){F.H=il;var i=Jt!==null&&Jt.next!==null;if(Fi=0,Re=Jt=wt=null,Qu=!1,tl=0,Ma=null,i)throw Error(r(300));e===null||Ie||(e=e.dependencies,e!==null&&Pu(e)&&(Ie=!0))}function wp(e,i,a,l){wt=e;var h=0;do{if(Oa&&(Ma=null),tl=0,Oa=!1,25<=h)throw Error(r(301));if(h+=1,Re=Jt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=oy,d=i(a,l)}while(Oa);return d}function ab(){var e=F.H,i=e.useState()[0];return i=typeof i.then=="function"?el(i):i,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(wt.flags|=1024),i}function wf(){var e=Yu!==0;return Yu=0,e}function Rf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function If(e){if(Qu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Qu=!1}Fi=0,Re=Jt=wt=null,Oa=!1,tl=Yu=0,Ma=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?wt.memoizedState=Re=e:Re=Re.next=e,Re}function ye(){if(Jt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var i=Re===null?wt.memoizedState:Re.next;if(i!==null)Re=i,Jt=e;else{if(e===null)throw wt.alternate===null?Error(r(467)):Error(r(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Re===null?wt.memoizedState=Re=e:Re=Re.next=e}return Re}function Xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(e){var i=tl;return tl+=1,Ma===null&&(Ma=[]),e=gp(Ma,e,i),i=wt,(Re===null?i.memoizedState:Re.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?ay:zf),e}function $u(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return el(e);if(e.$$typeof===et)return Ge(e)}throw Error(r(438,String(e)))}function Cf(e){var i=null,a=wt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Xu(),wt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=O;return i.index++,a}function Gi(e,i){return typeof i=="function"?i(e):i}function Ju(e){var i=ye();return Nf(i,Jt,e)}function Nf(e,i,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=_=null,C=null,z=i,G=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Dt&Y)===Y:(Fi&Y)===Y){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===Ia&&(G=!0);else if((Fi&j)===j){z=z.next,j===Ia&&(G=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=Y,_=d):C=C.next=Y,wt.lanes|=j,xs|=j;Y=z.action,Pr&&a(d,Y),d=z.hasEagerState?z.eagerState:a(d,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=j,_=d):C=C.next=j,wt.lanes|=Y,xs|=Y;z=z.next}while(z!==null&&z!==i);if(C===null?_=d:C.next=T,!_n(d,e.memoizedState)&&(Ie=!0,G&&(a=Ca,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function xf(e){var i=ye(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);_n(d,i.memoizedState)||(Ie=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Rp(e,i,a){var l=wt,h=ye(),d=Ut;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!_n((Jt||h).memoizedState,a);if(_&&(h.memoizedState=a,Ie=!0),h=h.queue,Mf(Np.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||Re!==null&&Re.memoizedState.tag&1){if(l.flags|=2048,Va(9,{destroy:void 0},Cp.bind(null,l,h,a,i),null),te===null)throw Error(r(349));d||(Fi&127)!==0||Ip(l,i,a)}return a}function Ip(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=wt.updateQueue,i===null?(i=Xu(),wt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Cp(e,i,a,l){i.value=a,i.getSnapshot=l,xp(i)&&Dp(e)}function Np(e,i,a){return a(function(){xp(i)&&Dp(e)})}function xp(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!_n(e,a)}catch{return!0}}function Dp(e){var i=Nr(e,2);i!==null&&dn(i,e,2)}function Df(e){var i=rn();if(typeof e=="function"){var a=e;if(e=a(),Pr){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},i}function Op(e,i,a,l){return e.baseState=a,Nf(e,Jt,typeof l=="function"?l:Gi)}function ob(e,i,a,l,h){if(tc(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Mp(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Mp(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=F.T,_={};F.T=_;try{var T=a(h,l),C=F.S;C!==null&&C(_,T),Vp(e,i,T)}catch(z){Of(e,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),F.T=d}}else try{d=a(h,l),Vp(e,i,d)}catch(z){Of(e,i,z)}}function Vp(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){kp(e,i,l)},function(l){return Of(e,i,l)}):kp(e,i,a)}function kp(e,i,a){i.status="fulfilled",i.value=a,Up(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Mp(e,a)))}function Of(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Up(i),i=i.next;while(i!==l)}e.action=null}function Up(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Lp(e,i){return i}function Pp(e,i){if(Ut){var a=te.formState;if(a!==null){t:{var l=wt;if(Ut){if(ne){e:{for(var h=ne,d=Un;h.nodeType!==8;){if(!d){h=null;break e}if(h=Pn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ne=Pn(h.nextSibling),l=h.data==="F!";break t}}Es(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lp,lastRenderedState:i},a.queue=l,a=iy.bind(null,wt,l),l.dispatch=a,l=Df(!1),d=Pf.bind(null,wt,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=ob.bind(null,wt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function zp(e){var i=ye();return jp(i,Jt,e)}function jp(e,i,a){if(i=Nf(e,i,Lp)[0],e=Ju(Gi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=el(i)}catch(_){throw _===Na?Bu:_}else l=i;i=ye();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(wt.flags|=2048,Va(9,{destroy:void 0},lb.bind(null,h,a),null)),[l,d,e]}function lb(e,i){e.action=i}function Bp(e){var i=ye(),a=Jt;if(a!==null)return jp(i,a,e);ye(),i=i.memoizedState,a=ye();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Va(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=wt.updateQueue,i===null&&(i=Xu(),wt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function qp(){return ye().memoizedState}function Zu(e,i,a,l){var h=rn();wt.flags|=e,h.memoizedState=Va(1|i,{destroy:void 0},a,l===void 0?null:l)}function Wu(e,i,a,l){var h=ye();l=l===void 0?null:l;var d=h.memoizedState.inst;Jt!==null&&l!==null&&Af(l,Jt.memoizedState.deps)?h.memoizedState=Va(i,d,a,l):(wt.flags|=e,h.memoizedState=Va(1|i,d,a,l))}function Hp(e,i){Zu(8390656,8,e,i)}function Mf(e,i){Wu(2048,8,e,i)}function ub(e){wt.flags|=4;var i=wt.updateQueue;if(i===null)i=Xu(),wt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Fp(e){var i=ye().memoizedState;return ub({ref:i,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Gp(e,i){return Wu(4,2,e,i)}function Kp(e,i){return Wu(4,4,e,i)}function Qp(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Yp(e,i,a){a=a!=null?a.concat([e]):null,Wu(4,4,Qp.bind(null,i,e),a)}function Vf(){}function Xp(e,i){var a=ye();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Af(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function $p(e,i){var a=ye();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Af(i,l[1]))return l[0];if(l=e(),Pr){In(!0);try{e()}finally{In(!1)}}return a.memoizedState=[l,i],l}function kf(e,i,a){return a===void 0||(Fi&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=Jy(),wt.lanes|=e,xs|=e,a)}function Jp(e,i,a,l){return _n(a,i)?a:Da.current!==null?(e=kf(e,a,l),_n(e,i)||(Ie=!0),e):(Fi&42)===0||(Fi&1073741824)!==0&&(Dt&261930)===0?(Ie=!0,e.memoizedState=a):(e=Jy(),wt.lanes|=e,xs|=e,i)}function Zp(e,i,a,l,h){var d=nt.p;nt.p=d!==0&&8>d?d:8;var _=F.T,T={};F.T=T,Pf(e,!1,i,a);try{var C=h(),z=F.S;if(z!==null&&z(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=sb(C,l);nl(e,i,G,Sn(e))}else nl(e,i,l,Sn(e))}catch(Y){nl(e,i,{then:function(){},status:"rejected",reason:Y},Sn())}finally{nt.p=d,_!==null&&T.types!==null&&(_.types=T.types),F.T=_}}function cb(){}function Uf(e,i,a,l){if(e.tag!==5)throw Error(r(476));var h=Wp(e).queue;Zp(e,h,i,dt,a===null?cb:function(){return ty(e),a(l)})}function Wp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:dt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function ty(e){var i=Wp(e);i.next===null&&(i=e.alternate.memoizedState),nl(e,i.next.queue,{},Sn())}function Lf(){return Ge(vl)}function ey(){return ye().memoizedState}function ny(){return ye().memoizedState}function hb(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();e=Ss(a);var l=ws(i,e,a);l!==null&&(dn(l,i,a),Jo(l,i,a)),i={cache:ff()},e.payload=i;return}i=i.return}}function fb(e,i,a){var l=Sn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},tc(e)?sy(i,a):(a=tf(e,i,a,l),a!==null&&(dn(a,e,l),ry(a,i,l)))}function iy(e,i,a){var l=Sn();nl(e,i,a,l)}function nl(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(tc(e))sy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,_n(T,_))return Vu(e,i,h,0),te===null&&Mu(),!1}catch{}if(a=tf(e,i,h,l),a!==null)return dn(a,e,l),ry(a,i,l),!0}return!1}function Pf(e,i,a,l){if(l={lane:2,revertLane:pd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},tc(e)){if(i)throw Error(r(479))}else i=tf(e,a,l,2),i!==null&&dn(i,e,2)}function tc(e){var i=e.alternate;return e===wt||i!==null&&i===wt}function sy(e,i){Oa=Qu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function ry(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,So(e,a)}}var il={readContext:Ge,use:$u,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};il.useEffectEvent=ue;var ay={readContext:Ge,use:$u,useCallback:function(e,i){return rn().memoizedState=[e,i===void 0?null:i],e},useContext:Ge,useEffect:Hp,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Zu(4194308,4,Qp.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Zu(4194308,4,e,i)},useInsertionEffect:function(e,i){Zu(4,2,e,i)},useMemo:function(e,i){var a=rn();i=i===void 0?null:i;var l=e();if(Pr){In(!0);try{e()}finally{In(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=rn();if(a!==void 0){var h=a(i);if(Pr){In(!0);try{a(i)}finally{In(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=fb.bind(null,wt,e),[l.memoizedState,e]},useRef:function(e){var i=rn();return e={current:e},i.memoizedState=e},useState:function(e){e=Df(e);var i=e.queue,a=iy.bind(null,wt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Vf,useDeferredValue:function(e,i){var a=rn();return kf(a,e,i)},useTransition:function(){var e=Df(!1);return e=Zp.bind(null,wt,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=wt,h=rn();if(Ut){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),te===null)throw Error(r(349));(Dt&127)!==0||Ip(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Hp(Np.bind(null,l,d,e),[e]),l.flags|=2048,Va(9,{destroy:void 0},Cp.bind(null,l,d,a,i),null),a},useId:function(){var e=rn(),i=te.identifierPrefix;if(Ut){var a=Ai,l=bi;a=(l&~(1<<32-me(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Yu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=rb++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Lf,useFormState:Pp,useActionState:Pp,useOptimistic:function(e){var i=rn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Pf.bind(null,wt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Cf,useCacheRefresh:function(){return rn().memoizedState=hb.bind(null,wt)},useEffectEvent:function(e){var i=rn(),a={impl:e};return i.memoizedState=a,function(){if((Ht&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},zf={readContext:Ge,use:$u,useCallback:Xp,useContext:Ge,useEffect:Mf,useImperativeHandle:Yp,useInsertionEffect:Gp,useLayoutEffect:Kp,useMemo:$p,useReducer:Ju,useRef:qp,useState:function(){return Ju(Gi)},useDebugValue:Vf,useDeferredValue:function(e,i){var a=ye();return Jp(a,Jt.memoizedState,e,i)},useTransition:function(){var e=Ju(Gi)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:el(e),i]},useSyncExternalStore:Rp,useId:ey,useHostTransitionStatus:Lf,useFormState:zp,useActionState:zp,useOptimistic:function(e,i){var a=ye();return Op(a,Jt,e,i)},useMemoCache:Cf,useCacheRefresh:ny};zf.useEffectEvent=Fp;var oy={readContext:Ge,use:$u,useCallback:Xp,useContext:Ge,useEffect:Mf,useImperativeHandle:Yp,useInsertionEffect:Gp,useLayoutEffect:Kp,useMemo:$p,useReducer:xf,useRef:qp,useState:function(){return xf(Gi)},useDebugValue:Vf,useDeferredValue:function(e,i){var a=ye();return Jt===null?kf(a,e,i):Jp(a,Jt.memoizedState,e,i)},useTransition:function(){var e=xf(Gi)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:el(e),i]},useSyncExternalStore:Rp,useId:ey,useHostTransitionStatus:Lf,useFormState:Bp,useActionState:Bp,useOptimistic:function(e,i){var a=ye();return Jt!==null?Op(a,Jt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Cf,useCacheRefresh:ny};oy.useEffectEvent=Fp;function jf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Bf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Sn(),h=Ss(l);h.payload=i,a!=null&&(h.callback=a),i=ws(e,h,l),i!==null&&(dn(i,e,l),Jo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Sn(),h=Ss(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ws(e,h,l),i!==null&&(dn(i,e,l),Jo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Sn(),l=Ss(a);l.tag=2,i!=null&&(l.callback=i),i=ws(e,l,a),i!==null&&(dn(i,e,a),Jo(i,e,a))}};function ly(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Ho(a,l)||!Ho(h,d):!0}function uy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Bf.enqueueReplaceState(i,i.state,null)}function zr(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function cy(e){Ou(e)}function hy(e){console.error(e)}function fy(e){Ou(e)}function ec(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function dy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function qf(e,i,a){return a=Ss(a),a.tag=3,a.payload={element:null},a.callback=function(){ec(e,i)},a}function my(e){return e=Ss(e),e.tag=3,e}function gy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){dy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){dy(i,a,l),typeof h!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function db(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ra(i,a,h,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return Ln===null?dc():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===qu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),dd(e,l,h)),!1;case 22:return a.flags|=65536,l===qu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),dd(e,l,h)),!1}throw Error(r(435,a.tag))}return dd(e,l,h),dc(),!1}if(Ut)return i=Tn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==of&&(e=Error(r(422),{cause:l}),Ko(Mn(e,a)))):(l!==of&&(i=Error(r(423),{cause:l}),Ko(Mn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Mn(l,a),h=qf(e.stateNode,l,h),_f(e,h),ce!==4&&(ce=2)),!1;var d=Error(r(520),{cause:l});if(d=Mn(d,a),hl===null?hl=[d]:hl.push(d),ce!==4&&(ce=2),i===null)return!0;l=Mn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=qf(a.stateNode,l,e),_f(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ds===null||!Ds.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=my(h),gy(h,e,a,l),_f(a,h),!1}a=a.return}while(a!==null);return!1}var Hf=Error(r(461)),Ie=!1;function Ke(e,i,a,l){i.child=e===null?vp(i,null,a,l):Lr(i,e.child,a,l)}function py(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Mr(i),l=Sf(e,i,a,_,d,h),T=wf(),e!==null&&!Ie?(Rf(e,i,h),Ki(e,i,h)):(Ut&&T&&rf(i),i.flags|=1,Ke(e,i,l,h),i.child)}function yy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!ef(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,_y(e,i,d,l,h)):(e=Uu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Jf(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ho,a(_,l)&&e.ref===i.ref)return Ki(e,i,h)}return i.flags|=1,e=ji(d,l),e.ref=i.ref,e.return=i,i.child=e}function _y(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Ho(d,l)&&e.ref===i.ref)if(Ie=!1,i.pendingProps=l=d,Jf(e,h))(e.flags&131072)!==0&&(Ie=!0);else return i.lanes=e.lanes,Ki(e,i,h)}return Ff(e,i,a,l,h)}function vy(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Ty(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&ju(i,d!==null?d.cachePool:null),d!==null?bp(i,d):Tf(),Ap(i);else return l=i.lanes=536870912,Ty(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ju(i,d.cachePool),bp(i,d),Is(),i.memoizedState=null):(e!==null&&ju(i,null),Tf(),Is());return Ke(e,i,h,a),i.child}function sl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ty(e,i,a,l,h){var d=mf();return d=d===null?null:{parent:we._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&ju(i,null),Tf(),Ap(i),e!==null&&Ra(e,i,l,!0),i.childLanes=h,null}function nc(e,i){return i=sc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Ey(e,i,a){return Lr(i,e.child,null,a),e=nc(i,i.pendingProps),e.flags|=2,En(i),i.memoizedState=null,e}function mb(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Ut){if(l.mode==="hidden")return e=nc(i,l),i.lanes=536870912,sl(null,e);if(bf(i),(e=ne)?(e=M_(e,Un),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:vs!==null?{id:bi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=sp(e),a.return=i,i.child=a,Fe=i,ne=null)):e=null,e===null)throw Es(i);return i.lanes=536870912,null}return nc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(bf(i),h)if(i.flags&256)i.flags&=-257,i=Ey(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(Ie||Ra(e,i,a,!1),h=(a&e.childLanes)!==0,Ie||h){if(l=te,l!==null&&(_=wo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Nr(e,_),dn(l,e,_),Hf;dc(),i=Ey(e,i,a)}else e=d.treeContext,ne=Pn(_.nextSibling),Fe=i,Ut=!0,Ts=null,Un=!1,e!==null&&op(i,e),i=nc(i,l),i.flags|=4096;return i}return e=ji(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function ic(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Ff(e,i,a,l,h){return Mr(i),a=Sf(e,i,a,l,void 0,h),l=wf(),e!==null&&!Ie?(Rf(e,i,h),Ki(e,i,h)):(Ut&&l&&rf(i),i.flags|=1,Ke(e,i,a,h),i.child)}function by(e,i,a,l,h,d){return Mr(i),i.updateQueue=null,a=wp(i,l,a,h),Sp(e),l=wf(),e!==null&&!Ie?(Rf(e,i,d),Ki(e,i,d)):(Ut&&l&&rf(i),i.flags|=1,Ke(e,i,a,d),i.child)}function Ay(e,i,a,l,h){if(Mr(i),i.stateNode===null){var d=ba,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ge(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Bf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},pf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ge(_):ba,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(jf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Bf.enqueueReplaceState(d,d.state,null),Wo(i,l,d,h),Zo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,C=zr(a,T);d.props=C;var z=d.context,G=a.contextType;_=ba,typeof G=="object"&&G!==null&&(_=Ge(G));var Y=a.getDerivedStateFromProps;G=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==_)&&uy(i,d,l,_),As=!1;var j=i.memoizedState;d.state=j,Wo(i,l,d,h),Zo(),z=i.memoizedState,T||j!==z||As?(typeof Y=="function"&&(jf(i,a,Y,l),z=i.memoizedState),(C=As||ly(i,a,C,l,j,z,_))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,yf(e,i),_=i.memoizedProps,G=zr(a,_),d.props=G,Y=i.pendingProps,j=d.context,z=a.contextType,C=ba,typeof z=="object"&&z!==null&&(C=Ge(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Y||j!==C)&&uy(i,d,l,C),As=!1,j=i.memoizedState,d.state=j,Wo(i,l,d,h),Zo();var H=i.memoizedState;_!==Y||j!==H||As||e!==null&&e.dependencies!==null&&Pu(e.dependencies)?(typeof T=="function"&&(jf(i,a,T,l),H=i.memoizedState),(G=As||ly(i,a,G,l,j,H,C)||e!==null&&e.dependencies!==null&&Pu(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=C,l=G):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,ic(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Lr(i,e.child,null,h),i.child=Lr(i,null,a,h)):Ke(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Ki(e,i,h),e}function Sy(e,i,a,l){return Dr(),i.flags|=256,Ke(e,i,a,l),i.child}var Gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kf(e){return{baseLanes:e,cachePool:dp()}}function Qf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=An),e}function wy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ut){if(h?Rs(i):Is(),(e=ne)?(e=M_(e,Un),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:vs!==null?{id:bi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=sp(e),a.return=i,i.child=a,Fe=i,ne=null)):e=null,e===null)throw Es(i);return Nd(e)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Is(),h=i.mode,T=sc({mode:"hidden",children:T},h),l=xr(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Kf(a),l.childLanes=Qf(e,_,a),i.memoizedState=Gf,sl(null,l)):(Rs(i),Yf(i,T))}var C=e.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(Rs(i),i.flags&=-257,i=Xf(e,i,a)):i.memoizedState!==null?(Is(),i.child=e.child,i.flags|=128,i=null):(Is(),T=l.fallback,h=i.mode,l=sc({mode:"visible",children:l.children},h),T=xr(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Lr(i,e.child,null,a),l=i.child,l.memoizedState=Kf(a),l.childLanes=Qf(e,_,a),i.memoizedState=Gf,i=sl(null,l));else if(Rs(i),Nd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(r(419)),l.stack="",l.digest=_,Ko({value:l,source:null,stack:null}),i=Xf(e,i,a)}else if(Ie||Ra(e,i,a,!1),_=(a&e.childLanes)!==0,Ie||_){if(_=te,_!==null&&(l=wo(_,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,Nr(e,l),dn(_,e,l),Hf;Cd(T)||dc(),i=Xf(e,i,a)}else Cd(T)?(i.flags|=192,i.child=e.child,i=null):(e=C.treeContext,ne=Pn(T.nextSibling),Fe=i,Ut=!0,Ts=null,Un=!1,e!==null&&op(i,e),i=Yf(i,l.children),i.flags|=4096);return i}return h?(Is(),T=l.fallback,h=i.mode,C=e.child,z=C.sibling,l=ji(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?T=ji(z,T):(T=xr(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,sl(null,l),l=i.child,T=e.child.memoizedState,T===null?T=Kf(a):(h=T.cachePool,h!==null?(C=we._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=dp(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=Qf(e,_,a),i.memoizedState=Gf,sl(e.child,l)):(Rs(i),a=e.child,e=a.sibling,a=ji(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function Yf(e,i){return i=sc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function sc(e,i){return e=vn(22,e,null,i),e.lanes=0,e}function Xf(e,i,a){return Lr(i,e.child,null,a),e=Yf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Ry(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),cf(e.return,i,a)}function $f(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Iy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=pe.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,it(pe,_),Ke(e,i,l,a),l=Ut?Go:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ry(e,a,i);else if(e.tag===19)Ry(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Ku(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),$f(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Ku(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}$f(i,!0,a,null,d,l);break;case"together":$f(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ki(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),xs|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ra(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=ji(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=ji(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Jf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Pu(e)))}function gb(e,i,a){switch(i.tag){case 3:Ve(i,i.stateNode.containerInfo),bs(i,we,e.memoizedState.cache),Dr();break;case 27:case 5:hr(i);break;case 4:Ve(i,i.stateNode.containerInfo);break;case 10:bs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,bf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Rs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?wy(e,i,a):(Rs(i),e=Ki(e,i,a),e!==null?e.sibling:null);Rs(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ra(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Iy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(pe,pe.current),l)break;return null;case 22:return i.lanes=0,vy(e,i,a,i.pendingProps);case 24:bs(i,we,e.memoizedState.cache)}return Ki(e,i,a)}function Cy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ie=!0;else{if(!Jf(e,a)&&(i.flags&128)===0)return Ie=!1,gb(e,i,a);Ie=(e.flags&131072)!==0}else Ie=!1,Ut&&(i.flags&1048576)!==0&&ap(i,Go,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=kr(i.elementType),i.type=e,typeof e=="function")ef(e)?(l=zr(e,l),i.tag=1,i=Ay(null,i,e,l,a)):(i.tag=0,i=Ff(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===gt){i.tag=11,i=py(null,i,e,l,a);break t}else if(h===I){i.tag=14,i=yy(null,i,e,l,a);break t}}throw i=Xt(e)||e,Error(r(306,i,""))}}return i;case 0:return Ff(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=zr(l,i.pendingProps),Ay(e,i,l,h,a);case 3:t:{if(Ve(i,i.stateNode.containerInfo),e===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,yf(e,i),Wo(i,l,null,a);var _=i.memoizedState;if(l=_.cache,bs(i,we,l),l!==d.cache&&hf(i,[we],a,!0),Zo(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Sy(e,i,l,a);break t}else if(l!==h){h=Mn(Error(r(424)),i),Ko(h),i=Sy(e,i,l,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ne=Pn(e.firstChild),Fe=i,Ut=!0,Ts=null,Un=!0,a=vp(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Dr(),l===h){i=Ki(e,i,a);break t}Ke(e,i,l,a)}i=i.child}return i;case 26:return ic(e,i),e===null?(a=z_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ut||(a=i.type,e=i.pendingProps,l=Tc(Rt.current).createElement(a),l[be]=i,l[Pe]=e,Qe(l,a,e),Ae(l),i.stateNode=l):i.memoizedState=z_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return hr(i),e===null&&Ut&&(l=i.stateNode=U_(i.type,i.pendingProps,Rt.current),Fe=i,Un=!0,h=ne,ks(i.type)?(xd=h,ne=Pn(l.firstChild)):ne=h),Ke(e,i,i.pendingProps.children,a),ic(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ut&&((h=l=ne)&&(l=Gb(l,i.type,i.pendingProps,Un),l!==null?(i.stateNode=l,Fe=i,ne=Pn(l.firstChild),Un=!1,h=!0):h=!1),h||Es(i)),hr(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,wd(h,d)?l=null:_!==null&&wd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Sf(e,i,ab,null,null,a),vl._currentValue=h),ic(e,i),Ke(e,i,l,a),i.child;case 6:return e===null&&Ut&&((e=a=ne)&&(a=Kb(a,i.pendingProps,Un),a!==null?(i.stateNode=a,Fe=i,ne=null,e=!0):e=!1),e||Es(i)),null;case 13:return wy(e,i,a);case 4:return Ve(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Lr(i,null,l,a):Ke(e,i,l,a),i.child;case 11:return py(e,i,i.type,i.pendingProps,a);case 7:return Ke(e,i,i.pendingProps,a),i.child;case 8:return Ke(e,i,i.pendingProps.children,a),i.child;case 12:return Ke(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,bs(i,i.type,l.value),Ke(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Mr(i),h=Ge(h),l=l(h),i.flags|=1,Ke(e,i,l,a),i.child;case 14:return yy(e,i,i.type,i.pendingProps,a);case 15:return _y(e,i,i.type,i.pendingProps,a);case 19:return Iy(e,i,a);case 31:return mb(e,i,a);case 22:return vy(e,i,a,i.pendingProps);case 24:return Mr(i),l=Ge(we),e===null?(h=mf(),h===null&&(h=te,d=ff(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},pf(i),bs(i,we,h)):((e.lanes&a)!==0&&(yf(e,i),Wo(i,null,null,a),Zo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),bs(i,we,l)):(l=d.cache,bs(i,we,l),l!==h.cache&&hf(i,[we],a,!0))),Ke(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Qi(e){e.flags|=4}function Zf(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(e_())e.flags|=8192;else throw Ur=qu,gf}else e.flags&=-16777217}function Ny(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!F_(i))if(e_())e.flags|=8192;else throw Ur=qu,gf}function rc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?hu():536870912,e.lanes|=i,Pa|=i)}function rl(e,i){if(!Ut)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ie(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function pb(e,i,a){var l=i.pendingProps;switch(af(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(i),null;case 1:return ie(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Hi(we),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(wa(i)?Qi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,lf())),ie(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(Qi(i),d!==null?(ie(i),Ny(i,d)):(ie(i),Zf(i,h,null,l,a))):d?d!==e.memoizedState?(Qi(i),ie(i),Ny(i,d)):(ie(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&Qi(i),ie(i),Zf(i,h,e,l,a)),null;case 27:if(ia(i),a=Rt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ie(i),null}e=ot.current,wa(i)?lp(i):(e=U_(h,l,a),i.stateNode=e,Qi(i))}return ie(i),null;case 5:if(ia(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ie(i),null}if(d=ot.current,wa(i))lp(i);else{var _=Tc(Rt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[be]=i,d[Pe]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Qe(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Qi(i)}}return ie(i),Zf(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Qi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(e=Rt.current,wa(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=Fe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[be]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||w_(e.nodeValue,a)),e||Es(i,!0)}else e=Tc(e).createTextNode(l),e[be]=i,i.stateNode=e}return ie(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=wa(i),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[be]=i}else Dr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),e=!1}else a=lf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(En(i),i):(En(i),null);if((i.flags&128)!==0)throw Error(r(558))}return ie(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=wa(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[be]=i}else Dr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),h=!1}else h=lf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(En(i),i):(En(i),null)}return En(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),rc(i,i.updateQueue),ie(i),null);case 4:return re(),e===null&&Td(i.stateNode.containerInfo),ie(i),null;case 10:return Hi(i.type),ie(i),null;case 19:if(X(pe),l=i.memoizedState,l===null)return ie(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)rl(l,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Ku(e),d!==null){for(i.flags|=128,rl(l,!1),e=d.updateQueue,i.updateQueue=e,rc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)ip(a,e),a=a.sibling;return it(pe,pe.current&1|2),Ut&&Bi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&nn()>cc&&(i.flags|=128,h=!0,rl(l,!1),i.lanes=4194304)}else{if(!h)if(e=Ku(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,rc(i,e),rl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ut)return ie(i),null}else 2*nn()-l.renderingStartTime>cc&&a!==536870912&&(i.flags|=128,h=!0,rl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=nn(),e.sibling=null,a=pe.current,it(pe,h?a&1|2:a&1),Ut&&Bi(i,l.treeForkCount),e):(ie(i),null);case 22:case 23:return En(i),Ef(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ie(i),i.subtreeFlags&6&&(i.flags|=8192)):ie(i),a=i.updateQueue,a!==null&&rc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&X(Vr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Hi(we),ie(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function yb(e,i){switch(af(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Hi(we),re(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ia(i),null;case 31:if(i.memoizedState!==null){if(En(i),i.alternate===null)throw Error(r(340));Dr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(En(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Dr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return X(pe),null;case 4:return re(),null;case 10:return Hi(i.type),null;case 22:case 23:return En(i),Ef(),e!==null&&X(Vr),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Hi(we),null;case 25:return null;default:return null}}function xy(e,i){switch(af(i),i.tag){case 3:Hi(we),re();break;case 26:case 27:case 5:ia(i);break;case 4:re();break;case 31:i.memoizedState!==null&&En(i);break;case 13:En(i);break;case 19:X(pe);break;case 10:Hi(i.type);break;case 22:case 23:En(i),Ef(),e!==null&&X(Vr);break;case 24:Hi(we)}}function al(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Yt(i,i.return,T)}}function Cs(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var C=a,z=T;try{z()}catch(G){Yt(h,C,G)}}}l=l.next}while(l!==d)}}catch(G){Yt(i,i.return,G)}}function Dy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Ep(i,a)}catch(l){Yt(e,e.return,l)}}}function Oy(e,i,a){a.props=zr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(e,i,l)}}function ol(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Yt(e,i,h)}}function Si(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,i,h)}else a.current=null}function My(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function Wf(e,i,a){try{var l=e.stateNode;zb(l,e.type,a,i),l[Pe]=i}catch(h){Yt(e,e.return,h)}}function Vy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ks(e.type)||e.tag===4}function td(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Vy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ks(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ed(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Kn));else if(l!==4&&(l===27&&ks(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(ed(e,i,a),e=e.sibling;e!==null;)ed(e,i,a),e=e.sibling}function ac(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&ks(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ac(e,i,a),e=e.sibling;e!==null;)ac(e,i,a),e=e.sibling}function ky(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Qe(i,l,a),i[be]=e,i[Pe]=a}catch(d){Yt(e,e.return,d)}}var Yi=!1,Ce=!1,nd=!1,Uy=typeof WeakSet=="function"?WeakSet:Set,je=null;function _b(e,i){if(e=e.containerInfo,Ad=Ic,e=Yg(e),Yh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,C=-1,z=0,G=0,Y=e,j=null;e:for(;;){for(var H;Y!==a||h!==0&&Y.nodeType!==3||(T=_+h),Y!==d||l!==0&&Y.nodeType!==3||(C=_+l),Y.nodeType===3&&(_+=Y.nodeValue.length),(H=Y.firstChild)!==null;)j=Y,Y=H;for(;;){if(Y===e)break e;if(j===a&&++z===h&&(T=_),j===d&&++G===l&&(C=_),(H=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=H}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sd={focusedElem:e,selectionRange:a},Ic=!1,je=i;je!==null;)if(i=je,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,je=e;else for(;je!==null;){switch(i=je,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var lt=zr(a.type,h);e=l.getSnapshotBeforeUpdate(lt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Yt(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Id(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Id(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,je=e;break}je=i.return}}function Ly(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:$i(e,a),l&4&&al(5,a);break;case 1:if($i(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Yt(a,a.return,_)}else{var h=zr(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Yt(a,a.return,_)}}l&64&&Dy(a),l&512&&ol(a,a.return);break;case 3:if($i(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ep(e,i)}catch(_){Yt(a,a.return,_)}}break;case 27:i===null&&l&4&&ky(a);case 26:case 5:$i(e,a),i===null&&l&4&&My(a),l&512&&ol(a,a.return);break;case 12:$i(e,a);break;case 31:$i(e,a),l&4&&jy(e,a);break;case 13:$i(e,a),l&4&&By(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Ib.bind(null,a),Qb(e,a))));break;case 22:if(l=a.memoizedState!==null||Yi,!l){i=i!==null&&i.memoizedState!==null||Ce,h=Yi;var d=Ce;Yi=l,(Ce=i)&&!d?Ji(e,a,(a.subtreeFlags&8772)!==0):$i(e,a),Yi=h,Ce=d}break;case 30:break;default:$i(e,a)}}function Py(e){var i=e.alternate;i!==null&&(e.alternate=null,Py(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&la(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,un=!1;function Xi(e,i,a){for(a=a.child;a!==null;)zy(e,i,a),a=a.sibling}function zy(e,i,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:Ce||Si(a,i),Xi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ce||Si(a,i);var l=oe,h=un;ks(a.type)&&(oe=a.stateNode,un=!1),Xi(e,i,a),pl(a.stateNode),oe=l,un=h;break;case 5:Ce||Si(a,i);case 6:if(l=oe,h=un,oe=null,Xi(e,i,a),oe=l,un=h,oe!==null)if(un)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(d){Yt(a,i,d)}else try{oe.removeChild(a.stateNode)}catch(d){Yt(a,i,d)}break;case 18:oe!==null&&(un?(e=oe,D_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ka(e)):D_(oe,a.stateNode));break;case 4:l=oe,h=un,oe=a.stateNode.containerInfo,un=!0,Xi(e,i,a),oe=l,un=h;break;case 0:case 11:case 14:case 15:Cs(2,a,i),Ce||Cs(4,a,i),Xi(e,i,a);break;case 1:Ce||(Si(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Oy(a,i,l)),Xi(e,i,a);break;case 21:Xi(e,i,a);break;case 22:Ce=(l=Ce)||a.memoizedState!==null,Xi(e,i,a),Ce=l;break;default:Xi(e,i,a)}}function jy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ka(e)}catch(a){Yt(i,i.return,a)}}}function By(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ka(e)}catch(a){Yt(i,i.return,a)}}function vb(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Uy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Uy),i;default:throw Error(r(435,e.tag))}}function oc(e,i){var a=vb(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=Cb.bind(null,e,l);l.then(h,h)}})}function cn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(ks(T.type)){oe=T.stateNode,un=!1;break t}break;case 5:oe=T.stateNode,un=!1;break t;case 3:case 4:oe=T.stateNode.containerInfo,un=!0;break t}T=T.return}if(oe===null)throw Error(r(160));zy(d,_,h),oe=null,un=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)qy(i,e),i=i.sibling}var Zn=null;function qy(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(i,e),hn(e),l&4&&(Cs(3,e,e.return),al(3,e),Cs(5,e,e.return));break;case 1:cn(i,e),hn(e),l&512&&(Ce||a===null||Si(a,a.return)),l&64&&Yi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Zn;if(cn(i,e),hn(e),l&512&&(Ce||a===null||Si(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ci]||d[be]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Qe(d,l,a),d[be]=e,Ae(d),l=d;break t;case"link":var _=q_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(l),Qe(d,l,a),h.head.appendChild(d);break;case"meta":if(_=q_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(l),Qe(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[be]=e,Ae(d),l=d}e.stateNode=l}else H_(h,e.type,e.stateNode);else e.stateNode=B_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?H_(h,e.type,e.stateNode):B_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Wf(e,e.memoizedProps,a.memoizedProps)}break;case 27:cn(i,e),hn(e),l&512&&(Ce||a===null||Si(a,a.return)),a!==null&&l&4&&Wf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,e),hn(e),l&512&&(Ce||a===null||Si(a,a.return)),e.flags&32){h=e.stateNode;try{ln(h,"")}catch(lt){Yt(e,e.return,lt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Wf(e,h,a!==null?a.memoizedProps:h)),l&1024&&(nd=!0);break;case 6:if(cn(i,e),hn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(lt){Yt(e,e.return,lt)}}break;case 3:if(Ac=null,h=Zn,Zn=Ec(i.containerInfo),cn(i,e),Zn=h,hn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ka(i.containerInfo)}catch(lt){Yt(e,e.return,lt)}nd&&(nd=!1,Hy(e));break;case 4:l=Zn,Zn=Ec(e.stateNode.containerInfo),cn(i,e),hn(e),Zn=l;break;case 12:cn(i,e),hn(e);break;case 31:cn(i,e),hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,oc(e,l)));break;case 13:cn(i,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(uc=nn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,oc(e,l)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=Yi,G=Ce;if(Yi=z||h,Ce=G||C,cn(i,e),Ce=G,Yi=z,hn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||Yi||Ce||jr(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=C.stateNode;var Y=C.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(lt){Yt(C,C.return,lt)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(lt){Yt(C,C.return,lt)}}}else if(i.tag===18){if(a===null){C=i;try{var H=C.stateNode;h?O_(H,!0):O_(C.stateNode,!1)}catch(lt){Yt(C,C.return,lt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,oc(e,a))));break;case 19:cn(i,e),hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,oc(e,l)));break;case 30:break;case 21:break;default:cn(i,e),hn(e)}}function hn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Vy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=td(e);ac(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(ln(_,""),a.flags&=-33);var T=td(e);ac(e,T,_);break;case 3:case 4:var C=a.stateNode.containerInfo,z=td(e);ed(e,z,C);break;default:throw Error(r(161))}}catch(G){Yt(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Hy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Hy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function $i(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ly(e,i.alternate,i),i=i.sibling}function jr(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Cs(4,i,i.return),jr(i);break;case 1:Si(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Oy(i,i.return,a),jr(i);break;case 27:pl(i.stateNode);case 26:case 5:Si(i,i.return),jr(i);break;case 22:i.memoizedState===null&&jr(i);break;case 30:jr(i);break;default:jr(i)}e=e.sibling}}function Ji(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Ji(h,d,a),al(4,d);break;case 1:if(Ji(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Yt(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Tp(C[h],T)}catch(z){Yt(l,l.return,z)}}a&&_&64&&Dy(d),ol(d,d.return);break;case 27:ky(d);case 26:case 5:Ji(h,d,a),a&&l===null&&_&4&&My(d),ol(d,d.return);break;case 12:Ji(h,d,a);break;case 31:Ji(h,d,a),a&&_&4&&jy(h,d);break;case 13:Ji(h,d,a),a&&_&4&&By(h,d);break;case 22:d.memoizedState===null&&Ji(h,d,a),ol(d,d.return);break;case 30:break;default:Ji(h,d,a)}i=i.sibling}}function id(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Qo(a))}function sd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Qo(e))}function Wn(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Fy(e,i,a,l),i=i.sibling}function Fy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Wn(e,i,a,l),h&2048&&al(9,i);break;case 1:Wn(e,i,a,l);break;case 3:Wn(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Qo(e)));break;case 12:if(h&2048){Wn(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Yt(i,i.return,C)}}else Wn(e,i,a,l);break;case 31:Wn(e,i,a,l);break;case 13:Wn(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Wn(e,i,a,l):ll(e,i):d._visibility&2?Wn(e,i,a,l):(d._visibility|=2,ka(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&id(_,i);break;case 24:Wn(e,i,a,l),h&2048&&sd(i.alternate,i);break;default:Wn(e,i,a,l)}}function ka(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,T=a,C=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:ka(d,_,T,C,h),al(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?ka(d,_,T,C,h):ll(d,_):(G._visibility|=2,ka(d,_,T,C,h)),h&&z&2048&&id(_.alternate,_);break;case 24:ka(d,_,T,C,h),h&&z&2048&&sd(_.alternate,_);break;default:ka(d,_,T,C,h)}i=i.sibling}}function ll(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:ll(a,l),h&2048&&id(l.alternate,l);break;case 24:ll(a,l),h&2048&&sd(l.alternate,l);break;default:ll(a,l)}i=i.sibling}}var ul=8192;function Ua(e,i,a){if(e.subtreeFlags&ul)for(e=e.child;e!==null;)Gy(e,i,a),e=e.sibling}function Gy(e,i,a){switch(e.tag){case 26:Ua(e,i,a),e.flags&ul&&e.memoizedState!==null&&rA(a,Zn,e.memoizedState,e.memoizedProps);break;case 5:Ua(e,i,a);break;case 3:case 4:var l=Zn;Zn=Ec(e.stateNode.containerInfo),Ua(e,i,a),Zn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ul,ul=16777216,Ua(e,i,a),ul=l):Ua(e,i,a));break;default:Ua(e,i,a)}}function Ky(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function cl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];je=l,Yy(l,e)}Ky(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qy(e),e=e.sibling}function Qy(e){switch(e.tag){case 0:case 11:case 15:cl(e),e.flags&2048&&Cs(9,e,e.return);break;case 3:cl(e);break;case 12:cl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,lc(e)):cl(e);break;default:cl(e)}}function lc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];je=l,Yy(l,e)}Ky(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Cs(8,i,i.return),lc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,lc(i));break;default:lc(i)}e=e.sibling}}function Yy(e,i){for(;je!==null;){var a=je;switch(a.tag){case 0:case 11:case 15:Cs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Qo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,je=l;else t:for(a=e;je!==null;){l=je;var h=l.sibling,d=l.return;if(Py(l),l===a){je=null;break t}if(h!==null){h.return=d,je=h;break t}je=d}}}var Tb={getCacheForType:function(e){var i=Ge(we),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return Ge(we).controller.signal}},Eb=typeof WeakMap=="function"?WeakMap:Map,Ht=0,te=null,Nt=null,Dt=0,Qt=0,bn=null,Ns=!1,La=!1,rd=!1,Zi=0,ce=0,xs=0,Br=0,ad=0,An=0,Pa=0,hl=null,fn=null,od=!1,uc=0,Xy=0,cc=1/0,hc=null,Ds=null,Ue=0,Os=null,za=null,Wi=0,ld=0,ud=null,$y=null,fl=0,cd=null;function Sn(){return(Ht&2)!==0&&Dt!==0?Dt&-Dt:F.T!==null?pd():fu()}function Jy(){if(An===0)if((Dt&536870912)===0||Ut){var e=mr;mr<<=1,(mr&3932160)===0&&(mr=262144),An=e}else An=536870912;return e=Tn.current,e!==null&&(e.flags|=32),An}function dn(e,i,a){(e===te&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(ja(e,0),Ms(e,Dt,An,!1)),gr(e,a),((Ht&2)===0||e!==te)&&(e===te&&((Ht&2)===0&&(Br|=a),ce===4&&Ms(e,Dt,An,!1)),wi(e))}function Zy(e,i,a){if((Ht&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Hn(e,i),h=l?Sb(e,i):fd(e,i,!0),d=l;do{if(h===0){La&&!l&&Ms(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!bb(a)){h=fd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var T=e;h=hl;var C=T.current.memoizedState.isDehydrated;if(C&&(ja(T,_).flags|=256),_=fd(T,_,!1),_!==2){if(rd&&!C){T.errorRecoveryDisabledLanes|=d,Br|=d,h=4;break t}d=fn,fn=h,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){ja(e,0),Ms(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ms(l,i,An,!Ns);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=uc+300-nn(),10<h)){if(Ms(l,i,An,!Ns),oi(l,0,!0)!==0)break t;Wi=i,l.timeoutHandle=N_(Wy.bind(null,l,a,fn,hc,od,i,An,Br,Pa,Ns,d,"Throttled",-0,0),h);break t}Wy(l,a,fn,hc,od,i,An,Br,Pa,Ns,d,null,-0,0)}}break}while(!0);wi(e)}function Wy(e,i,a,l,h,d,_,T,C,z,G,Y,j,H){if(e.timeoutHandle=-1,Y=i.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},Gy(i,d,Y);var lt=(d&62914560)===d?uc-nn():(d&4194048)===d?Xy-nn():0;if(lt=aA(Y,lt),lt!==null){Wi=d,e.cancelPendingCommit=lt(o_.bind(null,e,i,d,a,l,h,_,T,C,G,Y,null,j,H)),Ms(e,d,_,!z);return}}o_(e,i,d,a,l,h,_,T,C)}function bb(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ms(e,i,a,l){i&=~ad,i&=~Br,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-me(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&pr(e,a,i)}function fc(){return(Ht&6)===0?(dl(0),!1):!0}function hd(){if(Nt!==null){if(Qt===0)var e=Nt.return;else e=Nt,qi=Or=null,If(e),xa=null,Xo=0,e=Nt;for(;e!==null;)xy(e.alternate,e),e=e.return;Nt=null}}function ja(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,qb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Wi=0,hd(),te=e,Nt=a=ji(e.current,null),Dt=i,Qt=0,bn=null,Ns=!1,La=Hn(e,i),rd=!1,Pa=An=ad=Br=xs=ce=0,fn=hl=null,od=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-me(l),d=1<<h;i|=e[h],l&=~d}return Zi=i,Mu(),a}function t_(e,i){wt=null,F.H=il,i===Na||i===Bu?(i=pp(),Qt=3):i===gf?(i=pp(),Qt=4):Qt=i===Hf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Nt===null&&(ce=1,ec(e,Mn(i,e.current)))}function e_(){var e=Tn.current;return e===null?!0:(Dt&4194048)===Dt?Ln===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===Ln:!1}function n_(){var e=F.H;return F.H=il,e===null?il:e}function i_(){var e=F.A;return F.A=Tb,e}function dc(){ce=4,Ns||(Dt&4194048)!==Dt&&Tn.current!==null||(La=!0),(xs&134217727)===0&&(Br&134217727)===0||te===null||Ms(te,Dt,An,!1)}function fd(e,i,a){var l=Ht;Ht|=2;var h=n_(),d=i_();(te!==e||Dt!==i)&&(hc=null,ja(e,i)),i=!1;var _=ce;t:do try{if(Qt!==0&&Nt!==null){var T=Nt,C=bn;switch(Qt){case 8:hd(),_=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(i=!0);var z=Qt;if(Qt=0,bn=null,Ba(e,T,C,z),a&&La){_=0;break t}break;default:z=Qt,Qt=0,bn=null,Ba(e,T,C,z)}}Ab(),_=ce;break}catch(G){t_(e,G)}while(!0);return i&&e.shellSuspendCounter++,qi=Or=null,Ht=l,F.H=h,F.A=d,Nt===null&&(te=null,Dt=0,Mu()),_}function Ab(){for(;Nt!==null;)s_(Nt)}function Sb(e,i){var a=Ht;Ht|=2;var l=n_(),h=i_();te!==e||Dt!==i?(hc=null,cc=nn()+500,ja(e,i)):La=Hn(e,i);t:do try{if(Qt!==0&&Nt!==null){i=Nt;var d=bn;e:switch(Qt){case 1:Qt=0,bn=null,Ba(e,i,d,1);break;case 2:case 9:if(mp(d)){Qt=0,bn=null,r_(i);break}i=function(){Qt!==2&&Qt!==9||te!==e||(Qt=7),wi(e)},d.then(i,i);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:mp(d)?(Qt=0,bn=null,r_(i)):(Qt=0,bn=null,Ba(e,i,d,7));break;case 5:var _=null;switch(Nt.tag){case 26:_=Nt.memoizedState;case 5:case 27:var T=Nt;if(_?F_(_):T.stateNode.complete){Qt=0,bn=null;var C=T.sibling;if(C!==null)Nt=C;else{var z=T.return;z!==null?(Nt=z,mc(z)):Nt=null}break e}}Qt=0,bn=null,Ba(e,i,d,5);break;case 6:Qt=0,bn=null,Ba(e,i,d,6);break;case 8:hd(),ce=6;break t;default:throw Error(r(462))}}wb();break}catch(G){t_(e,G)}while(!0);return qi=Or=null,F.H=l,F.A=h,Ht=a,Nt!==null?0:(te=null,Dt=0,Mu(),ce)}function wb(){for(;Nt!==null&&!Bh();)s_(Nt)}function s_(e){var i=Cy(e.alternate,e,Zi);e.memoizedProps=e.pendingProps,i===null?mc(e):Nt=i}function r_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=by(a,i,i.pendingProps,i.type,void 0,Dt);break;case 11:i=by(a,i,i.pendingProps,i.type.render,i.ref,Dt);break;case 5:If(i);default:xy(a,i),i=Nt=ip(i,Zi),i=Cy(a,i,Zi)}e.memoizedProps=e.pendingProps,i===null?mc(e):Nt=i}function Ba(e,i,a,l){qi=Or=null,If(i),xa=null,Xo=0;var h=i.return;try{if(db(e,h,i,a,Dt)){ce=1,ec(e,Mn(a,e.current)),Nt=null;return}}catch(d){if(h!==null)throw Nt=h,d;ce=1,ec(e,Mn(a,e.current)),Nt=null;return}i.flags&32768?(Ut||l===1?e=!0:La||(Dt&536870912)!==0?e=!1:(Ns=e=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),a_(i,e)):mc(i)}function mc(e){var i=e;do{if((i.flags&32768)!==0){a_(i,Ns);return}e=i.return;var a=pb(i.alternate,i,Zi);if(a!==null){Nt=a;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=e}while(i!==null);ce===0&&(ce=5)}function a_(e,i){do{var a=yb(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);ce=6,Nt=null}function o_(e,i,a,l,h,d,_,T,C){e.cancelPendingCommit=null;do gc();while(Ue!==0);if((Ht&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=Wh,Fh(e,a,d,_,T,C),e===te&&(Nt=te=null,Dt=0),za=i,Os=e,Wi=a,ld=d,ud=h,$y=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Nb(us,function(){return f_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=nt.p,nt.p=2,_=Ht,Ht|=4;try{_b(e,i,a)}finally{Ht=_,nt.p=h,F.T=l}}Ue=1,l_(),u_(),c_()}}function l_(){if(Ue===1){Ue=0;var e=Os,i=za,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=nt.p;nt.p=2;var h=Ht;Ht|=4;try{qy(i,e);var d=Sd,_=Yg(e.containerInfo),T=d.focusedElem,C=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Qg(T.ownerDocument.documentElement,T)){if(C!==null&&Yh(T)){var z=C.start,G=C.end;if(G===void 0&&(G=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(G,T.value.length);else{var Y=T.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var H=j.getSelection(),lt=T.textContent.length,pt=Math.min(C.start,lt),Wt=C.end===void 0?pt:Math.min(C.end,lt);!H.extend&&pt>Wt&&(_=Wt,Wt=pt,pt=_);var k=Kg(T,pt),M=Kg(T,Wt);if(k&&M&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var P=Y.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),pt>Wt?(H.addRange(P),H.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),H.addRange(P))}}}}for(Y=[],H=T;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var Q=Y[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Ic=!!Ad,Sd=Ad=null}finally{Ht=h,nt.p=l,F.T=a}}e.current=i,Ue=2}}function u_(){if(Ue===2){Ue=0;var e=Os,i=za,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=nt.p;nt.p=2;var h=Ht;Ht|=4;try{Ly(e,i.alternate,i)}finally{Ht=h,nt.p=l,F.T=a}}Ue=3}}function c_(){if(Ue===4||Ue===3){Ue=0,ru();var e=Os,i=za,a=Wi,l=$y;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ue=5:(Ue=0,za=Os=null,h_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ds=null),Ui(a),i=i.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=F.T,h=nt.p,nt.p=2,F.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{F.T=i,nt.p=h}}(Wi&3)!==0&&gc(),wi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===cd?fl++:(fl=0,cd=e):fl=0,dl(0)}}function h_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Qo(i)))}function gc(){return l_(),u_(),c_(),f_()}function f_(){if(Ue!==5)return!1;var e=Os,i=ld;ld=0;var a=Ui(Wi),l=F.T,h=nt.p;try{nt.p=32>a?32:a,F.T=null,a=ud,ud=null;var d=Os,_=Wi;if(Ue=0,za=Os=null,Wi=0,(Ht&6)!==0)throw Error(r(331));var T=Ht;if(Ht|=4,Qy(d.current),Fy(d,d.current,_,a),Ht=T,dl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(qn,d)}catch{}return!0}finally{nt.p=h,F.T=l,h_(e,i)}}function d_(e,i,a){i=Mn(a,i),i=qf(e.stateNode,i,2),e=ws(e,i,2),e!==null&&(gr(e,2),wi(e))}function Yt(e,i,a){if(e.tag===3)d_(e,e,a);else for(;i!==null;){if(i.tag===3){d_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ds===null||!Ds.has(l))){e=Mn(a,e),a=my(2),l=ws(i,a,2),l!==null&&(gy(a,l,i,e),gr(l,2),wi(l));break}}i=i.return}}function dd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Eb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(rd=!0,h.add(a),e=Rb.bind(null,e,i,a),i.then(e,e))}function Rb(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Dt&a)===a&&(ce===4||ce===3&&(Dt&62914560)===Dt&&300>nn()-uc?(Ht&2)===0&&ja(e,0):ad|=a,Pa===Dt&&(Pa=0)),wi(e)}function m_(e,i){i===0&&(i=hu()),e=Nr(e,i),e!==null&&(gr(e,i),wi(e))}function Ib(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),m_(e,a)}function Cb(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),m_(e,a)}function Nb(e,i){return ke(e,i)}var pc=null,qa=null,md=!1,yc=!1,gd=!1,Vs=0;function wi(e){e!==qa&&e.next===null&&(qa===null?pc=qa=e:qa=qa.next=e),yc=!0,md||(md=!0,Db())}function dl(e,i){if(!gd&&yc){gd=!0;do for(var a=!1,l=pc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-me(42|e)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,__(l,d))}else d=Dt,d=oi(l,l===te?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Hn(l,d)||(a=!0,__(l,d));l=l.next}while(a);gd=!1}}function xb(){g_()}function g_(){yc=md=!1;var e=0;Vs!==0&&Bb()&&(e=Vs);for(var i=nn(),a=null,l=pc;l!==null;){var h=l.next,d=p_(l,i);d===0?(l.next=null,a===null?pc=h:a.next=h,h===null&&(qa=a)):(a=l,(e!==0||(d&3)!==0)&&(yc=!0)),l=h}Ue!==0&&Ue!==5||dl(e),Vs!==0&&(Vs=0)}function p_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-me(d),T=1<<_,C=h[_];C===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Hh(T,i)):C<=i&&(e.expiredLanes|=T),d&=~T}if(i=te,a=Dt,a=oi(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ls(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Hn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&ls(l),Ui(a)){case 2:case 8:a=Ao;break;case 32:a=us;break;case 268435456:a=au;break;default:a=us}return l=y_.bind(null,e),a=ke(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&ls(l),e.callbackPriority=2,e.callbackNode=null,2}function y_(e,i){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(gc()&&e.callbackNode!==a)return null;var l=Dt;return l=oi(e,e===te?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Zy(e,l,i),p_(e,nn()),e.callbackNode!=null&&e.callbackNode===a?y_.bind(null,e):null)}function __(e,i){if(gc())return null;Zy(e,i,!0)}function Db(){Hb(function(){(Ht&6)!==0?ke(bo,xb):g_()})}function pd(){if(Vs===0){var e=Ia;e===0&&(e=ri,ri<<=1,(ri&261888)===0&&(ri=256)),Vs=e}return Vs}function v_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fa(""+e)}function T_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function Ob(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=v_((h[Pe]||null).action),_=l.submitter;_&&(i=(i=_[Pe]||null)?v_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new _i("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vs!==0){var C=_?T_(h,_):new FormData(h);Uf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=_?T_(h,_):new FormData(h),Uf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var yd=0;yd<Zh.length;yd++){var _d=Zh[yd],Mb=_d.toLowerCase(),Vb=_d[0].toUpperCase()+_d.slice(1);Jn(Mb,"on"+Vb)}Jn(Jg,"onAnimationEnd"),Jn(Zg,"onAnimationIteration"),Jn(Wg,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn($1,"onTransitionRun"),Jn(J1,"onTransitionStart"),Jn(Z1,"onTransitionCancel"),Jn(tp,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function E_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],C=T.instance,z=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(G){Ou(G)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(T=l[_],C=T.instance,z=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(G){Ou(G)}h.currentTarget=null,d=C}}}}function xt(e,i){var a=i[oa];a===void 0&&(a=i[oa]=new Set);var l=e+"__bubble";a.has(l)||(b_(i,e,2,!1),a.add(l))}function vd(e,i,a){var l=0;i&&(l|=4),b_(a,e,l,i)}var _c="_reactListening"+Math.random().toString(36).slice(2);function Td(e){if(!e[_c]){e[_c]=!0,Ro.forEach(function(a){a!=="selectionchange"&&(kb.has(a)||vd(a,!1,e),vd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[_c]||(i[_c]=!0,vd("selectionchange",!1,i))}}function b_(e,i,a,l){switch(J_(i)){case 2:var h=uA;break;case 8:h=cA;break;default:h=kd}a=h.bind(null,i,a,e),h=void 0,!Er||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Ed(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=hi(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue t}T=T.parentNode}}l=l.return}gs(function(){var z=d,G=Nn(a),Y=[];t:{var j=ep.get(e);if(j!==void 0){var H=_i,lt=e;switch(e){case"keypress":if(Ar(a)===0)break t;case"keydown":case"keyup":H=Nu;break;case"focusin":lt="focus",H=wr;break;case"focusout":lt="blur",H=wr;break;case"beforeblur":case"afterblur":H=wr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Jg:case Zg:case Wg:H=bu;break;case tp:H=b;break;case"scroll":case"scrollend":H=Po;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=zi;break;case"toggle":case"beforetoggle":H=St}var pt=(i&4)!==0,Wt=!pt&&(e==="scroll"||e==="scrollend"),k=pt?j!==null?j+"Capture":null:j;pt=[];for(var M=z,P;M!==null;){var Q=M;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=Qn(M,k),Q!=null&&pt.push(gl(M,Q,P))),Wt)break;M=M.return}0<pt.length&&(j=new H(j,lt,null,a,G),Y.push({event:j,listeners:pt}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&a!==ko&&(lt=a.relatedTarget||a.fromElement)&&(hi(lt)||lt[ui]))break t;if((H||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,H?(lt=a.relatedTarget||a.toElement,H=z,lt=lt?hi(lt):null,lt!==null&&(Wt=u(lt),pt=lt.tag,lt!==Wt||pt!==5&&pt!==27&&pt!==6)&&(lt=null)):(H=null,lt=z),H!==lt)){if(pt=zo,Q="onMouseLeave",k="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(pt=zi,Q="onPointerLeave",k="onPointerEnter",M="pointer"),Wt=H==null?j:pn(H),P=lt==null?j:pn(lt),j=new pt(Q,M+"leave",H,a,G),j.target=Wt,j.relatedTarget=P,Q=null,hi(G)===z&&(pt=new pt(k,M+"enter",lt,a,G),pt.target=P,pt.relatedTarget=Wt,Q=pt),Wt=Q,H&&lt)e:{for(pt=Ub,k=H,M=lt,P=0,Q=k;Q;Q=pt(Q))P++;Q=0;for(var ht=M;ht;ht=pt(ht))Q++;for(;0<P-Q;)k=pt(k),P--;for(;0<Q-P;)M=pt(M),Q--;for(;P--;){if(k===M||M!==null&&k===M.alternate){pt=k;break e}k=pt(k),M=pt(M)}pt=null}else pt=null;H!==null&&A_(Y,j,H,pt,!1),lt!==null&&Wt!==null&&A_(Y,Wt,lt,pt,!0)}}t:{if(j=z?pn(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var jt=jg;else if(Pg(j))if(Bg)jt=Q1;else{jt=G1;var ct=F1}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ha(z.elementType)&&(jt=jg):jt=K1;if(jt&&(jt=jt(e,z))){zg(Y,jt,a,G);break t}ct&&ct(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Oo(j,"number",j.value)}switch(ct=z?pn(z):window,e){case"focusin":(Pg(ct)||ct.contentEditable==="true")&&(va=ct,Xh=z,Fo=null);break;case"focusout":Fo=Xh=va=null;break;case"mousedown":$h=!0;break;case"contextmenu":case"mouseup":case"dragend":$h=!1,Xg(Y,a,G);break;case"selectionchange":if(X1)break;case"keydown":case"keyup":Xg(Y,a,G)}var It;if(qt)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else _a?Rr(e,a)&&(Ot="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ot="onCompositionStart");Ot&&(Ei&&a.locale!=="ko"&&(_a||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&_a&&(It=Lo()):(yi=G,Uo="value"in yi?yi.value:yi.textContent,_a=!0)),ct=vc(z,Ot),0<ct.length&&(Ot=new Ti(Ot,e,null,a,G),Y.push({event:Ot,listeners:ct}),It?Ot.data=It:(It=ya(a),It!==null&&(Ot.data=It)))),(It=Dn?j1(e,a):B1(e,a))&&(Ot=vc(z,"onBeforeInput"),0<Ot.length&&(ct=new Ti("onBeforeInput","beforeinput",null,a,G),Y.push({event:ct,listeners:Ot}),ct.data=It)),Ob(Y,e,z,a,G)}E_(Y,i)})}function gl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function vc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Qn(e,a),h!=null&&l.unshift(gl(e,h,d)),h=Qn(e,i),h!=null&&l.push(gl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function Ub(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function A_(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,C=T.alternate,z=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||z===null||(C=z,h?(z=Qn(a,d),z!=null&&_.unshift(gl(a,z,C))):h||(z=Qn(a,d),z!=null&&_.push(gl(a,z,C)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var Lb=/\r\n?/g,Pb=/\u0000|\uFFFD/g;function S_(e){return(typeof e=="string"?e:""+e).replace(Lb,`
`).replace(Pb,"")}function w_(e,i){return i=S_(i),S_(e)===i}function Zt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ln(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ln(e,""+l);break;case"className":yn(e,"class",l);break;case"tabIndex":yn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(e,a,l);break;case"style":Vo(e,l,d);break;case"data":if(i!=="object"){yn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=fa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Zt(e,i,"name",h.name,h,null),Zt(e,i,"formEncType",h.formEncType,h,null),Zt(e,i,"formMethod",h.formMethod,h,null),Zt(e,i,"formTarget",h.formTarget,h,null)):(Zt(e,i,"encType",h.encType,h,null),Zt(e,i,"method",h.method,h,null),Zt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=fa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Kn);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=fa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":xt("beforetoggle",e),xt("toggle",e),ua(e,"popover",l);break;case"xlinkActuate":Se(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Se(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Se(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Se(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Se(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Se(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Se(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Se(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Se(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ua(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vu.get(a)||a,ua(e,a,l))}}function bd(e,i,a,l,h,d){switch(a){case"style":Vo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?ln(e,l):(typeof l=="number"||typeof l=="bigint")&&ln(e,""+l);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Io.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Pe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ua(e,a,l)}}}function Qe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Zt(e,i,d,_,a,null)}}h&&Zt(e,i,"srcSet",a.srcSet,a,null),l&&Zt(e,i,"src",a.src,a,null);return;case"input":xt("invalid",e);var T=d=_=h=null,C=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":_=G;break;case"checked":C=G;break;case"defaultChecked":z=G;break;case"value":d=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:Zt(e,i,l,G,a,null)}}pu(e,d,T,C,z,_,h,!1);return;case"select":xt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Zt(e,i,h,T,a,null)}i=d,a=_,e.multiple=!!l,i!=null?hs(e,!!l,i,!1):a!=null&&hs(e,!!l,a,!0);return;case"textarea":xt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Zt(e,i,_,T,a,null)}fs(e,l,h,d);return;case"option":for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null)&&(C==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Zt(e,i,C,l,a,null));return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(l=0;l<ml.length;l++)xt(ml[l],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Zt(e,i,z,l,a,null)}return;default:if(ha(i)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&bd(e,i,G,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Zt(e,i,T,l,a,null))}function zb(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,C=null,z=null,G=null;for(H in a){var Y=a[H];if(a.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=Y;default:l.hasOwnProperty(H)||Zt(e,i,H,null,l,Y)}}for(var j in l){var H=l[j];if(Y=a[j],l.hasOwnProperty(j)&&(H!=null||Y!=null))switch(j){case"type":d=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":_=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==Y&&Zt(e,i,j,H,l,Y)}}ca(e,_,T,C,z,G,d,h);return;case"select":H=_=T=j=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(d)||Zt(e,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":j=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==C&&Zt(e,i,h,d,l,C)}i=T,a=_,l=H,j!=null?hs(e,!!a,j,!1):!!l!=!!a&&(i!=null?hs(e,!!a,i,!0):hs(e,!!a,a?[]:"",!1));return;case"textarea":H=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Zt(e,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&Zt(e,i,_,h,l,d)}yu(e,j,H);return;case"option":for(var lt in a)j=a[lt],a.hasOwnProperty(lt)&&j!=null&&!l.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:Zt(e,i,lt,null,l,j));for(C in l)j=l[C],H=a[C],l.hasOwnProperty(C)&&j!==H&&(j!=null||H!=null)&&(C==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Zt(e,i,C,j,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)j=a[pt],a.hasOwnProperty(pt)&&j!=null&&!l.hasOwnProperty(pt)&&Zt(e,i,pt,null,l,j);for(z in l)if(j=l[z],H=a[z],l.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,i));break;default:Zt(e,i,z,j,l,H)}return;default:if(ha(i)){for(var Wt in a)j=a[Wt],a.hasOwnProperty(Wt)&&j!==void 0&&!l.hasOwnProperty(Wt)&&bd(e,i,Wt,void 0,l,j);for(G in l)j=l[G],H=a[G],!l.hasOwnProperty(G)||j===H||j===void 0&&H===void 0||bd(e,i,G,j,l,H);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!l.hasOwnProperty(k)&&Zt(e,i,k,null,l,j);for(Y in l)j=l[Y],H=a[Y],!l.hasOwnProperty(Y)||j===H||j==null&&H==null||Zt(e,i,Y,j,l,H)}function R_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&R_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],z=C.startTime;if(z>T)break;var G=C.transferSize,Y=C.initiatorType;G&&R_(Y)&&(C=C.responseEnd,_+=G*(C<T?1:(T-z)/(C-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ad=null,Sd=null;function Tc(e){return e.nodeType===9?e:e.ownerDocument}function I_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function C_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function wd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Rd=null;function Bb(){var e=window.event;return e&&e.type==="popstate"?e===Rd?!1:(Rd=e,!0):(Rd=null,!1)}var N_=typeof setTimeout=="function"?setTimeout:void 0,qb=typeof clearTimeout=="function"?clearTimeout:void 0,x_=typeof Promise=="function"?Promise:void 0,Hb=typeof queueMicrotask=="function"?queueMicrotask:typeof x_<"u"?function(e){return x_.resolve(null).then(e).catch(Fb)}:N_;function Fb(e){setTimeout(function(){throw e})}function ks(e){return e==="head"}function D_(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Ka(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")pl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,pl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[ci]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&pl(e.ownerDocument.body);a=h}while(a);Ka(i)}function O_(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Id(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Id(a),la(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Gb(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ci])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function Kb(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Pn(e.nextSibling),e===null))return null;return e}function M_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Pn(e.nextSibling),e===null))return null;return e}function Cd(e){return e.data==="$?"||e.data==="$~"}function Nd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Qb(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Pn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var xd=null;function V_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Pn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function k_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function U_(e,i,a){switch(i=Tc(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function pl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);la(e)}var zn=new Map,L_=new Set;function Ec(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ts=nt.d;nt.d={f:Yb,r:Xb,D:$b,C:Jb,L:Zb,m:Wb,X:eA,S:tA,M:nA};function Yb(){var e=ts.f(),i=fc();return e||i}function Xb(e){var i=Cn(e);i!==null&&i.tag===5&&i.type==="form"?ty(i):ts.r(e)}var Ha=typeof document>"u"?null:document;function P_(e,i,a){var l=Ha;if(l&&typeof i=="string"&&i){var h=on(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),L_.has(h)||(L_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Qe(i,"link",e),Ae(i),l.head.appendChild(i)))}}function $b(e){ts.D(e),P_("dns-prefetch",e,null)}function Jb(e,i){ts.C(e,i),P_("preconnect",e,i)}function Zb(e,i,a){ts.L(e,i,a);var l=Ha;if(l&&e&&i){var h='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+on(a.imageSizes)+'"]')):h+='[href="'+on(e)+'"]';var d=h;switch(i){case"style":d=Fa(e);break;case"script":d=Ga(e)}zn.has(d)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),zn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(yl(d))||i==="script"&&l.querySelector(_l(d))||(i=l.createElement("link"),Qe(i,"link",e),Ae(i),l.head.appendChild(i)))}}function Wb(e,i){ts.m(e,i);var a=Ha;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ga(e)}if(!zn.has(d)&&(e=S({rel:"modulepreload",href:e},i),zn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_l(d)))return}l=a.createElement("link"),Qe(l,"link",e),Ae(l),a.head.appendChild(l)}}}function tA(e,i,a){ts.S(e,i,a);var l=Ha;if(l&&e){var h=fi(l).hoistableStyles,d=Fa(e);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(yl(d)))T.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=zn.get(d))&&Dd(e,a);var C=_=l.createElement("link");Ae(C),Qe(C,"link",e),C._p=new Promise(function(z,G){C.onload=z,C.onerror=G}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,bc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function eA(e,i){ts.X(e,i);var a=Ha;if(a&&e){var l=fi(a).hoistableScripts,h=Ga(e),d=l.get(h);d||(d=a.querySelector(_l(h)),d||(e=S({src:e,async:!0},i),(i=zn.get(h))&&Od(e,i),d=a.createElement("script"),Ae(d),Qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function nA(e,i){ts.M(e,i);var a=Ha;if(a&&e){var l=fi(a).hoistableScripts,h=Ga(e),d=l.get(h);d||(d=a.querySelector(_l(h)),d||(e=S({src:e,async:!0,type:"module"},i),(i=zn.get(h))&&Od(e,i),d=a.createElement("script"),Ae(d),Qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function z_(e,i,a,l){var h=(h=Rt.current)?Ec(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Fa(a.href),a=fi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Fa(a.href);var d=fi(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(yl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),zn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(e,a),d||iA(h,e,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ga(a),a=fi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Fa(e){return'href="'+on(e)+'"'}function yl(e){return'link[rel="stylesheet"]['+e+"]"}function j_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function iA(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qe(i,"link",a),Ae(i),e.head.appendChild(i))}function Ga(e){return'[src="'+on(e)+'"]'}function _l(e){return"script[async]"+e}function B_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+on(a.href)+'"]');if(l)return i.instance=l,Ae(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ae(l),Qe(l,"style",h),bc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Fa(a.href);var d=e.querySelector(yl(h));if(d)return i.state.loading|=4,i.instance=d,Ae(d),d;l=j_(a),(h=zn.get(h))&&Dd(l,h),d=(e.ownerDocument||e).createElement("link"),Ae(d);var _=d;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Qe(d,"link",l),i.state.loading|=4,bc(d,a.precedence,e),i.instance=d;case"script":return d=Ga(a.src),(h=e.querySelector(_l(d)))?(i.instance=h,Ae(h),h):(l=a,(h=zn.get(d))&&(l=S({},a),Od(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ae(h),Qe(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,bc(l,a.precedence,e));return i.instance}function bc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Dd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Od(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Ac=null;function q_(e,i,a){if(Ac===null){var l=new Map,h=Ac=new Map;h.set(a,l)}else h=Ac,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ci]||d[be]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function H_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function sA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function F_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function rA(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Fa(l.href),d=i.querySelector(yl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Sc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Ae(d);return}d=i.ownerDocument||i,l=j_(l),(h=zn.get(h))&&Dd(l,h),d=d.createElement("link"),Ae(d);var _=d;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Qe(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Sc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Md=0;function aA(e,i){return e.stylesheets&&e.count===0&&Rc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Rc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&Md===0&&(Md=62500*jb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Rc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Md?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var wc=null;function Rc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,wc=new Map,i.forEach(oA,e),wc=null,Sc.call(e))}function oA(e,i){if(!(i.state.loading&4)){var a=wc.get(e);if(a)var l=a.get(null);else{a=new Map,wc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Sc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var vl={$$typeof:et,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function lA(e,i,a,l,h,d,_,T,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function G_(e,i,a,l,h,d,_,T,C,z,G,Y){return e=new lA(e,i,a,_,C,z,G,Y,T),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),e.current=d,d.stateNode=e,i=ff(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},pf(d),e}function K_(e){return e?(e=ba,e):ba}function Q_(e,i,a,l,h,d){h=K_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ss(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ws(e,l,i),a!==null&&(dn(a,e,i),Jo(a,e,i))}function Y_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Vd(e,i){Y_(e,i),(e=e.alternate)&&Y_(e,i)}function X_(e){if(e.tag===13||e.tag===31){var i=Nr(e,67108864);i!==null&&dn(i,e,67108864),Vd(e,67108864)}}function $_(e){if(e.tag===13||e.tag===31){var i=Sn();i=yr(i);var a=Nr(e,i);a!==null&&dn(a,e,i),Vd(e,i)}}var Ic=!0;function uA(e,i,a,l){var h=F.T;F.T=null;var d=nt.p;try{nt.p=2,kd(e,i,a,l)}finally{nt.p=d,F.T=h}}function cA(e,i,a,l){var h=F.T;F.T=null;var d=nt.p;try{nt.p=8,kd(e,i,a,l)}finally{nt.p=d,F.T=h}}function kd(e,i,a,l){if(Ic){var h=Ud(l);if(h===null)Ed(e,i,l,Cc,a),Z_(e,l);else if(fA(h,e,i,a,l))l.stopPropagation();else if(Z_(e,l),i&4&&-1<hA.indexOf(e)){for(;h!==null;){var d=Cn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ai(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-me(_);T.entanglements[1]|=C,_&=~C}wi(d),(Ht&6)===0&&(cc=nn()+500,dl(0))}}break;case 31:case 13:T=Nr(d,2),T!==null&&dn(T,d,2),fc(),Vd(d,2)}if(d=Ud(l),d===null&&Ed(e,i,l,Cc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Ed(e,i,l,null,a)}}function Ud(e){return e=Nn(e),Ld(e)}var Cc=null;function Ld(e){if(Cc=null,e=hi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=g(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Cc=e,null}function J_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dr()){case bo:return 2;case Ao:return 8;case us:case qh:return 32;case au:return 268435456;default:return 32}default:return 32}}var Pd=!1,Us=null,Ls=null,Ps=null,Tl=new Map,El=new Map,zs=[],hA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z_(e,i){switch(e){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":Tl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(i.pointerId)}}function bl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Cn(i),i!==null&&X_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function fA(e,i,a,l,h){switch(i){case"focusin":return Us=bl(Us,e,i,a,l,h),!0;case"dragenter":return Ls=bl(Ls,e,i,a,l,h),!0;case"mouseover":return Ps=bl(Ps,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Tl.set(d,bl(Tl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,El.set(d,bl(El.get(d)||null,e,i,a,l,h)),!0}return!1}function W_(e){var i=hi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Fn(e.priority,function(){$_(a)});return}}else if(i===31){if(i=g(a),i!==null){e.blockedOn=i,Fn(e.priority,function(){$_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Ud(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);ko=l,a.target.dispatchEvent(l),ko=null}else return i=Cn(a),i!==null&&X_(i),e.blockedOn=a,!1;i.shift()}return!0}function tv(e,i,a){Nc(e)&&a.delete(i)}function dA(){Pd=!1,Us!==null&&Nc(Us)&&(Us=null),Ls!==null&&Nc(Ls)&&(Ls=null),Ps!==null&&Nc(Ps)&&(Ps=null),Tl.forEach(tv),El.forEach(tv)}function xc(e,i){e.blockedOn===i&&(e.blockedOn=null,Pd||(Pd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,dA)))}var Dc=null;function ev(e){Dc!==e&&(Dc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Dc===e&&(Dc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Ld(l||a)===null)continue;break}var d=Cn(a);d!==null&&(e.splice(i,3),i-=3,Uf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ka(e){function i(C){return xc(C,e)}Us!==null&&xc(Us,e),Ls!==null&&xc(Ls,e),Ps!==null&&xc(Ps,e),Tl.forEach(i),El.forEach(i);for(var a=0;a<zs.length;a++){var l=zs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<zs.length&&(a=zs[0],a.blockedOn===null);)W_(a),a.blockedOn===null&&zs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Pe]||null;if(typeof d=="function")_||ev(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Pe]||null)T=_.formAction;else if(Ld(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),ev(a)}}}function nv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function zd(e){this._internalRoot=e}Oc.prototype.render=zd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Sn();Q_(a,l,e,i,null,null)},Oc.prototype.unmount=zd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Q_(e.current,2,null,e,null,null),fc(),i[ui]=null}};function Oc(e){this._internalRoot=e}Oc.prototype.unstable_scheduleHydration=function(e){if(e){var i=fu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<zs.length&&i!==0&&i<zs[a].priority;a++);zs.splice(a,0,e),a===0&&W_(e)}};var iv=t.version;if(iv!=="19.2.3")throw Error(r(527,iv,"19.2.3"));nt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var mA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{qn=Mc.inject(mA),qe=Mc}catch{}}return Sl.createRoot=function(e,i){if(!o(e))throw Error(r(299));var a=!1,l="",h=cy,d=hy,_=fy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=G_(e,1,!1,null,null,a,l,null,h,d,_,nv),e[ui]=i.current,Td(e),new zd(i)},Sl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(r(299));var l=!1,h="",d=cy,_=hy,T=fy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=G_(e,1,!0,i,a??null,l,h,C,d,_,T,nv),i.context=K_(null),a=i.current,l=Sn(),l=yr(l),h=Ss(l),h.callback=null,ws(a,h,l),a=l,i.current.lanes=a,gr(i,a),wi(i),e[ui]=i.current,Td(e),new Oc(i)},Sl.version="19.2.3",Sl}var dv;function SA(){if(dv)return qd.exports;dv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),qd.exports=AA(),qd.exports}var wA=SA();const RA=()=>{};var mv={};const Z0=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},IA=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],g=s[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const u=s[n++],f=s[n++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},W0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,g=f?s[o+1]:0,y=o+2<s.length,p=y?s[o+2]:0,E=u>>2,S=(u&3)<<4|g>>4;let x=(g&15)<<2|p>>6,q=p&63;y||(q=64,f||(x=64)),r.push(n[E],n[S],n[x],n[q])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Z0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):IA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],g=o<s.length?n[s.charAt(o)]:0;++o;const p=o<s.length?n[s.charAt(o)]:64;++o;const S=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||g==null||p==null||S==null)throw new CA;const x=u<<2|g>>4;if(r.push(x),p!==64){const q=g<<4&240|p>>2;if(r.push(q),S!==64){const K=p<<6&192|S;r.push(K)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class CA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NA=function(s){const t=Z0(s);return W0.encodeByteArray(t,!0)},Wc=function(s){return NA(s).replace(/\./g,"")},tT=function(s){try{return W0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function xA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const DA=()=>xA().__FIREBASE_DEFAULTS__,OA=()=>{if(typeof process>"u"||typeof mv>"u")return;const s=mv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},MA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&tT(s[1]);return t&&JSON.parse(t)},Eh=()=>{try{return RA()||DA()||OA()||MA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},eT=s=>Eh()?.emulatorHosts?.[s],nT=s=>{const t=eT(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},iT=()=>Eh()?.config,sT=s=>Eh()?.[`_${s}`];class VA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function lr(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lm(s){return(await fetch(s,{credentials:"include"})).ok}function rT(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Wc(JSON.stringify(n)),Wc(JSON.stringify(f)),""].join(".")}const Ol={};function kA(){const s={prod:[],emulator:[]};for(const t of Object.keys(Ol))Ol[t]?s.emulator.push(t):s.prod.push(t);return s}function UA(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let gv=!1;function Pm(s,t){if(typeof window>"u"||typeof document>"u"||!lr(window.location.host)||Ol[s]===t||Ol[s]||gv)return;Ol[s]=t;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",u=kA().prod.length>0;function f(){const x=document.getElementById(r);x&&x.remove()}function g(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function y(x,q){x.setAttribute("width","24"),x.setAttribute("id",q),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{gv=!0,f()},x}function E(x,q){x.setAttribute("id",q),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function S(){const x=UA(r),q=n("text"),K=document.getElementById(q)||document.createElement("span"),J=n("learnmore"),W=document.getElementById(J)||document.createElement("a"),ut=n("preprendIcon"),st=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const et=x.element;g(et),E(W,J);const gt=p();y(st,ut),et.append(st,K,W,gt),document.body.appendChild(et)}u?(K.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function PA(){const s=Eh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function BA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qA(){const s=en();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function HA(){return!PA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FA(){try{return typeof indexedDB=="object"}catch{return!1}}function GA(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const KA="FirebaseError";class ki extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=KA,Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yl.prototype.create)}}class Yl{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?QA(u,r):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new ki(o,g,r)}}function QA(s,t){return s.replace(YA,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const YA=/\{\$([^}]+)}/g;function XA(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Qr(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=t[o];if(pv(u)&&pv(f)){if(!Qr(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function pv(s){return s!==null&&typeof s=="object"}function Xl(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function $A(s,t){const n=new JA(s,t);return n.subscribe.bind(n)}class JA{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ZA(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=Kd),o.error===void 0&&(o.error=Kd),o.complete===void 0&&(o.complete=Kd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZA(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function Kd(){}function ve(s){return s&&s._delegate?s._delegate:s}class tr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const qr="[DEFAULT]";class WA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new VA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(eS(t))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=qr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qr){return this.instances.has(t)}getOptions(t=qr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&f.resolve(o)}return o}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tS(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=qr){return this.component?this.component.multipleInstances?t:qr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tS(s){return s===qr?void 0:s}function eS(s){return s.instantiationMode==="EAGER"}class nS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new WA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Mt||(Mt={}));const iS={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},sS=Mt.INFO,rS={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},aS=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=rS[t];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class zm{constructor(t){this.name=t,this._logLevel=sS,this._logHandler=aS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?iS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const oS=(s,t)=>t.some(n=>s instanceof n);let yv,_v;function lS(){return yv||(yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uS(){return _v||(_v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aT=new WeakMap,lm=new WeakMap,oT=new WeakMap,Qd=new WeakMap,jm=new WeakMap;function cS(s){const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(Ys(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&aT.set(n,s)}).catch(()=>{}),jm.set(t,s),t}function hS(s){if(lm.has(s))return;const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});lm.set(s,t)}let um={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return lm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||oT.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ys(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function fS(s){um=s(um)}function dS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(Yd(this),t,...n);return oT.set(r,t.sort?t.sort():[t]),Ys(r)}:uS().includes(s)?function(...t){return s.apply(Yd(this),t),Ys(aT.get(this))}:function(...t){return Ys(s.apply(Yd(this),t))}}function mS(s){return typeof s=="function"?dS(s):(s instanceof IDBTransaction&&hS(s),oS(s,lS())?new Proxy(s,um):s)}function Ys(s){if(s instanceof IDBRequest)return cS(s);if(Qd.has(s))return Qd.get(s);const t=mS(s);return t!==s&&(Qd.set(s,t),jm.set(t,s)),t}const Yd=s=>jm.get(s);function gS(s,t,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,t),g=Ys(f);return r&&f.addEventListener("upgradeneeded",y=>{r(Ys(f.result),y.oldVersion,y.newVersion,Ys(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const pS=["get","getKey","getAll","getAllKeys","count"],yS=["put","add","delete","clear"],Xd=new Map;function vv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Xd.get(t))return Xd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=yS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||pS.includes(n)))return;const u=async function(f,...g){const y=this.transaction(f,o?"readwrite":"readonly");let p=y.store;return r&&(p=p.index(g.shift())),(await Promise.all([p[n](...g),o&&y.done]))[0]};return Xd.set(t,u),u}fS(s=>({...s,get:(t,n,r)=>vv(t,n)||s.get(t,n,r),has:(t,n)=>!!vv(t,n)||s.has(t,n)}));class _S{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vS(s){return s.getComponent()?.type==="VERSION"}const cm="@firebase/app",Tv="0.14.7";const is=new zm("@firebase/app"),TS="@firebase/app-compat",ES="@firebase/analytics-compat",bS="@firebase/analytics",AS="@firebase/app-check-compat",SS="@firebase/app-check",wS="@firebase/auth",RS="@firebase/auth-compat",IS="@firebase/database",CS="@firebase/data-connect",NS="@firebase/database-compat",xS="@firebase/functions",DS="@firebase/functions-compat",OS="@firebase/installations",MS="@firebase/installations-compat",VS="@firebase/messaging",kS="@firebase/messaging-compat",US="@firebase/performance",LS="@firebase/performance-compat",PS="@firebase/remote-config",zS="@firebase/remote-config-compat",jS="@firebase/storage",BS="@firebase/storage-compat",qS="@firebase/firestore",HS="@firebase/ai",FS="@firebase/firestore-compat",GS="firebase",KS="12.8.0";const hm="[DEFAULT]",QS={[cm]:"fire-core",[TS]:"fire-core-compat",[bS]:"fire-analytics",[ES]:"fire-analytics-compat",[SS]:"fire-app-check",[AS]:"fire-app-check-compat",[wS]:"fire-auth",[RS]:"fire-auth-compat",[IS]:"fire-rtdb",[CS]:"fire-data-connect",[NS]:"fire-rtdb-compat",[xS]:"fire-fn",[DS]:"fire-fn-compat",[OS]:"fire-iid",[MS]:"fire-iid-compat",[VS]:"fire-fcm",[kS]:"fire-fcm-compat",[US]:"fire-perf",[LS]:"fire-perf-compat",[PS]:"fire-rc",[zS]:"fire-rc-compat",[jS]:"fire-gcs",[BS]:"fire-gcs-compat",[qS]:"fire-fst",[FS]:"fire-fst-compat",[HS]:"fire-vertex","fire-js":"fire-js",[GS]:"fire-js-all"};const th=new Map,YS=new Map,fm=new Map;function Ev(s,t){try{s.container.addComponent(t)}catch(n){is.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function Yr(s){const t=s.name;if(fm.has(t))return is.debug(`There were multiple attempts to register component ${t}.`),!1;fm.set(t,s);for(const n of th.values())Ev(n,s);for(const n of YS.values())Ev(n,s);return!0}function bh(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function jn(s){return s==null?!1:s.settings!==void 0}const XS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new Yl("app","Firebase",XS);class $S{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new tr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}const Wr=KS;function lT(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:hm,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Xs.create("bad-app-name",{appName:String(o)});if(n||(n=iT()),!n)throw Xs.create("no-options");const u=th.get(o);if(u){if(Qr(n,u.options)&&Qr(r,u.config))return u;throw Xs.create("duplicate-app",{appName:o})}const f=new nS(o);for(const y of fm.values())f.addComponent(y);const g=new $S(n,r,f);return th.set(o,g),g}function Bm(s=hm){const t=th.get(s);if(!t&&s===hm&&iT())return lT();if(!t)throw Xs.create("no-app",{appName:s});return t}function Ci(s,t,n){let r=QS[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${t}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),is.warn(f.join(" "));return}Yr(new tr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const JS="firebase-heartbeat-database",ZS=1,zl="firebase-heartbeat-store";let $d=null;function uT(){return $d||($d=gS(JS,ZS,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(zl)}catch(n){console.warn(n)}}}}).catch(s=>{throw Xs.create("idb-open",{originalErrorMessage:s.message})})),$d}async function WS(s){try{const n=(await uT()).transaction(zl),r=await n.objectStore(zl).get(cT(s));return await n.done,r}catch(t){if(t instanceof ki)is.warn(t.message);else{const n=Xs.create("idb-get",{originalErrorMessage:t?.message});is.warn(n.message)}}}async function bv(s,t){try{const r=(await uT()).transaction(zl,"readwrite");await r.objectStore(zl).put(t,cT(s)),await r.done}catch(n){if(n instanceof ki)is.warn(n.message);else{const r=Xs.create("idb-set",{originalErrorMessage:n?.message});is.warn(r.message)}}}function cT(s){return`${s.name}!${s.options.appId}`}const tw=1024,ew=30;class nw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Av();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>ew){const o=rw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){is.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Av(),{heartbeatsToSend:n,unsentEntries:r}=iw(this._heartbeatsCache.heartbeats),o=Wc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return is.warn(t),""}}}function Av(){return new Date().toISOString().substring(0,10)}function iw(s,t=tw){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Sv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Sv(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FA()?GA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WS(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return bv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return bv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Sv(s){return Wc(JSON.stringify({version:2,heartbeats:s})).length}function rw(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}function aw(s){Yr(new tr("platform-logger",t=>new _S(t),"PRIVATE")),Yr(new tr("heartbeat",t=>new nw(t),"PRIVATE")),Ci(cm,Tv,s),Ci(cm,Tv,"esm2020"),Ci("fire-js","")}aw("");function hT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ow=hT,fT=new Yl("auth","Firebase",hT());const eh=new zm("@firebase/auth");function lw(s,...t){eh.logLevel<=Mt.WARN&&eh.warn(`Auth (${Wr}): ${s}`,...t)}function Hc(s,...t){eh.logLevel<=Mt.ERROR&&eh.error(`Auth (${Wr}): ${s}`,...t)}function ss(s,...t){throw qm(s,...t)}function Ni(s,...t){return qm(s,...t)}function dT(s,t,n){const r={...ow(),[t]:n};return new Yl("auth","Firebase",r).create(t,{appName:s.name})}function $s(s){return dT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qm(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return fT.create(s,...t)}function _t(s,t,...n){if(!s)throw qm(t,...n)}function es(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Hc(t),new Error(t)}function rs(s,t){s||es(t)}function dm(){return typeof self<"u"&&self.location?.href||""}function uw(){return wv()==="http:"||wv()==="https:"}function wv(){return typeof self<"u"&&self.location?.protocol||null}function cw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uw()||jA()||"connection"in navigator)?navigator.onLine:!0}function hw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class $l{constructor(t,n){this.shortDelay=t,this.longDelay=n,rs(n>t,"Short delay should be less than long delay!"),this.isMobile=LA()||BA()}get(){return cw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hm(s,t){rs(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class mT{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const dw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mw=new $l(3e4,6e4);function Ah(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function fo(s,t,n,r,o={}){return gT(s,o,async()=>{let u={},f={};r&&(t==="GET"?f=r:u={body:JSON.stringify(r)});const g=Xl({key:s.config.apiKey,...f}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const p={method:t,headers:y,...u};return zA()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&lr(s.emulatorConfig.host)&&(p.credentials="include"),mT.fetch()(await yT(s,s.config.apiHost,n,g),p)})}async function gT(s,t,n){s._canInitEmulator=!1;const r={...fw,...t};try{const o=new gw(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Vc(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[y,p]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(s,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw Vc(s,"email-already-in-use",f);if(y==="USER_DISABLED")throw Vc(s,"user-disabled",f);const E=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw dT(s,E,p);ss(s,E)}}catch(o){if(o instanceof ki)throw o;ss(s,"network-request-failed",{message:String(o)})}}async function pT(s,t,n,r,o={}){const u=await fo(s,t,n,r,o);return"mfaPendingCredential"in u&&ss(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function yT(s,t,n,r){const o=`${t}${n}?${r}`,u=s,f=u.config.emulator?Hm(s.config,o):`${s.config.apiScheme}://${o}`;return dw.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class gw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ni(this.auth,"network-request-failed")),mw.get())})}}function Vc(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Ni(s,t,r);return o.customData._tokenResponse=n,o}async function pw(s,t){return fo(s,"POST","/v1/accounts:delete",t)}async function nh(s,t){return fo(s,"POST","/v1/accounts:lookup",t)}function Ml(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function yw(s,t=!1){const n=ve(s),r=await n.getIdToken(t),o=Fm(r);_t(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:Ml(Jd(o.auth_time)),issuedAtTime:Ml(Jd(o.iat)),expirationTime:Ml(Jd(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Jd(s){return Number(s)*1e3}function Fm(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const o=tT(n);return o?JSON.parse(o):(Hc("Failed to decode base64 JWT payload"),null)}catch(o){return Hc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Rv(s){const t=Fm(s);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function jl(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof ki&&_w(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function _w({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class vw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class mm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ih(s){const t=s.auth,n=await s.getIdToken(),r=await jl(s,nh(t,{idToken:n}));_t(r?.users.length,t,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?_T(o.providerUserInfo):[],f=Ew(s.providerData,u),g=s.isAnonymous,y=!(s.email&&o.passwordHash)&&!f?.length,p=g?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new mm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(s,E)}async function Tw(s){const t=ve(s);await ih(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Ew(s,t){return[...s.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function _T(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function bw(s,t){const n=await gT(s,{},async()=>{const r=Xl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await yT(s,o,"/v1/token",`key=${u}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:r};return s.emulatorConfig&&lr(s.emulatorConfig.host)&&(y.credentials="include"),mT.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Aw(s,t){return fo(s,"POST","/v2/accounts:revokeToken",Ah(s,t))}class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Rv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const n=Rv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await bw(t,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new Za;return r&&(_t(typeof r=="string","internal-error",{appName:t}),f.refreshToken=r),o&&(_t(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(_t(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return es("not implemented")}}function Bs(s,t){_t(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ti{constructor({uid:t,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new vw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await jl(this,this.stsTokenManager.getToken(this.auth,t));return _t(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return yw(this,t)}reload(){return Tw(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ti({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await ih(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject($s(this.auth));const t=await this.getIdToken();return await jl(this,pw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,g=n.tenantId??void 0,y=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:x,isAnonymous:q,providerData:K,stsTokenManager:J}=n;_t(S&&J,t,"internal-error");const W=Za.fromJSON(this.name,J);_t(typeof S=="string",t,"internal-error"),Bs(r,t.name),Bs(o,t.name),_t(typeof x=="boolean",t,"internal-error"),_t(typeof q=="boolean",t,"internal-error"),Bs(u,t.name),Bs(f,t.name),Bs(g,t.name),Bs(y,t.name),Bs(p,t.name),Bs(E,t.name);const ut=new ti({uid:S,auth:t,email:o,emailVerified:x,displayName:r,isAnonymous:q,photoURL:f,phoneNumber:u,tenantId:g,stsTokenManager:W,createdAt:p,lastLoginAt:E});return K&&Array.isArray(K)&&(ut.providerData=K.map(st=>({...st}))),y&&(ut._redirectEventId=y),ut}static async _fromIdTokenResponse(t,n,r=!1){const o=new Za;o.updateFromServerResponse(n);const u=new ti({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await ih(u),u}static async _fromGetAccountInfoResponse(t,n,r){const o=n.users[0];_t(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?_T(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,g=new Za;g.updateFromIdToken(r);const y=new ti({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new mm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,p),y}}const Iv=new Map;function ns(s){rs(s instanceof Function,"Expected a class definition");let t=Iv.get(s);return t?(rs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Iv.set(s,t),t)}class vT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}vT.type="NONE";const Cv=vT;function Fc(s,t,n){return`firebase:${s}:${t}:${n}`}class Wa{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Fc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Fc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await nh(this.auth,{idToken:t}).catch(()=>{});return n?ti._fromGetAccountInfoResponse(this.auth,n,t):null}return ti._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Wa(ns(Cv),t,r);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||ns(Cv);const f=Fc(r,t.config.apiKey,t.name);let g=null;for(const p of n)try{const E=await p._get(f);if(E){let S;if(typeof E=="string"){const x=await nh(t,{idToken:E}).catch(()=>{});if(!x)break;S=await ti._fromGetAccountInfoResponse(t,x,E)}else S=ti._fromJSON(t,E);p!==u&&(g=S),u=p;break}}catch{}const y=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Wa(u,t,r):(u=y[0],g&&await u._set(f,g.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new Wa(u,t,r))}}function Nv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(AT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(TT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(wT(t))return"Blackberry";if(RT(t))return"Webos";if(ET(t))return"Safari";if((t.includes("chrome/")||bT(t))&&!t.includes("edge/"))return"Chrome";if(ST(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function TT(s=en()){return/firefox\//i.test(s)}function ET(s=en()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function bT(s=en()){return/crios\//i.test(s)}function AT(s=en()){return/iemobile/i.test(s)}function ST(s=en()){return/android/i.test(s)}function wT(s=en()){return/blackberry/i.test(s)}function RT(s=en()){return/webos/i.test(s)}function Gm(s=en()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Sw(s=en()){return Gm(s)&&!!window.navigator?.standalone}function ww(){return qA()&&document.documentMode===10}function IT(s=en()){return Gm(s)||ST(s)||RT(s)||wT(s)||/windows phone/i.test(s)||AT(s)}function CT(s,t=[]){let n;switch(s){case"Browser":n=Nv(en());break;case"Worker":n=`${Nv(en())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wr}/${r}`}class Rw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=u=>new Promise((f,g)=>{try{const y=t(u);f(y)}catch(y){g(y)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Iw(s,t={}){return fo(s,"GET","/v2/passwordPolicy",Ah(s,t))}const Cw=6;class Nw{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Cw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class xw{constructor(t,n,r,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xv(this),this.idTokenSubscription=new xv(this),this.beforeStateQueue=new Rw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ns(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await nh(this,{idToken:t}),r=await ti._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(jn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,g=await this.tryRedirectSignIn(t);(!u||u===f)&&g?.user&&(r=g.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ih(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=hw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(jn(this.app))return Promise.reject($s(this));const n=t?ve(t):null;return n&&_t(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject($s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return jn(this.app)?Promise.reject($s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Iw(this),n=new Nw(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Yl("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Aw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ns(t)||this._popupRedirectResolver;_t(n,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[ns(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,r,o);return()=>{f=!0,y()}}else{const y=t.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=CT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&lw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Sh(s){return ve(s)}class xv{constructor(t){this.auth=t,this.observer=null,this.addObserver=$A(n=>this.observer=n)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Dw(s){Km=s}function Ow(s){return Km.loadJS(s)}function Mw(){return Km.gapiScript}function Vw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function kw(s,t){const n=bh(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Qr(u,t??{}))return o;ss(o,"already-initialized")}return n.initialize({options:t})}function Uw(s,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ns);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function Lw(s,t,n){const r=Sh(s);_t(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=NT(t),{host:f,port:g}=Pw(t),y=g===null?"":`:${g}`,p={url:`${u}//${f}${y}/`},E=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){_t(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),_t(Qr(p,r.config.emulator)&&Qr(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,lr(f)?(Lm(`${u}//${f}${y}`),Pm("Auth",!0)):zw()}function NT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Pw(s){const t=NT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:Dv(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:Dv(f)}}}function Dv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function zw(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class xT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return es("not implemented")}_getIdTokenResponse(t){return es("not implemented")}_linkToIdToken(t,n){return es("not implemented")}_getReauthenticationResolver(t){return es("not implemented")}}async function to(s,t){return pT(s,"POST","/v1/accounts:signInWithIdp",Ah(s,t))}const jw="http://localhost";class Xr extends xT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Xr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ss("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const f=new Xr(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return to(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,to(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,to(t,n)}buildRequest(){const t={requestUri:jw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Xl(n)}return t}}class DT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Jl extends DT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class qs extends Jl{constructor(){super("facebook.com")}static credential(t){return Xr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qs.credential(t.oauthAccessToken)}catch{return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";qs.PROVIDER_ID="facebook.com";class Hs extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Xr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Hs.credential(n,r)}catch{return null}}}Hs.GOOGLE_SIGN_IN_METHOD="google.com";Hs.PROVIDER_ID="google.com";class Fs extends Jl{constructor(){super("github.com")}static credential(t){return Xr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fs.credential(t.oauthAccessToken)}catch{return null}}}Fs.GITHUB_SIGN_IN_METHOD="github.com";Fs.PROVIDER_ID="github.com";class Gs extends Jl{constructor(){super("twitter.com")}static credential(t,n){return Xr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Gs.credential(n,r)}catch{return null}}}Gs.TWITTER_SIGN_IN_METHOD="twitter.com";Gs.PROVIDER_ID="twitter.com";async function Bw(s,t){return pT(s,"POST","/v1/accounts:signUp",Ah(s,t))}class er{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,o=!1){const u=await ti._fromIdTokenResponse(t,r,o),f=Ov(r);return new er({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const o=Ov(r);return new er({user:t,providerId:o,_tokenResponse:r,operationType:n})}}function Ov(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function Mv(s){if(jn(s.app))return Promise.reject($s(s));const t=Sh(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new er({user:t.currentUser,providerId:null,operationType:"signIn"});const n=await Bw(t,{returnSecureToken:!0}),r=await er._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(r.user),r}class sh extends ki{constructor(t,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,o){return new sh(t,n,r,o)}}function OT(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(s,u,t,r):u})}async function qw(s,t,n=!1){const r=await jl(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return er._forOperation(s,"link",r)}async function Hw(s,t,n=!1){const{auth:r}=s;if(jn(r.app))return Promise.reject($s(r));const o="reauthenticate";try{const u=await jl(s,OT(r,o,t,s),n);_t(u.idToken,r,"internal-error");const f=Fm(u.idToken);_t(f,r,"internal-error");const{sub:g}=f;return _t(s.uid===g,r,"user-mismatch"),er._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ss(r,"user-mismatch"),u}}async function Fw(s,t,n=!1){if(jn(s.app))return Promise.reject($s(s));const r="signIn",o=await OT(s,r,t),u=await er._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}function Gw(s,t,n,r){return ve(s).onIdTokenChanged(t,n,r)}function Kw(s,t,n){return ve(s).beforeAuthStateChanged(t,n)}function Qw(s,t,n,r){return ve(s).onAuthStateChanged(t,n,r)}const rh="__sak";class MT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Yw=1e3,Xw=10;class VT extends MT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&t(n,o,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,g,y)=>{this.notifyListeners(f,y)});return}const r=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);ww()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Xw):o()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},Yw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}VT.type="LOCAL";const $w=VT;class kT extends MT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}kT.type="SESSION";const UT=kT;function Jw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class wh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const r=new wh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const g=Array.from(f).map(async p=>p(n.origin,u)),y=await Jw(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wh.receivers=[];function Qm(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}class Zw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((g,y)=>{const p=Qm("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(S){const x=S;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(x.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function xi(){return window}function Ww(s){xi().location.href=s}function LT(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function tR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eR(){return navigator?.serviceWorker?.controller||null}function nR(){return LT()?self:null}const PT="firebaseLocalStorageDb",iR=1,ah="firebaseLocalStorage",zT="fbase_key";class Zl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rh(s,t){return s.transaction([ah],t?"readwrite":"readonly").objectStore(ah)}function sR(){const s=indexedDB.deleteDatabase(PT);return new Zl(s).toPromise()}function gm(){const s=indexedDB.open(PT,iR);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(ah,{keyPath:zT})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(ah)?t(r):(r.close(),await sR(),t(await gm()))})})}async function Vv(s,t,n){const r=Rh(s,!0).put({[zT]:t,value:n});return new Zl(r).toPromise()}async function rR(s,t){const n=Rh(s,!1).get(t),r=await new Zl(n).toPromise();return r===void 0?null:r.value}function kv(s,t){const n=Rh(s,!0).delete(t);return new Zl(n).toPromise()}const aR=800,oR=3;class jT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>oR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wh._getInstance(nR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await tR(),!this.activeServiceWorker)return;this.sender=new Zw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||eR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await gm();return await Vv(t,rh,"1"),await kv(t,rh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Vv(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>rR(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>kv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Rh(o,!1).getAll();return new Zl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jT.type="LOCAL";const lR=jT;new $l(3e4,6e4);function uR(s,t){return t?ns(t):(_t(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Ym extends xT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return to(t,this._buildIdpRequest())}_linkToIdToken(t,n){return to(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return to(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function cR(s){return Fw(s.auth,new Ym(s),s.bypassAuthState)}function hR(s){const{auth:t,user:n}=s;return _t(n,t,"internal-error"),Hw(n,new Ym(s),s.bypassAuthState)}async function fR(s){const{auth:t,user:n}=s;return _t(n,t,"internal-error"),qw(n,new Ym(s),s.bypassAuthState)}class BT{constructor(t,n,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:g}=t;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return cR;case"linkViaPopup":case"linkViaRedirect":return fR;case"reauthViaPopup":case"reauthViaRedirect":return hR;default:ss(this.auth,"internal-error")}}resolve(t){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dR=new $l(2e3,1e4);class Ja extends BT{constructor(t,n,r,o,u){super(t,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const t=Qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,dR.get())};t()}}Ja.currentPopupAction=null;const mR="pendingRedirect",Gc=new Map;class gR extends BT{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Gc.get(this.auth._key());if(!t){try{const r=await pR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Gc.set(this.auth._key(),t)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pR(s,t){const n=vR(t),r=_R(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function yR(s,t){Gc.set(s._key(),t)}function _R(s){return ns(s._redirectPersistence)}function vR(s){return Fc(mR,s.config.apiKey,s.name)}async function TR(s,t,n=!1){if(jn(s.app))return Promise.reject($s(s));const r=Sh(s),o=uR(r,t),f=await new gR(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,t)),f}const ER=600*1e3;class bR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!AR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!qT(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ni(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ER&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uv(t))}saveEventToCache(t){this.cachedEventUids.add(Uv(t)),this.lastProcessedEventTime=Date.now()}}function Uv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function qT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function AR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qT(s);default:return!1}}async function SR(s,t={}){return fo(s,"GET","/v1/projects",t)}const wR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RR=/^https?/;async function IR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await SR(s);for(const n of t)try{if(CR(n))return}catch{}ss(s,"unauthorized-domain")}function CR(s){const t=dm(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!RR.test(n))return!1;if(wR.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const NR=new $l(3e4,6e4);function Lv(){const s=xi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function xR(s){return new Promise((t,n)=>{function r(){Lv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Lv(),n(Ni(s,"network-request-failed"))},timeout:NR.get()})}if(xi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(xi().gapi?.load)r();else{const o=Vw("iframefcb");return xi()[o]=()=>{gapi.load?r():n(Ni(s,"network-request-failed"))},Ow(`${Mw()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Kc=null,t})}let Kc=null;function DR(s){return Kc=Kc||xR(s),Kc}const OR=new $l(5e3,15e3),MR="__/auth/iframe",VR="emulator/auth/iframe",kR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LR(s){const t=s.config;_t(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?Hm(t,VR):`https://${s.config.authDomain}/${MR}`,r={apiKey:t.apiKey,appName:s.name,v:Wr},o=UR.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Xl(r).slice(1)}`}async function PR(s){const t=await DR(s),n=xi().gapi;return _t(n,s,"internal-error"),t.open({where:document.body,url:LR(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kR,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=Ni(s,"network-request-failed"),g=xi().setTimeout(()=>{u(f)},OR.get());function y(){xi().clearTimeout(g),o(r)}r.ping(y).then(y,()=>{u(f)})}))}const zR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jR=500,BR=600,qR="_blank",HR="http://localhost";class Pv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FR(s,t,n,r=jR,o=BR){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const y={...zR,width:r.toString(),height:o.toString(),top:u,left:f},p=en().toLowerCase();n&&(g=bT(p)?qR:n),TT(p)&&(t=t||HR,y.scrollbars="yes");const E=Object.entries(y).reduce((x,[q,K])=>`${x}${q}=${K},`,"");if(Sw(p)&&g!=="_self")return GR(t||"",g),new Pv(null);const S=window.open(t||"",g,E);_t(S,s,"popup-blocked");try{S.focus()}catch{}return new Pv(S)}function GR(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const KR="__/auth/handler",QR="emulator/auth/handler",YR=encodeURIComponent("fac");async function zv(s,t,n,r,o,u){_t(s.config.authDomain,s,"auth-domain-config-required"),_t(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Wr,eventId:o};if(t instanceof DT){t.setDefaultLanguage(s.languageCode),f.providerId=t.providerId||"",XA(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(t instanceof Jl){const E=t.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}s.tenantId&&(f.tid=s.tenantId);const g=f;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const y=await s._getAppCheckToken(),p=y?`#${YR}=${encodeURIComponent(y)}`:"";return`${XR(s)}?${Xl(g).slice(1)}${p}`}function XR({config:s}){return s.emulator?Hm(s,QR):`https://${s.authDomain}/${KR}`}const Zd="webStorageSupport";class $R{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UT,this._completeRedirectFn=TR,this._overrideRedirectResult=yR}async _openPopup(t,n,r,o){rs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await zv(t,n,r,dm(),o);return FR(t,u,Qm())}async _openRedirect(t,n,r,o){await this._originValidation(t);const u=await zv(t,n,r,dm(),o);return Ww(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(rs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await PR(t),r=new bR(t);return n.register("authEvent",o=>(_t(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Zd,{type:Zd},o=>{const u=o?.[0]?.[Zd];u!==void 0&&n(!!u),ss(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return IT()||ET()||Gm()}}const JR=$R;var jv="@firebase/auth",Bv="1.12.0";class ZR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function WR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function t2(s){Yr(new tr("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=r.options;_t(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:f,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CT(s)},p=new xw(r,o,u,y);return Uw(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Yr(new tr("auth-internal",t=>{const n=Sh(t.getProvider("auth").getImmediate());return(r=>new ZR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ci(jv,Bv,WR(s)),Ci(jv,Bv,"esm2020")}const e2=300,n2=sT("authIdTokenMaxAge")||e2;let qv=null;const i2=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>n2)return;const o=n?.token;qv!==o&&(qv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function s2(s=Bm()){const t=bh(s,"auth");if(t.isInitialized())return t.getImmediate();const n=kw(s,{popupRedirectResolver:JR,persistence:[lR,$w,UT]}),r=sT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=i2(u.toString());Kw(n,f,()=>f(n.currentUser)),Gw(n,g=>f(g))}}const o=eT("auth");return o&&Lw(n,`http://${o}`),n}function r2(){return document.getElementsByTagName("head")?.[0]??document}Dw({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=o=>{const u=Ni("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",r2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});t2("Browser");var Hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Js,HT;(function(){var s;function t(I,A){function w(){}w.prototype=A.prototype,I.F=A.prototype,I.prototype=new w,I.prototype.constructor=I,I.D=function(O,D,U){for(var R=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)R[Xt-2]=arguments[Xt];return A.prototype[D].apply(O,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,A,w){w||(w=0);const O=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)O[D]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(D=0;D<16;++D)O[D]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=I.g[0],w=I.g[1],D=I.g[2];let U=I.g[3],R;R=A+(U^w&(D^U))+O[0]+3614090360&4294967295,A=w+(R<<7&4294967295|R>>>25),R=U+(D^A&(w^D))+O[1]+3905402710&4294967295,U=A+(R<<12&4294967295|R>>>20),R=D+(w^U&(A^w))+O[2]+606105819&4294967295,D=U+(R<<17&4294967295|R>>>15),R=w+(A^D&(U^A))+O[3]+3250441966&4294967295,w=D+(R<<22&4294967295|R>>>10),R=A+(U^w&(D^U))+O[4]+4118548399&4294967295,A=w+(R<<7&4294967295|R>>>25),R=U+(D^A&(w^D))+O[5]+1200080426&4294967295,U=A+(R<<12&4294967295|R>>>20),R=D+(w^U&(A^w))+O[6]+2821735955&4294967295,D=U+(R<<17&4294967295|R>>>15),R=w+(A^D&(U^A))+O[7]+4249261313&4294967295,w=D+(R<<22&4294967295|R>>>10),R=A+(U^w&(D^U))+O[8]+1770035416&4294967295,A=w+(R<<7&4294967295|R>>>25),R=U+(D^A&(w^D))+O[9]+2336552879&4294967295,U=A+(R<<12&4294967295|R>>>20),R=D+(w^U&(A^w))+O[10]+4294925233&4294967295,D=U+(R<<17&4294967295|R>>>15),R=w+(A^D&(U^A))+O[11]+2304563134&4294967295,w=D+(R<<22&4294967295|R>>>10),R=A+(U^w&(D^U))+O[12]+1804603682&4294967295,A=w+(R<<7&4294967295|R>>>25),R=U+(D^A&(w^D))+O[13]+4254626195&4294967295,U=A+(R<<12&4294967295|R>>>20),R=D+(w^U&(A^w))+O[14]+2792965006&4294967295,D=U+(R<<17&4294967295|R>>>15),R=w+(A^D&(U^A))+O[15]+1236535329&4294967295,w=D+(R<<22&4294967295|R>>>10),R=A+(D^U&(w^D))+O[1]+4129170786&4294967295,A=w+(R<<5&4294967295|R>>>27),R=U+(w^D&(A^w))+O[6]+3225465664&4294967295,U=A+(R<<9&4294967295|R>>>23),R=D+(A^w&(U^A))+O[11]+643717713&4294967295,D=U+(R<<14&4294967295|R>>>18),R=w+(U^A&(D^U))+O[0]+3921069994&4294967295,w=D+(R<<20&4294967295|R>>>12),R=A+(D^U&(w^D))+O[5]+3593408605&4294967295,A=w+(R<<5&4294967295|R>>>27),R=U+(w^D&(A^w))+O[10]+38016083&4294967295,U=A+(R<<9&4294967295|R>>>23),R=D+(A^w&(U^A))+O[15]+3634488961&4294967295,D=U+(R<<14&4294967295|R>>>18),R=w+(U^A&(D^U))+O[4]+3889429448&4294967295,w=D+(R<<20&4294967295|R>>>12),R=A+(D^U&(w^D))+O[9]+568446438&4294967295,A=w+(R<<5&4294967295|R>>>27),R=U+(w^D&(A^w))+O[14]+3275163606&4294967295,U=A+(R<<9&4294967295|R>>>23),R=D+(A^w&(U^A))+O[3]+4107603335&4294967295,D=U+(R<<14&4294967295|R>>>18),R=w+(U^A&(D^U))+O[8]+1163531501&4294967295,w=D+(R<<20&4294967295|R>>>12),R=A+(D^U&(w^D))+O[13]+2850285829&4294967295,A=w+(R<<5&4294967295|R>>>27),R=U+(w^D&(A^w))+O[2]+4243563512&4294967295,U=A+(R<<9&4294967295|R>>>23),R=D+(A^w&(U^A))+O[7]+1735328473&4294967295,D=U+(R<<14&4294967295|R>>>18),R=w+(U^A&(D^U))+O[12]+2368359562&4294967295,w=D+(R<<20&4294967295|R>>>12),R=A+(w^D^U)+O[5]+4294588738&4294967295,A=w+(R<<4&4294967295|R>>>28),R=U+(A^w^D)+O[8]+2272392833&4294967295,U=A+(R<<11&4294967295|R>>>21),R=D+(U^A^w)+O[11]+1839030562&4294967295,D=U+(R<<16&4294967295|R>>>16),R=w+(D^U^A)+O[14]+4259657740&4294967295,w=D+(R<<23&4294967295|R>>>9),R=A+(w^D^U)+O[1]+2763975236&4294967295,A=w+(R<<4&4294967295|R>>>28),R=U+(A^w^D)+O[4]+1272893353&4294967295,U=A+(R<<11&4294967295|R>>>21),R=D+(U^A^w)+O[7]+4139469664&4294967295,D=U+(R<<16&4294967295|R>>>16),R=w+(D^U^A)+O[10]+3200236656&4294967295,w=D+(R<<23&4294967295|R>>>9),R=A+(w^D^U)+O[13]+681279174&4294967295,A=w+(R<<4&4294967295|R>>>28),R=U+(A^w^D)+O[0]+3936430074&4294967295,U=A+(R<<11&4294967295|R>>>21),R=D+(U^A^w)+O[3]+3572445317&4294967295,D=U+(R<<16&4294967295|R>>>16),R=w+(D^U^A)+O[6]+76029189&4294967295,w=D+(R<<23&4294967295|R>>>9),R=A+(w^D^U)+O[9]+3654602809&4294967295,A=w+(R<<4&4294967295|R>>>28),R=U+(A^w^D)+O[12]+3873151461&4294967295,U=A+(R<<11&4294967295|R>>>21),R=D+(U^A^w)+O[15]+530742520&4294967295,D=U+(R<<16&4294967295|R>>>16),R=w+(D^U^A)+O[2]+3299628645&4294967295,w=D+(R<<23&4294967295|R>>>9),R=A+(D^(w|~U))+O[0]+4096336452&4294967295,A=w+(R<<6&4294967295|R>>>26),R=U+(w^(A|~D))+O[7]+1126891415&4294967295,U=A+(R<<10&4294967295|R>>>22),R=D+(A^(U|~w))+O[14]+2878612391&4294967295,D=U+(R<<15&4294967295|R>>>17),R=w+(U^(D|~A))+O[5]+4237533241&4294967295,w=D+(R<<21&4294967295|R>>>11),R=A+(D^(w|~U))+O[12]+1700485571&4294967295,A=w+(R<<6&4294967295|R>>>26),R=U+(w^(A|~D))+O[3]+2399980690&4294967295,U=A+(R<<10&4294967295|R>>>22),R=D+(A^(U|~w))+O[10]+4293915773&4294967295,D=U+(R<<15&4294967295|R>>>17),R=w+(U^(D|~A))+O[1]+2240044497&4294967295,w=D+(R<<21&4294967295|R>>>11),R=A+(D^(w|~U))+O[8]+1873313359&4294967295,A=w+(R<<6&4294967295|R>>>26),R=U+(w^(A|~D))+O[15]+4264355552&4294967295,U=A+(R<<10&4294967295|R>>>22),R=D+(A^(U|~w))+O[6]+2734768916&4294967295,D=U+(R<<15&4294967295|R>>>17),R=w+(U^(D|~A))+O[13]+1309151649&4294967295,w=D+(R<<21&4294967295|R>>>11),R=A+(D^(w|~U))+O[4]+4149444226&4294967295,A=w+(R<<6&4294967295|R>>>26),R=U+(w^(A|~D))+O[11]+3174756917&4294967295,U=A+(R<<10&4294967295|R>>>22),R=D+(A^(U|~w))+O[2]+718787259&4294967295,D=U+(R<<15&4294967295|R>>>17),R=w+(U^(D|~A))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+U&4294967295}r.prototype.v=function(I,A){A===void 0&&(A=I.length);const w=A-this.blockSize,O=this.C;let D=this.h,U=0;for(;U<A;){if(D==0)for(;U<=w;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<A;)if(O[D++]=I.charCodeAt(U++),D==this.blockSize){o(this,O),D=0;break}}else for(;U<A;)if(O[D++]=I[U++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=A},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var w=I.length-8;w<I.length;++w)I[w]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,w=0;w<4;++w)for(let O=0;O<32;O+=8)I[A++]=this.g[w]>>>O&255;return I};function u(I,A){var w=g;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=A(I)}function f(I,A){this.h=A;const w=[];let O=!0;for(let D=I.length-1;D>=0;D--){const U=I[D]|0;O&&U==A||(w[D]=U,O=!1)}this.g=w}var g={};function y(I){return-128<=I&&I<128?u(I,function(A){return new f([A|0],A<0?-1:0)}):new f([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return W(p(-I));const A=[];let w=1;for(let O=0;I>=w;O++)A[O]=I/w|0,w*=4294967296;return new f(A,0)}function E(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return W(E(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=p(Math.pow(A,8));let O=S;for(let U=0;U<I.length;U+=8){var D=Math.min(8,I.length-U);const R=parseInt(I.substring(U,U+D),A);D<8?(D=p(Math.pow(A,D)),O=O.j(D).add(p(R))):(O=O.j(w),O=O.add(p(R)))}return O}var S=y(0),x=y(1),q=y(16777216);s=f.prototype,s.m=function(){if(J(this))return-W(this).m();let I=0,A=1;for(let w=0;w<this.g.length;w++){const O=this.i(w);I+=(O>=0?O:4294967296+O)*A,A*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(K(this))return"0";if(J(this))return"-"+W(this).toString(I);const A=p(Math.pow(I,6));var w=this;let O="";for(;;){const D=gt(w,A).g;w=ut(w,D.j(A));let U=((w.g.length>0?w.g[0]:w.h)>>>0).toString(I);if(w=D,K(w))return U+O;for(;U.length<6;)U="0"+U;O=U+O}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function K(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function J(I){return I.h==-1}s.l=function(I){return I=ut(this,I),J(I)?-1:K(I)?0:1};function W(I){const A=I.g.length,w=[];for(let O=0;O<A;O++)w[O]=~I.g[O];return new f(w,~I.h).add(x)}s.abs=function(){return J(this)?W(this):this},s.add=function(I){const A=Math.max(this.g.length,I.g.length),w=[];let O=0;for(let D=0;D<=A;D++){let U=O+(this.i(D)&65535)+(I.i(D)&65535),R=(U>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);O=R>>>16,U&=65535,R&=65535,w[D]=R<<16|U}return new f(w,w[w.length-1]&-2147483648?-1:0)};function ut(I,A){return I.add(W(A))}s.j=function(I){if(K(this)||K(I))return S;if(J(this))return J(I)?W(this).j(W(I)):W(W(this).j(I));if(J(I))return W(this.j(W(I)));if(this.l(q)<0&&I.l(q)<0)return p(this.m()*I.m());const A=this.g.length+I.g.length,w=[];for(var O=0;O<2*A;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<I.g.length;D++){const U=this.i(O)>>>16,R=this.i(O)&65535,Xt=I.i(D)>>>16,de=I.i(D)&65535;w[2*O+2*D]+=R*de,st(w,2*O+2*D),w[2*O+2*D+1]+=U*de,st(w,2*O+2*D+1),w[2*O+2*D+1]+=R*Xt,st(w,2*O+2*D+1),w[2*O+2*D+2]+=U*Xt,st(w,2*O+2*D+2)}for(I=0;I<A;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=A;I<2*A;I++)w[I]=0;return new f(w,0)};function st(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function et(I,A){this.g=I,this.h=A}function gt(I,A){if(K(A))throw Error("division by zero");if(K(I))return new et(S,S);if(J(I))return A=gt(W(I),A),new et(W(A.g),W(A.h));if(J(A))return A=gt(I,W(A)),new et(W(A.g),A.h);if(I.g.length>30){if(J(I)||J(A))throw Error("slowDivide_ only works with positive integers.");for(var w=x,O=A;O.l(I)<=0;)w=Ct(w),O=Ct(O);var D=Et(w,1),U=Et(O,1);for(O=Et(O,2),w=Et(w,2);!K(O);){var R=U.add(O);R.l(I)<=0&&(D=D.add(w),U=R),O=Et(O,1),w=Et(w,1)}return A=ut(I,D.j(A)),new et(D,A)}for(D=S;I.l(A)>=0;){for(w=Math.max(1,Math.floor(I.m()/A.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),U=p(w),R=U.j(A);J(R)||R.l(I)>0;)w-=O,U=p(w),R=U.j(A);K(U)&&(U=x),D=D.add(U),I=ut(I,R)}return new et(D,I)}s.B=function(I){return gt(this,I).h},s.and=function(I){const A=Math.max(this.g.length,I.g.length),w=[];for(let O=0;O<A;O++)w[O]=this.i(O)&I.i(O);return new f(w,this.h&I.h)},s.or=function(I){const A=Math.max(this.g.length,I.g.length),w=[];for(let O=0;O<A;O++)w[O]=this.i(O)|I.i(O);return new f(w,this.h|I.h)},s.xor=function(I){const A=Math.max(this.g.length,I.g.length),w=[];for(let O=0;O<A;O++)w[O]=this.i(O)^I.i(O);return new f(w,this.h^I.h)};function Ct(I){const A=I.g.length+1,w=[];for(let O=0;O<A;O++)w[O]=I.i(O)<<1|I.i(O-1)>>>31;return new f(w,I.h)}function Et(I,A){const w=A>>5;A%=32;const O=I.g.length-w,D=[];for(let U=0;U<O;U++)D[U]=A>0?I.i(U+w)>>>A|I.i(U+w+1)<<32-A:I.i(U+w);return new f(D,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,HT=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,Js=f}).apply(typeof Hv<"u"?Hv:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var FT,Il,GT,Qc,pm,KT,QT,YT;(function(){var s,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(c,m){if(m)t:{var v=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var L=c[b];if(!(L in v))break t;v=v[L]}c=c[c.length-1],b=v[c],m=m(b),m!=b&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var u=u||{},f=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function y(c,m,v){return c.call.apply(c.bind,arguments)}function p(c,m,v){return p=y,p.apply(null,arguments)}function E(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function S(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(b,L,B){for(var tt=Array(arguments.length-2),St=2;St<arguments.length;St++)tt[St-2]=arguments[St];return m.prototype[L].apply(b,tt)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function q(c){const m=c.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=c[b];return v}return[]}function K(c,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const B=L.length||0;c.length=v+B;for(let tt=0;tt<B;tt++)c[v+tt]=L[tt]}else c.push(L)}}class J{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(c){f.setTimeout(()=>{throw c},0)}function ut(){var c=I;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class st{constructor(){this.h=this.g=null}add(m,v){const b=et.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var et=new J(()=>new gt,c=>c.reset());class gt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ct,Et=!1,I=new st,A=()=>{const c=Promise.resolve(void 0);Ct=()=>{c.then(w)}};function w(){for(var c;c=ut();){try{c.h.call(c.g)}catch(v){W(v)}var m=et;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Et=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function Xt(c,m){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(Xt,D),Xt.prototype.init=function(c,m){const v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Xt.Z.h.call(this)},Xt.prototype.h=function(){Xt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),F=0;function nt(c,m,v,b,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++F,this.da=this.fa=!1}function dt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function zt(c,m,v){for(const b in c)m.call(v,c[b],b,c)}function Gt(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function V(c){const m={};for(const v in c)m[v]=c[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(c,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)c[v]=b[v];for(let B=0;B<X.length;B++)v=X[B],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function ot(c){this.src=c,this.g={},this.h=0}ot.prototype.add=function(c,m,v,b,L){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const tt=Rt(c,m,b,L);return tt>-1?(m=c[tt],v||(m.fa=!1)):(m=new nt(m,this.src,B,!!b,L),m.fa=v,c.push(m)),m};function vt(c,m){const v=m.type;if(v in c.g){var b=c.g[v],L=Array.prototype.indexOf.call(b,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&(dt(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Rt(c,m,v,b){for(let L=0;L<c.length;++L){const B=c[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return L}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Ve={};function re(c,m,v,b,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(c,m[B],v,b,L);return null}return v=Eo(v),c&&c[de]?c.J(m,v,g(b)?!!b.capture:!1,L):hr(c,m,v,!1,b,L)}function hr(c,m,v,b,L,B){if(!m)throw Error("Invalid event type");const tt=g(L)?!!L.capture:!!L;let St=fr(c);if(St||(c[Lt]=St=new ot(c)),v=St.add(m,v,b,tt,B),v.proxy)return v;if(b=ia(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)U||(L=tt),L===void 0&&(L=!1),c.addEventListener(m.toString(),b,L);else if(c.attachEvent)c.attachEvent(si(m.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ia(){function c(v){return m.call(c.src,c.listener,v)}const m=vo;return c}function sa(c,m,v,b,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)sa(c,m[B],v,b,L);else b=g(b)?!!b.capture:!!b,v=Eo(v),c&&c[de]?(c=c.i,B=String(m).toString(),B in c.g&&(m=c.g[B],v=Rt(m,v,b,L),v>-1&&(dt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[B],c.h--)))):c&&(c=fr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Rt(m,v,b,L)),(v=c>-1?m[c]:null)&&ra(v))}function ra(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[de])vt(m.i,c);else{var v=c.type,b=c.proxy;m.removeEventListener?m.removeEventListener(v,b,c.capture):m.detachEvent?m.detachEvent(si(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=fr(m))?(vt(v,c),v.h==0&&(v.src=null,m[Lt]=null)):dt(c)}}}function si(c){return c in Ve?Ve[c]:Ve[c]="on"+c}function vo(c,m){if(c.da)c=!0;else{m=new Xt(m,this);const v=c.listener,b=c.ha||c.src;c.fa&&ra(c),c=v.call(b,m)}return c}function fr(c){return c=c[Lt],c instanceof ot?c:null}var To="__closure_events_fn_"+(Math.random()*1e9>>>0);function Eo(c){return typeof c=="function"?c:(c[To]||(c[To]=function(m){return c.handleEvent(m)}),c[To])}function Te(){O.call(this),this.i=new ot(this),this.M=this,this.G=null}S(Te,O),Te.prototype[de]=!0,Te.prototype.removeEventListener=function(c,m,v,b){sa(this,c,m,v,b)};function ke(c,m){var v,b=c.G;if(b)for(v=[];b;b=b.G)v.push(b);if(c=c.M,b=m.type||m,typeof m=="string")m=new D(m,c);else if(m instanceof D)m.target=m.target||c;else{var L=m;m=new D(b,c),it(m,L)}L=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],L=ls(B,b,!0,m)&&L;if(B=m.g=c,L=ls(B,b,!0,m)&&L,L=ls(B,b,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],L=ls(B,b,!1,m)&&L}Te.prototype.N=function(){if(Te.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let b=0;b<v.length;b++)dt(v[b]);delete c.g[m],c.h--}}this.G=null},Te.prototype.J=function(c,m,v,b){return this.i.add(String(c),m,!1,v,b)},Te.prototype.K=function(c,m,v,b){return this.i.add(String(c),m,!0,v,b)};function ls(c,m,v,b){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const St=tt.listener,ge=tt.ha||tt.src;tt.fa&&vt(c.i,tt),L=St.call(ge,b)!==!1&&L}}return L&&!b.defaultPrevented}function Bh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function ru(c){c.g=Bh(()=>{c.g=null,c.i&&(c.i=!1,ru(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class nn extends O{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ru(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dr(c){O.call(this),this.h=c,this.g={}}S(dr,O);var bo=[];function Ao(c){zt(c.g,function(m,v){this.g.hasOwnProperty(v)&&ra(m)},c),c.g={}}dr.prototype.N=function(){dr.Z.N.call(this),Ao(this)},dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var us=f.JSON.stringify,qh=f.JSON.parse,au=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function ou(){}function lu(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){D.call(this,"d")}S(qe,D);function In(){D.call(this,"c")}S(In,D);var me={},uu=null;function aa(){return uu=uu||new Te}me.Ia="serverreachability";function cu(c){D.call(this,me.Ia,c)}S(cu,D);function ri(c){const m=aa();ke(m,new cu(m))}me.STAT_EVENT="statevent";function mr(c,m){D.call(this,me.STAT_EVENT,c),this.stat=m}S(mr,D);function Ee(c){const m=aa();ke(m,new mr(m,c))}me.Ja="timingevent";function ai(c,m){D.call(this,me.Ja,c),this.size=m}S(ai,D);function oi(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function Hh(c,m,v,b,L,B){c.info(function(){if(c.g)if(B){var tt="",St=B.split("&");for(let qt=0;qt<St.length;qt++){var ge=St[qt].split("=");if(ge.length>1){const ae=ge[0];ge=ge[1];const Dn=ae.split("_");tt=Dn.length>=2&&Dn[1]=="type"?tt+(ae+"="+ge+"&"):tt+(ae+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function hu(c,m,v,b,L,B,tt){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+tt})}function li(c,m,v,b){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fh(c,v)+(b?" "+b:"")})}function gr(c,m){c.info(function(){return"TIMEOUT: "+m})}Hn.prototype.info=function(){};function Fh(c,m){if(!c.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var v=B[c];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<b.length;tt++)b[tt]=""}}}}return us(B)}catch{return m}}var pr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},So={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wo;function yr(){}S(yr,ou),yr.prototype.g=function(){return new XMLHttpRequest},wo=new yr;function Ui(c){return encodeURIComponent(String(c))}function fu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Fn(c,m,v,b){this.j=c,this.i=m,this.l=v,this.S=b||1,this.V=new dr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var be={},Pe={};function ui(c,m,v){c.M=1,c.A=_r(Se(m)),c.u=v,c.R=!0,oa(c,null)}function oa(c,m){c.F=Date.now(),ci(c),c.B=Se(c.A);var v=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),ha(v.i,"t",b),c.C=0,v=c.j.L,c.h=new Gn,c.g=Iu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new nn(p(c.Y,c,c.g),c.P)),m=c.V,v=c.g,b=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(bo[0]=L.toString()),L=bo);for(let B=0;B<L.length;B++){const tt=re(v,L[B],b||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ri(),Hh(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Yn(c)==3?m.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)t:{const St=Yn(this.g),ge=this.g.ya(),qt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||He(this.g)))){this.K||St!=4||ge==7||(ge==8||qt<=0?ri(3):ri(2)),hi(this);var m=this.g.ca();this.X=m;var v=Gh(this);if(this.o=m==200,hu(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var B=b;break e}}B=null}if(c=B)li(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,c);else{this.o=!1,this.m=3,Ee(12),pn(this),Cn(this);break t}}if(this.R){c=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=mu(this,v),ae==Pe){St==4&&(this.m=4,Ee(14),c=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==be){this.m=4,Ee(15),li(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else li(this.i,this.l,ae,null),fi(this,ae);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||v.length!=0||this.h.h||(this.m=1,Ee(16),c=!1),this.o=this.o&&c,!c)li(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),jo(tt),tt.P=!0,Ee(11))}}else li(this.i,this.l,v,null),fi(this,v);St==4&&pn(this),this.o&&!this.K&&(St==4?Au(this.j,this):(this.o=!1,ci(this)))}else Pi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),pn(this),Cn(this)}}}catch{}};function Gh(c){if(!du(c))return c.g.la();const m=He(c.g);if(m==="")return"";let v="";const b=m.length,L=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Cn(c),"";c.h.i=new f.TextDecoder}for(let B=0;B<b;B++)c.h.h=!0,v+=c.h.i.decode(m[B],{stream:!(L&&B==b-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function du(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function mu(c,m){var v=c.C,b=m.indexOf(`
`,v);return b==-1?Pe:(v=Number(m.substring(v,b)),isNaN(v)?be:(b+=1,b+v>m.length?Pe:(m=m.slice(b,b+v),c.C=b+v,m)))}Fn.prototype.cancel=function(){this.K=!0,pn(this)};function ci(c){c.T=Date.now()+c.H,la(c,c.H)}function la(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=oi(p(c.aa,c),m)}function hi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(gr(this.i,this.B),this.M!=2&&(ri(),Ee(17)),pn(this),this.m=2,Cn(this)):la(this,this.T-c)};function Cn(c){c.j.I==0||c.K||Au(c.j,c)}function pn(c){hi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Ao(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function fi(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||mi(v.h,c))){if(!c.L&&mi(v.h,c)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)pa(v),ys(v);else break t;wr(v),Ee(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=oi(p(v.Va,v),6e3));di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((c.L||v.g==c)&&pa(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let qt=L[m];const ae=qt[0];if(!(ae<=v.K))if(v.K=ae,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const Dn=qt[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const Ei=qt[4];Ei!=null&&(v.za=Ei,v.j.info("SVER="+v.za));const Xn=qt[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(b=1.5*Xn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const $n=c.g;if($n){const Rr=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rr){var B=b.h;B.g||Rr.indexOf("spdy")==-1&&Rr.indexOf("quic")==-1&&Rr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Co(B,B.h),B.h=null))}if(b.G){const ya=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(b.wa=ya,Kt(b.J,b.G,ya))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var tt=c;if(b.na=Ru(b,b.L?b.ba:null,b.W),tt.L){No(b.h,tt);var St=tt,ge=b.O;ge&&(St.H=ge),St.D&&(hi(St),ci(St)),b.g=tt}else Eu(b);v.i.length>0&&vi(v)}else qt[0]!="stop"&&qt[0]!="close"||Ti(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?Ti(v,7):Po(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}ri(4)}catch{}}var Ae=class{constructor(c,m){this.g=c,this.map=m}};function Ro(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Io(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function di(c){return c.h?1:c.g?c.g.size:0}function mi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Co(c,m){c.g?c.g.add(m):c.h=m}function No(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Ro.prototype.cancel=function(){if(this.i=xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function xo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return q(c.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const b=c[v].indexOf("=");let L,B=null;b>=0?(L=c[v].substring(0,b),B=c[v].substring(b+1)):L=c[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof yn?(this.l=c.l,ze(this,c.j),this.o=c.o,this.g=c.g,cs(this,c.u),this.h=c.h,Do(this,vu(c.i)),this.m=c.m):c&&(m=String(c).match(gu))?(this.l=!1,ze(this,m[1]||"",!0),this.o=gi(m[2]||""),this.g=gi(m[3]||"",!0),cs(this,m[4]),this.h=gi(m[5]||"",!0),Do(this,m[6]||"",!0),this.m=gi(m[7]||"")):(this.l=!1,this.i=new fs(null,this.l))}yn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(vr(m,ca,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(vr(m,ca,!0),"@"),c.push(Ui(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(vr(v,v.charAt(0)=="/"?Oo:pu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",vr(v,yu)),c.join("")},yn.prototype.resolve=function(c){const m=Se(this);let v=!!c.j;v?ze(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var b=c.h;if(v)cs(m,c.u);else if(v=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const St=L[tt++];St=="."?b&&tt==L.length&&B.push(""):St==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&tt==L.length&&B.push("")):(B.push(St),b=!0)}b=B.join("/")}else b=L}return v?m.h=b:v=c.i.toString()!=="",v?Do(m,vu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Se(c){return new yn(c)}function ze(c,m,v){c.j=v?gi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function cs(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Do(c,m,v){m instanceof fs?(c.i=m,fa(c.i,c.l)):(v||(m=vr(m,hs)),c.i=new fs(m,c.l))}function Kt(c,m,v){c.i.set(m,v)}function _r(c){return Kt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function gi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vr(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,on),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ca=/[#\/\?@]/g,pu=/[#\?:]/g,Oo=/[#\?]/g,hs=/[#\?@]/g,yu=/#/g;function fs(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&ua(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=fs.prototype,s.add=function(c,m){ln(this),this.i=null,c=ds(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function _u(c,m){ln(c),m=ds(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Mo(c,m){return ln(c),m=ds(c,m),c.g.has(m)}s.forEach=function(c,m){ln(this),this.g.forEach(function(v,b){v.forEach(function(L){c.call(m,L,b,this)},this)},this)};function Vo(c,m){ln(c);let v=[];if(typeof m=="string")Mo(c,m)&&(v=v.concat(c.g.get(ds(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return ln(this),this.i=null,c=ds(this,c),Mo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=Vo(this,c),c.length>0?String(c[0]):m):m};function ha(c,m,v){_u(c,m),v.length>0&&(c.i=null,c.g.set(ds(c,m),q(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=Ui(v);v=Vo(this,v);for(let B=0;B<v.length;B++){let tt=L;v[B]!==""&&(tt+="="+Ui(v[B])),c.push(tt)}}return this.i=c.join("&")};function vu(c){const m=new fs;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function ds(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function fa(c,m){m&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(_u(this,b),ha(this,L,v))},c)),c.j=m}function Kn(c,m){const v=new Hn;if(f.Image){const b=new Image;b.onload=E(Nn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(Nn,v,"TestLoadImage: error",!1,m,b),b.onabort=E(Nn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(Nn,v,"TestLoadImage: timeout",!1,m,b),f.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else m(!1)}function ko(c,m){const v=new Hn,b=new AbortController,L=setTimeout(()=>{b.abort(),Nn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?Nn(v,"TestPingServer: ok",!0,m):Nn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Nn(v,"TestPingServer: error",!1,m)})}function Nn(c,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function ms(){this.g=new au}function pi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(pi,ou),pi.prototype.g=function(){return new Tr(this.i,this.h)};function Tr(c,m){Te.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Tr,Te),s=Tr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Qn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gs(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;da(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function da(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?gs(this):Qn(this),this.readyState==3&&da(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,gs(this))},s.Na=function(c){this.g&&(this.response=c,gs(this))},s.ga=function(){this.g&&gs(this)};function gs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function xn(c){let m="";return zt(c,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Er(c,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=xn(v),typeof c=="string"?v!=null&&Ui(v):Kt(c,m,v))}function $t(c){Te.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S($t,Te);var yi=/^https?$/i,Uo=["POST","PUT"];s=$t.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wo.g(),this.g.onreadystatechange=x(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(B){br(this,B);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Uo,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){br(this,B)}};function br(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Lo(c),Li(c)}function Lo(c){c.A||(c.A=!0,ke(c,"complete"),ke(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ke(this,"complete"),ke(this,"abort"),Li(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),$t.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ar(this):this.Xa())},s.Xa=function(){Ar(this)};function Ar(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(ke(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const B=c.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let tt=String(c.D).match(gu)[1]||null;!tt&&f.self&&f.self.location&&(tt=f.self.location.protocol.slice(0,-1)),b=!yi.test(tt?tt.toLowerCase():"")}v=b}if(v)ke(c,"complete"),ke(c,"success");else{c.o=6;try{var L=Yn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Lo(c)}}finally{Li(c)}}}}function Li(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||ke(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),qh(m)}};function He(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(c){const m={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(R(c[b]))continue;var v=fu(c[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Gt(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function ps(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,c),this.Za=_i("retryDelaySeedMs",1e4,c),this.Ta=_i("forwardChannelMaxRetries",2,c),this.va=_i("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ro(c&&c.concurrentRequestLimit),this.Ba=new ms,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ps.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,b){Ee(0),this.W=c,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Ru(this,null,this.W),vi(this)};function Po(c){if(ma(c),c.I==3){var m=c.V++,v=Se(c.J);if(Kt(v,"SID",c.M),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),Sr(c,v),m=new Fn(c,c.j,m),m.M=2,m.A=_r(Se(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.A,v=!0),v||(m.g=Iu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ci(m)}wu(c)}function ys(c){c.g&&(jo(c),c.g.cancel(),c.g=null)}function ma(c){ys(c),c.v&&(f.clearTimeout(c.v),c.v=null),pa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function vi(c){if(!Io(c.h)&&!c.m){c.m=!0;var m=c.Ea;Ct||A(),Et||(Ct(),Et=!0),I.add(m,c),c.D=0}}function ga(c,m){return di(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=oi(p(c.Ea,c,m),Su(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Fn(this,this.j,c);let B=this.o;if(this.U&&(B?(B=V(B),it(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Tu(this,L,m),v=Se(this.J),Kt(v,"RID",c),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),Sr(this,v),B&&(this.R?m="headers="+Ui(xn(B))+"&"+m:this.u&&Er(v,this.u,B)),Co(this.h,L),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",m),Kt(v,"SID","null"),L.U=!0,ui(L,v,null)):ui(L,v,m),this.I=2}}else this.I==3&&(c?zo(this,c):this.i.length==0||Io(this.h)||zo(this))};function zo(c,m){var v;m?v=m.l:v=c.V++;const b=Se(c.J);Kt(b,"SID",c.M),Kt(b,"RID",v),Kt(b,"AID",c.K),Sr(c,b),c.u&&c.o&&Er(b,c.u,c.o),v=new Fn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Tu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Co(c.h,v),ui(v,b,m)}function Sr(c,m){c.H&&zt(c.H,function(v,b){Kt(m,b,v)}),c.l&&zt({},function(v,b){Kt(m,b,v)})}function Tu(c,m,v){v=Math.min(c.i.length,v);const b=c.l?p(c.l.Ka,c.l,c):null;t:{var L=c.i;let St=-1;for(;;){const ge=["count="+v];St==-1?v>0?(St=L[0].g,ge.push("ofs="+St)):St=0:ge.push("ofs="+St);let qt=!0;for(let ae=0;ae<v;ae++){var B=L[ae].g;const Dn=L[ae].map;if(B-=St,B<0)St=Math.max(0,L[ae].g-100),qt=!1;else try{B="req"+B+"_"||"";try{var tt=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Ei,Xn]of tt){let $n=Xn;g(Xn)&&($n=us(Xn)),ge.push(B+Ei+"="+encodeURIComponent($n))}}catch(Ei){throw ge.push(B+"type="+encodeURIComponent("_badmap")),Ei}}catch{b&&b(Dn)}}if(qt){tt=ge.join("&");break t}}tt=void 0}return c=c.i.splice(0,v),m.G=c,tt}function Eu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Ct||A(),Et||(Ct(),Et=!0),I.add(m,c),c.A=0}}function wr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=oi(p(c.Da,c),Su(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=oi(p(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),ys(this),bu(this))};function jo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function bu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Se(c.na);Kt(m,"RID","rpc"),Kt(m,"SID",c.M),Kt(m,"AID",c.K),Kt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Kt(m,"TO",c.ia),Kt(m,"TYPE","xmlhttp"),Sr(c,m),c.u&&c.o&&Er(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=_r(Se(m)),v.u=null,v.R=!0,oa(v,c)}s.Va=function(){this.C!=null&&(this.C=null,ys(this),wr(this),Ee(19))};function pa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Au(c,m){var v=null;if(c.g==m){pa(c),jo(c),c.g=null;var b=2}else if(mi(c.h,m))v=m.G,No(c.h,m),b=1;else return;if(c.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;b=aa(),ke(b,new ai(b,v)),vi(c)}else Eu(c);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&ga(c,m)||b==2&&wr(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function Su(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Ti(c,m){if(c.j.info("Error code "+m),m==2){var v=p(c.bb,c),b=c.Ua;const L=!b;b=new yn(b||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ze(b,"https"),_r(b),L?Kn(b.toString(),v):ko(b.toString(),v)}else Ee(2);c.I=0,c.l&&c.l.pa(m),wu(c),ma(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function wu(c){if(c.I=0,c.ja=[],c.l){const m=xo(c.h);(m.length!=0||c.i.length!=0)&&(K(c.ja,m),K(c.ja,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.oa()}}function Ru(c,m,v){var b=v instanceof yn?Se(v):new yn(v);if(b.g!="")m&&(b.g=m+"."+b.g),cs(b,b.u);else{var L=f.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new yn(null);b&&ze(B,b),m&&(B.g=m),L&&cs(B,L),v&&(B.h=v),b=B}return v=c.G,m=c.wa,v&&m&&Kt(b,v,m),Kt(b,"VER",c.ka),Sr(c,b),b}function Iu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new $t(new pi({ab:v})):new $t(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cu(){}s=Cu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function _s(){}_s.prototype.g=function(c,m){return new sn(c,m)};function sn(c,m){Te.call(this),this.g=new ps(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!R(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new zi(this)}S(sn,Te),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Po(this.g)},sn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=us(c),c=v);m.i.push(new Ae(m.Ya++,c)),m.I==3&&vi(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,Po(this.g),delete this.g,sn.Z.N.call(this)};function Nu(c){qe.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(Nu,qe);function xu(){In.call(this),this.status=1}S(xu,In);function zi(c){this.g=c}S(zi,Cu),zi.prototype.ra=function(){ke(this.g,"a")},zi.prototype.qa=function(c){ke(this.g,new Nu(c))},zi.prototype.pa=function(c){ke(this.g,new xu)},zi.prototype.oa=function(){ke(this.g,"b")},_s.prototype.createWebChannel=_s.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,YT=function(){return new _s},QT=function(){return aa()},KT=me,pm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pr.NO_ERROR=0,pr.TIMEOUT=8,pr.HTTP_ERROR=6,Qc=pr,So.COMPLETE="complete",GT=So,lu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Te.prototype.listen=Te.prototype.J,Il=lu,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,FT=$t}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});class We{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");let mo="12.8.0";function a2(s){mo=s}const $r=new zm("@firebase/firestore");function Qa(){return $r.logLevel}function at(s,...t){if($r.logLevel<=Mt.DEBUG){const n=t.map(Xm);$r.debug(`Firestore (${mo}): ${s}`,...n)}}function as(s,...t){if($r.logLevel<=Mt.ERROR){const n=t.map(Xm);$r.error(`Firestore (${mo}): ${s}`,...n)}}function so(s,...t){if($r.logLevel<=Mt.WARN){const n=t.map(Xm);$r.warn(`Firestore (${mo}): ${s}`,...n)}}function Xm(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function yt(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,XT(s,r,n)}function XT(s,t,n){let r=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw as(r),new Error(r)}function Ft(s,t,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||XT(t,o,r)}function At(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends ki{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class $T{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class o2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(We.UNAUTHENTICATED)))}shutdown(){}}class l2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class u2{constructor(t){this.t=t,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let u=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Fr,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=u;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Fr)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft(typeof r.accessToken=="string",31837,{l:r}),new $T(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new We(t)}}class c2{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=We.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class h2{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new c2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(We.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Fv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const r=u=>{u.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,at("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Fv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Fv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function d2(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class $m{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=d2(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=t.charAt(o[u]%62))}return r}}function Vt(s,t){return s<t?-1:s>t?1:0}function ym(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=t.charAt(r);if(o!==u)return Wd(o)===Wd(u)?Vt(o,u):Wd(o)?1:-1}return Vt(s.length,t.length)}const m2=55296,g2=57343;function Wd(s){const t=s.charCodeAt(0);return t>=m2&&t<=g2}function ro(s,t,n){return s.length===t.length&&s.every(((r,o)=>n(r,t[o])))}const Gv="__name__";class Ri{constructor(t,n,r){n===void 0?n=0:n>t.length&&yt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&yt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ri.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ri?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const u=Ri.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Vt(t.length,n.length)}static compareSegments(t,n){const r=Ri.isNumericId(t),o=Ri.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Ri.extractNumericId(t).compare(Ri.extractNumericId(n)):ym(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Js.fromString(t.substring(4,t.length-2))}}class ee extends Ri{construct(t,n,r){return new ee(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new rt($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new ee(n)}static emptyPath(){return new ee([])}}const p2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends Ri{construct(t,n,r){return new Xe(t,n,r)}static isValidIdentifier(t){return p2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gv}static keyField(){return new Xe([Gv])}static fromServerFormat(t){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new rt($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new rt($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new rt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(r+=g,o++):(u(),o++)}if(u(),f)throw new rt($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(n)}static emptyPath(){return new Xe([])}}class ft{constructor(t){this.path=t}static fromPath(t){return new ft(ee.fromString(t))}static fromName(t){return new ft(ee.fromString(t).popFirst(5))}static empty(){return new ft(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new ee(t.slice()))}}function JT(s,t,n){if(!n)throw new rt($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function y2(s,t,n,r){if(t===!0&&r===!0)throw new rt($.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Kv(s){if(!ft.isDocumentKey(s))throw new rt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Qv(s){if(ft.isDocumentKey(s))throw new rt($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function ZT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Ih(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function Zs(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new rt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ih(s);throw new rt($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}function De(s,t){const n={typeString:s};return t&&(n.value=t),n}function Wl(s,t){if(!ZT(s))throw new rt($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new rt($.INVALID_ARGUMENT,n);return!0}const Yv=-62135596800,Xv=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*Xv);return new se(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new rt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Yv)throw new rt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xv}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Wl(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Yv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:De("string",se._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new se(0,0))}static max(){return new Tt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Bl=-1;function _2(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(r===1e9?new se(n+1,0):new se(n,r));return new nr(o,ft.empty(),t)}function v2(s){return new nr(s.readTime,s.key,Bl)}class nr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new nr(Tt.min(),ft.empty(),Bl)}static max(){return new nr(Tt.max(),ft.empty(),Bl)}}function T2(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=ft.comparator(s.documentKey,t.documentKey),n!==0?n:Vt(s.largestBatchId,t.largestBatchId))}const E2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function go(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==E2)throw s;at("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Z(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):Z.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):Z.reject(n)}static resolve(t){return new Z(((n,r)=>{n(t)}))}static reject(t){return new Z(((n,r)=>{r(t)}))}static waitFor(t){return new Z(((n,r)=>{let o=0,u=0,f=!1;t.forEach((g=>{++o,g.next((()=>{++u,f&&u===o&&n()}),(y=>r(y)))})),f=!0,u===o&&n()}))}static or(t){let n=Z.resolve(!1);for(const r of t)n=n.next((o=>o?Z.resolve(o):r()));return n}static forEach(t,n){const r=[];return t.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(t,n){return new Z(((r,o)=>{const u=t.length,f=new Array(u);let g=0;for(let y=0;y<u;y++){const p=y;n(t[p]).next((E=>{f[p]=E,++g,g===u&&r(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new Z(((r,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):r()};u()}))}}function A2(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function po(s){return s.name==="IndexedDbTransactionError"}class Ch{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ch.ce=-1;const Jm=-1;function Nh(s){return s==null}function oh(s){return s===0&&1/s==-1/0}function S2(s){return typeof s=="number"&&Number.isInteger(s)&&!oh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const WT="";function w2(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=$v(t)),t=R2(s.get(n),t);return $v(t)}function R2(s,t){let n=t;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case WT:n+="";break;default:n+=u}}return n}function $v(s){return s+WT+""}function Jv(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function ur(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function tE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class le{constructor(t,n){this.comparator=t,this.root=n||Ye.EMPTY}insert(t,n){return new le(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Uc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Uc(this.root,t,this.comparator,!0)}}class Uc{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ye{constructor(t,n,r,o,u){this.key=t,this.value=n,this.color=r??Ye.RED,this.left=o??Ye.EMPTY,this.right=u??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,u){return new Ye(t??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ye.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,n,r,o,u){return this}insert(t,n,r){return new Ye(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Le{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zv(this.data.getIterator())}getIteratorFrom(t){return new Zv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Le)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Le(this.comparator);return n.data=t,n}}class Zv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new wn([])}unionWith(t){let n=new Le(Xe.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new wn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ro(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class eE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new eE("Invalid base64 string: "+u):u}})(t);return new $e(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new $e(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const I2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(s){if(Ft(!!s,39018),typeof s=="string"){let t=0;const n=I2.exec(s);if(Ft(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:_e(s.seconds),nanos:_e(s.nanos)}}function _e(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function sr(s){return typeof s=="string"?$e.fromBase64String(s):$e.fromUint8Array(s)}const nE="server_timestamp",iE="__type__",sE="__previous_value__",rE="__local_write_time__";function Zm(s){return(s?.mapValue?.fields||{})[iE]?.stringValue===nE}function xh(s){const t=s.mapValue.fields[sE];return Zm(t)?xh(t):t}function ql(s){const t=ir(s.mapValue.fields[rE].timestampValue);return new se(t.seconds,t.nanos)}class C2{constructor(t,n,r,o,u,f,g,y,p,E,S){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=E,this.apiKey=S}}const lh="(default)";class Hl{constructor(t,n){this.projectId=t,this.database=n||lh}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database===lh}isEqual(t){return t instanceof Hl&&t.projectId===this.projectId&&t.database===this.database}}function N2(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new rt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(s.options.projectId,t)}const aE="__type__",x2="__max__",Lc={mapValue:{}},oE="__vector__",uh="value";function rr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Zm(s)?4:O2(s)?9007199254740991:D2(s)?10:11:yt(28295,{value:s})}function Vi(s,t){if(s===t)return!0;const n=rr(s);if(n!==rr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return ql(s).isEqual(ql(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ir(o.timestampValue),g=ir(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,u){return sr(o.bytesValue).isEqual(sr(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,u){return _e(o.geoPointValue.latitude)===_e(u.geoPointValue.latitude)&&_e(o.geoPointValue.longitude)===_e(u.geoPointValue.longitude)})(s,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _e(o.integerValue)===_e(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_e(o.doubleValue),g=_e(u.doubleValue);return f===g?oh(f)===oh(g):isNaN(f)&&isNaN(g)}return!1})(s,t);case 9:return ro(s.arrayValue.values||[],t.arrayValue.values||[],Vi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},g=u.mapValue.fields||{};if(Jv(f)!==Jv(g))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(g[y]===void 0||!Vi(f[y],g[y])))return!1;return!0})(s,t);default:return yt(52216,{left:s})}}function Fl(s,t){return(s.values||[]).find((n=>Vi(n,t)))!==void 0}function ao(s,t){if(s===t)return 0;const n=rr(s),r=rr(t);if(n!==r)return Vt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(s.booleanValue,t.booleanValue);case 2:return(function(u,f){const g=_e(u.integerValue||u.doubleValue),y=_e(f.integerValue||f.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,t);case 3:return Wv(s.timestampValue,t.timestampValue);case 4:return Wv(ql(s),ql(t));case 5:return ym(s.stringValue,t.stringValue);case 6:return(function(u,f){const g=sr(u),y=sr(f);return g.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(u,f){const g=u.split("/"),y=f.split("/");for(let p=0;p<g.length&&p<y.length;p++){const E=Vt(g[p],y[p]);if(E!==0)return E}return Vt(g.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,f){const g=Vt(_e(u.latitude),_e(f.latitude));return g!==0?g:Vt(_e(u.longitude),_e(f.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return t0(s.arrayValue,t.arrayValue);case 10:return(function(u,f){const g=u.fields||{},y=f.fields||{},p=g[uh]?.arrayValue,E=y[uh]?.arrayValue,S=Vt(p?.values?.length||0,E?.values?.length||0);return S!==0?S:t0(p,E)})(s.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Lc.mapValue&&f===Lc.mapValue)return 0;if(u===Lc.mapValue)return 1;if(f===Lc.mapValue)return-1;const g=u.fields||{},y=Object.keys(g),p=f.fields||{},E=Object.keys(p);y.sort(),E.sort();for(let S=0;S<y.length&&S<E.length;++S){const x=ym(y[S],E[S]);if(x!==0)return x;const q=ao(g[y[S]],p[E[S]]);if(q!==0)return q}return Vt(y.length,E.length)})(s.mapValue,t.mapValue);default:throw yt(23264,{he:n})}}function Wv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Vt(s,t);const n=ir(s),r=ir(t),o=Vt(n.seconds,r.seconds);return o!==0?o:Vt(n.nanos,r.nanos)}function t0(s,t){const n=s.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=ao(n[o],r[o]);if(u)return u}return Vt(n.length,r.length)}function oo(s){return _m(s)}function _m(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=ir(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return sr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ft.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=_m(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${_m(n.fields[f])}`;return o+"}"})(s.mapValue):yt(61005,{value:s})}function Yc(s){switch(rr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=xh(s);return t?16+Yc(t):16;case 5:return 2*s.stringValue.length;case 6:return sr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Yc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return ur(r.fields,((u,f)=>{o+=u.length+Yc(f)})),o})(s.mapValue);default:throw yt(13486,{value:s})}}function e0(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function vm(s){return!!s&&"integerValue"in s}function Wm(s){return!!s&&"arrayValue"in s}function n0(s){return!!s&&"nullValue"in s}function i0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Xc(s){return!!s&&"mapValue"in s}function D2(s){return(s?.mapValue?.fields||{})[aE]?.stringValue===oE}function Vl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return ur(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=Vl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Vl(s.arrayValue.values[n]);return t}return{...s}}function O2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===x2}class gn{constructor(t){this.value=t}static empty(){return new gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Xc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vl(n)}setAll(t){let n=Xe.emptyPath(),r={},o=[];t.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,r,o),r={},o=[],n=g.popLast()}f?r[g.lastSegment()]=Vl(f):o.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(t){const n=this.field(t.popLast());Xc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Vi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];Xc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){ur(n,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new gn(Vl(this.value))}}function lE(s){const t=[];return ur(s.fields,((n,r)=>{const o=new Xe([n]);if(Xc(r)){const u=lE(r.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new wn(t)}class tn{constructor(t,n,r,o,u,f,g){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(t){return new tn(t,0,Tt.min(),Tt.min(),Tt.min(),gn.empty(),0)}static newFoundDocument(t,n,r,o){return new tn(t,1,n,Tt.min(),r,o,0)}static newNoDocument(t,n){return new tn(t,2,n,Tt.min(),Tt.min(),gn.empty(),0)}static newUnknownDocument(t,n){return new tn(t,3,n,Tt.min(),Tt.min(),gn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ch{constructor(t,n){this.position=t,this.inclusive=n}}function s0(s,t,n){let r=0;for(let o=0;o<s.position.length;o++){const u=t[o],f=s.position[o];if(u.field.isKeyField()?r=ft.comparator(ft.fromName(f.referenceValue),n.key):r=ao(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function r0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Vi(s.position[n],t.position[n]))return!1;return!0}class Gl{constructor(t,n="asc"){this.field=t,this.dir=n}}function M2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class uE{}class xe extends uE{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new k2(t,n,r):n==="array-contains"?new P2(t,r):n==="in"?new z2(t,r):n==="not-in"?new j2(t,r):n==="array-contains-any"?new B2(t,r):new xe(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new U2(t,r):new L2(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ao(n,this.value)):n!==null&&rr(this.value)===rr(n)&&this.matchesComparison(ao(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends uE{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ii(t,n)}matches(t){return cE(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cE(s){return s.op==="and"}function hE(s){return V2(s)&&cE(s)}function V2(s){for(const t of s.filters)if(t instanceof ii)return!1;return!0}function Tm(s){if(s instanceof xe)return s.field.canonicalString()+s.op.toString()+oo(s.value);if(hE(s))return s.filters.map((t=>Tm(t))).join(",");{const t=s.filters.map((n=>Tm(n))).join(",");return`${s.op}(${t})`}}function fE(s,t){return s instanceof xe?(function(r,o){return o instanceof xe&&r.op===o.op&&r.field.isEqual(o.field)&&Vi(r.value,o.value)})(s,t):s instanceof ii?(function(r,o){return o instanceof ii&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,g)=>u&&fE(f,o.filters[g])),!0):!1})(s,t):void yt(19439)}function dE(s){return s instanceof xe?(function(n){return`${n.field.canonicalString()} ${n.op} ${oo(n.value)}`})(s):s instanceof ii?(function(n){return n.op.toString()+" {"+n.getFilters().map(dE).join(" ,")+"}"})(s):"Filter"}class k2 extends xe{constructor(t,n,r){super(t,n,r),this.key=ft.fromName(r.referenceValue)}matches(t){const n=ft.comparator(t.key,this.key);return this.matchesComparison(n)}}class U2 extends xe{constructor(t,n){super(t,"in",n),this.keys=mE("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class L2 extends xe{constructor(t,n){super(t,"not-in",n),this.keys=mE("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function mE(s,t){return(t.arrayValue?.values||[]).map((n=>ft.fromName(n.referenceValue)))}class P2 extends xe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Wm(n)&&Fl(n.arrayValue,this.value)}}class z2 extends xe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Fl(this.value.arrayValue,n)}}class j2 extends xe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fl(this.value.arrayValue,n)}}class B2 extends xe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Wm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Fl(this.value.arrayValue,r)))}}class q2{constructor(t,n=null,r=[],o=[],u=null,f=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function a0(s,t=null,n=[],r=[],o=null,u=null,f=null){return new q2(s,t,n,r,o,u,f)}function tg(s){const t=At(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>Tm(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Nh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>oo(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>oo(r))).join(",")),t.Te=n}return t.Te}function eg(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!M2(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!fE(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!r0(s.startAt,t.startAt)&&r0(s.endAt,t.endAt)}function Em(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class yo{constructor(t,n=null,r=[],o=[],u=null,f="F",g=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function H2(s,t,n,r,o,u,f,g){return new yo(s,t,n,r,o,u,f,g)}function ng(s){return new yo(s)}function o0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function F2(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function gE(s){return s.collectionGroup!==null}function kl(s){const t=At(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Le(Xe.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Gl(u,r))})),n.has(Xe.keyField().canonicalString())||t.Ie.push(new Gl(Xe.keyField(),r))}return t.Ie}function Di(s){const t=At(s);return t.Ee||(t.Ee=G2(t,kl(s))),t.Ee}function G2(s,t){if(s.limitType==="F")return a0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Gl(o.field,u)}));const n=s.endAt?new ch(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new ch(s.startAt.position,s.startAt.inclusive):null;return a0(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function bm(s,t){const n=s.filters.concat([t]);return new yo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function K2(s,t){const n=s.explicitOrderBy.concat([t]);return new yo(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function Am(s,t,n){return new yo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function Dh(s,t){return eg(Di(s),Di(t))&&s.limitType===t.limitType}function pE(s){return`${tg(Di(s))}|lt:${s.limitType}`}function Ya(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>dE(o))).join(", ")}]`),Nh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>oo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>oo(o))).join(",")),`Target(${r})`})(Di(s))}; limitType=${s.limitType})`}function Oh(s,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ft.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,o){for(const u of kl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,t)&&(function(r,o){return!(r.startAt&&!(function(f,g,y){const p=s0(f,g,y);return f.inclusive?p<=0:p<0})(r.startAt,kl(r),o)||r.endAt&&!(function(f,g,y){const p=s0(f,g,y);return f.inclusive?p>=0:p>0})(r.endAt,kl(r),o))})(s,t)}function Q2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function yE(s){return(t,n)=>{let r=!1;for(const o of kl(s)){const u=Y2(o,t,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function Y2(s,t,n){const r=s.field.isKeyField()?ft.comparator(t.key,n.key):(function(u,f,g){const y=f.data.field(u),p=g.data.field(u);return y!==null&&p!==null?ao(y,p):yt(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return yt(19790,{direction:s.dir})}}class ta{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ur(this.inner,((n,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return tE(this.inner)}size(){return this.innerSize}}const X2=new le(ft.comparator);function os(){return X2}const _E=new le(ft.comparator);function Cl(...s){let t=_E;for(const n of s)t=t.insert(n.key,n);return t}function vE(s){let t=_E;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Hr(){return Ul()}function TE(){return Ul()}function Ul(){return new ta((s=>s.toString()),((s,t)=>s.isEqual(t)))}const $2=new le(ft.comparator),J2=new Le(ft.comparator);function kt(...s){let t=J2;for(const n of s)t=t.add(n);return t}const Z2=new Le(Vt);function W2(){return Z2}function ig(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(t)?"-0":t}}function EE(s){return{integerValue:""+s}}function tI(s,t){return S2(t)?EE(t):ig(s,t)}class Mh{constructor(){this._=void 0}}function eI(s,t,n){return s instanceof hh?(function(o,u){const f={fields:{[iE]:{stringValue:nE},[rE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Zm(u)&&(u=xh(u)),u&&(f.fields[sE]=u),{mapValue:f}})(n,t):s instanceof Kl?AE(s,t):s instanceof Ql?SE(s,t):(function(o,u){const f=bE(o,u),g=l0(f)+l0(o.Ae);return vm(f)&&vm(o.Ae)?EE(g):ig(o.serializer,g)})(s,t)}function nI(s,t,n){return s instanceof Kl?AE(s,t):s instanceof Ql?SE(s,t):n}function bE(s,t){return s instanceof fh?(function(r){return vm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class hh extends Mh{}class Kl extends Mh{constructor(t){super(),this.elements=t}}function AE(s,t){const n=wE(t);for(const r of s.elements)n.some((o=>Vi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Ql extends Mh{constructor(t){super(),this.elements=t}}function SE(s,t){let n=wE(t);for(const r of s.elements)n=n.filter((o=>!Vi(o,r)));return{arrayValue:{values:n}}}class fh extends Mh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function l0(s){return _e(s.integerValue||s.doubleValue)}function wE(s){return Wm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function iI(s,t){return s.field.isEqual(t.field)&&(function(r,o){return r instanceof Kl&&o instanceof Kl||r instanceof Ql&&o instanceof Ql?ro(r.elements,o.elements,Vi):r instanceof fh&&o instanceof fh?Vi(r.Ae,o.Ae):r instanceof hh&&o instanceof hh})(s.transform,t.transform)}class sI{constructor(t,n){this.version=t,this.transformResults=n}}class ei{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ei}static exists(t){return new ei(void 0,t)}static updateTime(t){return new ei(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function $c(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Vh{}function RE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new sg(s.key,ei.none()):new tu(s.key,s.data,ei.none());{const n=s.data,r=gn.empty();let o=new Le(Xe.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new cr(s.key,r,new wn(o.toArray()),ei.none())}}function rI(s,t,n){s instanceof tu?(function(o,u,f){const g=o.value.clone(),y=c0(o.fieldTransforms,u,f.transformResults);g.setAll(y),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,t,n):s instanceof cr?(function(o,u,f){if(!$c(o.precondition,u))return void u.convertToUnknownDocument(f.version);const g=c0(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(IE(o)),y.setAll(g),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(s,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Ll(s,t,n,r){return s instanceof tu?(function(u,f,g,y){if(!$c(u.precondition,f))return g;const p=u.value.clone(),E=h0(u.fieldTransforms,y,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null})(s,t,n,r):s instanceof cr?(function(u,f,g,y){if(!$c(u.precondition,f))return g;const p=h0(u.fieldTransforms,y,f),E=f.data;return E.setAll(IE(u)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(s,t,n,r):(function(u,f,g){return $c(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(s,t,n)}function aI(s,t){let n=null;for(const r of s.fieldTransforms){const o=t.data.field(r.field),u=bE(r.transform,o||null);u!=null&&(n===null&&(n=gn.empty()),n.set(r.field,u))}return n||null}function u0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ro(r,o,((u,f)=>iI(u,f)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class tu extends Vh{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cr extends Vh{constructor(t,n,r,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function IE(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function c0(s,t,n){const r=new Map;Ft(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,g=t.data.field(u.field);r.set(u.field,nI(f,g,n[o]))}return r}function h0(s,t,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,eI(u,f,t))}return r}class sg extends Vh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oI extends Vh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lI{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&rI(u,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Ll(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Ll(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=TE();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=n.has(o.key)?null:g;const y=RE(f,g);y!==null&&r.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Tt.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),kt())}isEqual(t){return this.batchId===t.batchId&&ro(this.mutations,t.mutations,((n,r)=>u0(n,r)))&&ro(this.baseMutations,t.baseMutations,((n,r)=>u0(n,r)))}}class rg{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){Ft(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return $2})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new rg(t,n,r,o)}}class uI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class cI{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ne,Pt;function hI(s){switch(s){case $.OK:return yt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function CE(s){if(s===void 0)return as("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ne.OK:return $.OK;case Ne.CANCELLED:return $.CANCELLED;case Ne.UNKNOWN:return $.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return $.INTERNAL;case Ne.UNAVAILABLE:return $.UNAVAILABLE;case Ne.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ne.NOT_FOUND:return $.NOT_FOUND;case Ne.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ne.ABORTED:return $.ABORTED;case Ne.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ne.DATA_LOSS:return $.DATA_LOSS;default:return yt(39323,{code:s})}}(Pt=Ne||(Ne={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function fI(){return new TextEncoder}const dI=new Js([4294967295,4294967295],0);function f0(s){const t=fI().encode(s),n=new HT;return n.update(t),new Uint8Array(n.digest())}function d0(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Js([n,r],0),new Js([o,u],0)]}class ag{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nl(`Invalid padding: ${n}`);if(r<0)throw new Nl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Js.fromNumber(this.ge)}ye(t,n,r){let o=t.add(n.multiply(Js.fromNumber(r)));return o.compare(dI)===1&&(o=new Js([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=f0(t),[r,o]=d0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new ag(u,o,n);return r.forEach((g=>f.insert(g))),f}insert(t){if(this.ge===0)return;const n=f0(t),[r,o]=d0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.be(f)}}be(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kh{constructor(t,n,r,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,eu.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new kh(Tt.min(),o,new le(Vt),os(),kt())}}class eu{constructor(t,n,r,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new eu(r,n,kt(),kt(),kt())}}class Jc{constructor(t,n,r,o){this.Se=t,this.removedTargetIds=n,this.key=r,this.De=o}}class NE{constructor(t,n){this.targetId=t,this.Ce=n}}class xE{constructor(t,n,r=$e.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class m0{constructor(){this.ve=0,this.Fe=g0(),this.Me=$e.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),n=kt(),r=kt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:yt(38017,{changeType:u})}})),new eu(this.Me,this.xe,t,n,r)}Ke(){this.Oe=!1,this.Fe=g0()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class mI{constructor(t){this.Ge=t,this.ze=new Map,this.je=os(),this.He=Pc(),this.Je=Pc(),this.Ze=new le(Vt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,r=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Em(u))if(r===0){const f=new ft(u.path);this.et(n,f,tn.newNoDocument(f,Tt.min()))}else Ft(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const g=this.ut(t),y=g?this.ct(g,t,f):1;if(y!==0){this.it(n);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,g;try{f=sr(r).toUint8Array()}catch(y){if(y instanceof eE)return so("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new ag(f,o,u)}catch(y){return so(y instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&Em(g.target)){const y=new ft(g.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,tn.newNoDocument(y,t))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let r=kt();this.Je.forEach(((u,f)=>{let g=!0;f.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new kh(t,n,this.Ze,this.je,r);return this.je=os(),this.He=Pc(),this.Je=Pc(),this.Ze=new le(Vt),o}Ye(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new m0,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Le(Vt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Le(Vt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||at("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new m0),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Pc(){return new le(ft.comparator)}function g0(){return new le(ft.comparator)}const gI={asc:"ASCENDING",desc:"DESCENDING"},pI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yI={and:"AND",or:"OR"};class _I{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Sm(s,t){return s.useProto3Json||Nh(t)?t:{value:t}}function dh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function DE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function vI(s,t){return dh(s,t.toTimestamp())}function Oi(s){return Ft(!!s,49232),Tt.fromTimestamp((function(n){const r=ir(n);return new se(r.seconds,r.nanos)})(s))}function og(s,t){return wm(s,t).canonicalString()}function wm(s,t){const n=(function(o){return new ee(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?n:n.child(t)}function OE(s){const t=ee.fromString(s);return Ft(LE(t),10190,{key:t.toString()}),t}function Rm(s,t){return og(s.databaseId,t.path)}function tm(s,t){const n=OE(t);if(n.get(1)!==s.databaseId.projectId)throw new rt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new rt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ft(VE(n))}function ME(s,t){return og(s.databaseId,t)}function TI(s){const t=OE(s);return t.length===4?ee.emptyPath():VE(t)}function Im(s){return new ee(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function VE(s){return Ft(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function p0(s,t,n){return{name:Rm(s,t),fields:n.value.mapValue.fields}}function EI(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:yt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?(Ft(E===void 0||typeof E=="string",58123),$e.fromBase64String(E||"")):(Ft(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),$e.fromUint8Array(E||new Uint8Array))})(s,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&(function(p){const E=p.code===void 0?$.UNKNOWN:CE(p.code);return new rt(E,p.message||"")})(f);n=new xE(r,o,u,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=tm(s,r.document.name),u=Oi(r.document.updateTime),f=r.document.createTime?Oi(r.document.createTime):Tt.min(),g=new gn({mapValue:{fields:r.document.fields}}),y=tn.newFoundDocument(o,u,f,g),p=r.targetIds||[],E=r.removedTargetIds||[];n=new Jc(p,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=tm(s,r.document),u=r.readTime?Oi(r.readTime):Tt.min(),f=tn.newNoDocument(o,u),g=r.removedTargetIds||[];n=new Jc([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=tm(s,r.document),u=r.removedTargetIds||[];n=new Jc([],u,o,null)}else{if(!("filter"in t))return yt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new cI(o,u),g=r.targetId;n=new NE(g,f)}}return n}function bI(s,t){let n;if(t instanceof tu)n={update:p0(s,t.key,t.value)};else if(t instanceof sg)n={delete:Rm(s,t.key)};else if(t instanceof cr)n={update:p0(s,t.key,t.data),updateMask:DI(t.fieldMask)};else{if(!(t instanceof oI))return yt(16599,{dt:t.type});n={verify:Rm(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,f){const g=f.transform;if(g instanceof hh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Kl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ql)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof fh)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw yt(20930,{transform:f.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:vI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:yt(27497)})(s,t.precondition)),n}function AI(s,t){return s&&s.length>0?(Ft(t!==void 0,14353),s.map((n=>(function(o,u){let f=o.updateTime?Oi(o.updateTime):Oi(u);return f.isEqual(Tt.min())&&(f=Oi(u)),new sI(f,o.transformResults||[])})(n,t)))):[]}function SI(s,t){return{documents:[ME(s,t.path)]}}function wI(s,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ME(s,o);const u=(function(p){if(p.length!==0)return UE(ii.create(p,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(p){if(p.length!==0)return p.map((E=>(function(x){return{field:Xa(x.field),direction:CI(x.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const g=Sm(s,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:n,parent:o}}function RI(s){let t=TI(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Ft(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const x=kE(S);return x instanceof ii&&hE(x)?x.getFilters():[x]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((x=>(function(K){return new Gl($a(K.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(x)))})(n.orderBy));let g=null;n.limit&&(g=(function(S){let x;return x=typeof S=="object"?S.value:S,Nh(x)?null:x})(n.limit));let y=null;n.startAt&&(y=(function(S){const x=!!S.before,q=S.values||[];return new ch(q,x)})(n.startAt));let p=null;return n.endAt&&(p=(function(S){const x=!S.before,q=S.values||[];return new ch(q,x)})(n.endAt)),H2(t,o,f,u,g,"F",y,p)}function II(s,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function kE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$a(n.unaryFilter.field);return xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=$a(n.unaryFilter.field);return xe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=$a(n.unaryFilter.field);return xe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=$a(n.unaryFilter.field);return xe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(s):s.fieldFilter!==void 0?(function(n){return xe.create($a(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ii.create(n.compositeFilter.filters.map((r=>kE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(n.compositeFilter.op))})(s):yt(30097,{filter:s})}function CI(s){return gI[s]}function NI(s){return pI[s]}function xI(s){return yI[s]}function Xa(s){return{fieldPath:s.canonicalString()}}function $a(s){return Xe.fromServerFormat(s.fieldPath)}function UE(s){return s instanceof xe?(function(n){if(n.op==="=="){if(i0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(n0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(i0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(n0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:NI(n.op),value:n.value}}})(s):s instanceof ii?(function(n){const r=n.getFilters().map((o=>UE(o)));return r.length===1?r[0]:{compositeFilter:{op:xI(n.op),filters:r}}})(s):yt(54877,{filter:s})}function DI(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function LE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function PE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Qs{constructor(t,n,r,o,u=Tt.min(),f=Tt.min(),g=$e.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new Qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class OI{constructor(t){this.yt=t}}function MI(s){const t=RI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Am(t,t.limit,"L"):t}class VI{constructor(){this.Sn=new kI}addToCollectionParentIndex(t,n){return this.Sn.add(n),Z.resolve()}getCollectionParents(t,n){return Z.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return Z.resolve()}deleteFieldIndex(t,n){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,n){return Z.resolve()}getDocumentsMatchingTarget(t,n){return Z.resolve(null)}getIndexType(t,n){return Z.resolve(0)}getFieldIndexes(t,n){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,n){return Z.resolve(nr.min())}getMinOffsetFromCollectionGroup(t,n){return Z.resolve(nr.min())}updateCollectionGroup(t,n,r){return Z.resolve()}updateIndexEntries(t,n){return Z.resolve()}}class kI{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Le(ee.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Le(ee.comparator)).toArray()}}const y0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zE=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(zE,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class lo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new lo(0)}static ar(){return new lo(-1)}}const _0="LruGarbageCollector",UI=1048576;function v0([s,t],[n,r]){const o=Vt(s,n);return o===0?Vt(t,r):o}class LI{constructor(t){this.Pr=t,this.buffer=new Le(v0),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();v0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class PI{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){at(_0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){po(n)?at(_0,"Ignoring IndexedDB error during garbage collection: ",n):await go(n)}await this.Ar(3e5)}))}}class zI{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return Z.resolve(Ch.ce);const r=new LI(n);return this.Vr.forEachTarget(t,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.Vr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(y0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y0):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let r,o,u,f,g,y,p;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(r=S,g=Date.now(),this.removeTargets(t,r,n)))).next((S=>(u=S,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(p=Date.now(),Qa()<=Mt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${u} targets in `+(y-g)+`ms
	Removed ${S} documents in `+(p-y)+`ms
Total Duration: ${p-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function jI(s,t){return new zI(s,t)}class BI{constructor(){this.changes=new ta((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,tn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class qI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class HI{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(r!==null&&Ll(r.mutation,o,wn.empty(),se.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,kt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=kt()){const o=Hr();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,r).next((u=>{let f=Cl();return u.forEach(((g,y)=>{f=f.insert(g,y.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const r=Hr();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,kt())))}populateOverlays(t,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(t,n,r,o){let u=os();const f=Ul(),g=(function(){return Ul()})();return n.forEach(((y,p)=>{const E=r.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof cr)?u=u.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),Ll(E.mutation,p,E.mutation.getFieldMask(),se.now())):f.set(p.key,wn.empty())})),this.recalculateAndSaveOverlays(t,u).next((y=>(y.forEach(((p,E)=>f.set(p,E))),n.forEach(((p,E)=>g.set(p,new qI(E,f.get(p)??null)))),g)))}recalculateAndSaveOverlays(t,n){const r=Ul();let o=new le(((f,g)=>f-g)),u=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const g of f)g.keys().forEach((y=>{const p=n.get(y);if(p===null)return;let E=r.get(y)||wn.empty();E=g.applyToLocalView(p,E),r.set(y,E);const S=(o.get(g.batchId)||kt()).add(y);o=o.insert(g.batchId,S)}))})).next((()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,E=y.value,S=TE();E.forEach((x=>{if(!u.has(x)){const q=RE(n.get(x),r.get(x));q!==null&&S.set(x,q),u=u.add(x)}})),f.push(this.documentOverlayCache.saveOverlays(t,p,S))}return Z.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,o){return F2(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):gE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-u.size):Z.resolve(Hr());let g=Bl,y=u;return f.next((p=>Z.forEach(p,((E,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(t,E).next((x=>{y=y.insert(E,x)}))))).next((()=>this.populateOverlays(t,p,u))).next((()=>this.computeViews(t,y,p,kt()))).next((E=>({batchId:g,changes:vE(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ft(n)).next((r=>{let o=Cl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const u=n.collectionGroup;let f=Cl();return this.indexManager.getCollectionParents(t,u).next((g=>Z.forEach(g,(y=>{const p=(function(S,x){return new yo(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,p,r,o).next((E=>{E.forEach(((S,x)=>{f=f.insert(S,x)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,o)))).next((f=>{u.forEach(((y,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,tn.newInvalidDocument(E)))}));let g=Cl();return f.forEach(((y,p)=>{const E=u.get(y);E!==void 0&&Ll(E.mutation,p,wn.empty(),se.now()),Oh(n,p)&&(g=g.insert(y,p))})),g}))}}class FI{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return Z.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Oi(o.createTime)}})(n)),Z.resolve()}getNamedQuery(t,n){return Z.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:MI(o.bundledQuery),readTime:Oi(o.readTime)}})(n)),Z.resolve()}}class GI{constructor(){this.overlays=new le(ft.comparator),this.Lr=new Map}getOverlay(t,n){return Z.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Hr();return Z.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((o,u)=>{this.bt(t,n,u)})),Z.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),Z.resolve()}getOverlaysForCollection(t,n,r){const o=Hr(),u=n.length+1,f=new ft(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&y.largestBatchId>r&&o.set(y.getKey(),y)}return Z.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let u=new le(((p,E)=>p-E));const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let E=u.get(p.largestBatchId);E===null&&(E=Hr(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const g=Hr(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,E)=>g.set(p,E))),!(g.size()>=o)););return Z.resolve(g)}bt(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new uI(n,r));let u=this.Lr.get(n);u===void 0&&(u=kt(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class KI{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Z.resolve()}}class lg{constructor(){this.kr=new Le(Be.Kr),this.qr=new Le(Be.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const r=new Be(t,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Wr(new Be(t,n))}Qr(t,n){t.forEach((r=>this.removeReference(r,n)))}Gr(t){const n=new ft(new ee([])),r=new Be(n,t),o=new Be(n,t+1),u=[];return this.qr.forEachInRange([r,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new ft(new ee([])),r=new Be(n,t),o=new Be(n,t+1);let u=kt();return this.qr.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Be(t,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Be{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return ft.comparator(t.key,n.key)||Vt(t.Hr,n.Hr)}static Ur(t,n){return Vt(t.Hr,n.Hr)||ft.comparator(t.key,n.key)}}class QI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Le(Be.Kr)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new lI(u,n,r,o);this.mutationQueue.push(f);for(const g of o)this.Jr=this.Jr.add(new Be(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(t,n){return Z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.Xr(r),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Jm:this.Yn-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Be(n,0),o=new Be(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(f=>{const g=this.Zr(f.Hr);u.push(g)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Le(Vt);return n.forEach((o=>{const u=new Be(o,0),f=new Be(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(g=>{r=r.add(g.Hr)}))})),Z.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let u=r;ft.isDocumentKey(u)||(u=u.child(""));const f=new Be(new ft(u),0);let g=new Le(Vt);return this.Jr.forEachWhile((y=>{const p=y.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(g=g.add(y.Hr)),!0)}),f),Z.resolve(this.Yr(g))}Yr(t){const n=[];return t.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Ft(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Z.forEach(n.mutations,(o=>{const u=new Be(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,n){const r=new Be(n,0),o=this.Jr.firstAfterOrEqual(r);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class YI{constructor(t){this.ti=t,this.docs=(function(){return new le(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(t,n){let r=os();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let u=os();const f=n.path,g=new ft(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:E}}=y.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||T2(v2(E),r)<=0||(o.has(E.key)||Oh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(t,n,r,o){yt(9500)}ni(t,n){return Z.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new XI(this)}getSize(t){return Z.resolve(this.size)}}class XI extends BI{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(r)})),Z.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class $I{constructor(t){this.persistence=t,this.ri=new ta((n=>tg(n)),eg),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ii=0,this.si=new lg,this.targetCount=0,this.oi=lo._r()}forEachTarget(t,n){return this.ri.forEach(((r,o)=>n(o))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),Z.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new lo(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,Z.resolve()}updateTargetData(t,n){return this.lr(n),Z.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,n,r){let o=0;const u=[];return this.ri.forEach(((f,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),Z.waitFor(u).next((()=>o))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,n){const r=this.ri.get(n)||null;return Z.resolve(r)}addMatchingKeys(t,n,r){return this.si.$r(n,r),Z.resolve()}removeMatchingKeys(t,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),Z.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),Z.resolve()}getMatchingKeysForTargetId(t,n){const r=this.si.jr(n);return Z.resolve(r)}containsKey(t,n){return Z.resolve(this.si.containsKey(n))}}class jE{constructor(t,n){this._i={},this.overlays={},this.ai=new Ch(0),this.ui=!1,this.ui=!0,this.ci=new KI,this.referenceDelegate=t(this),this.li=new $I(this),this.indexManager=new VI,this.remoteDocumentCache=(function(o){return new YI(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new OI(n),this.Pi=new FI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new GI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this._i[t.toKey()];return r||(r=new QI(n,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,r){at("MemoryPersistence","Starting transaction:",t);const o=new JI(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return Z.or(Object.values(this._i).map((r=>()=>r.containsKey(t,n))))}}class JI extends b2{constructor(t){super(),this.currentSequenceNumber=t}}class ug{constructor(t){this.persistence=t,this.Ri=new lg,this.Ai=null}static Vi(t){return new ug(t)}get di(){if(this.Ai)return this.Ai;throw yt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),Z.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),Z.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(r=>{const o=ft.fromPath(r);return this.mi(t,o).next((u=>{u||n.removeEntry(o,Tt.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class mh{constructor(t,n){this.persistence=t,this.fi=new ta((r=>w2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=jI(this,n)}static Vi(t,n){return new mh(t,n)}Ti(){}Ii(t){return Z.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((o=>r+o))))}pr(t){let n=0;return this.mr(t,(r=>{n++})).next((()=>n))}mr(t,n){return Z.forEach(this.fi,((r,o)=>this.wr(t,r,o).next((u=>u?Z.resolve():n(o)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(f=>this.wr(t,f,n).next((g=>{g||(r++,u.removeEntry(f,Tt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),Z.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),Z.resolve()}removeReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),Z.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Yc(t.data.value)),n}wr(t,n,r){return Z.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.fi.get(n);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class cg{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.Ts=r,this.Is=o}static Es(t,n){let r=kt(),o=kt();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new cg(t,n.fromCache,r,o)}}class ZI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class WI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return HA()?8:A2(en())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,o){const u={result:null};return this.gs(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(t,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new ZI;return this.ys(t,n,f).next((g=>{if(u.result=g,this.As)return this.ws(t,n,f,g.size)}))})).next((()=>u.result))}ws(t,n,r,o){return r.documentReadCount<this.Vs?(Qa()<=Mt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(Qa()<=Mt.DEBUG&&at("QueryEngine","Query:",Ya(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Qa()<=Mt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(n))):Z.resolve())}gs(t,n){if(o0(n))return Z.resolve(null);let r=Di(n);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Am(n,null,"F"),r=Di(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const f=kt(...u);return this.fs.getDocuments(t,f).next((g=>this.indexManager.getMinOffset(t,r).next((y=>{const p=this.bs(n,g);return this.Ss(n,p,f,y.readTime)?this.gs(t,Am(n,null,"F")):this.Ds(t,p,n,y)}))))})))))}ps(t,n,r,o){return o0(n)||o.isEqual(Tt.min())?Z.resolve(null):this.fs.getDocuments(t,r).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,r,o)?Z.resolve(null):(Qa()<=Mt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ya(n)),this.Ds(t,f,n,_2(o,Bl)).next((g=>g)))}))}bs(t,n){let r=new Le(yE(t));return n.forEach(((o,u)=>{Oh(t,u)&&(r=r.add(u))})),r}Ss(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,n,r){return Qa()<=Mt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Ya(n)),this.fs.getDocumentsMatchingQuery(t,n,nr.min(),r)}Ds(t,n,r,o){return this.fs.getDocumentsMatchingQuery(t,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const hg="LocalStore",tC=3e8;class eC{constructor(t,n,r,o){this.persistence=t,this.Cs=n,this.serializer=o,this.vs=new le(Vt),this.Fs=new ta((u=>tg(u)),eg),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new HI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function nC(s,t,n,r){return new eC(s,t,n,r)}async function BE(s,t){const n=At(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Os(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],g=[];let y=kt();for(const p of o){f.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}for(const p of u){g.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(r,y).next((p=>({Ns:p,removedBatchIds:f,addedBatchIds:g})))}))}))}function iC(s,t){const n=At(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(g,y,p,E){const S=p.batch,x=S.keys();let q=Z.resolve();return x.forEach((K=>{q=q.next((()=>E.getEntry(y,K))).next((J=>{const W=p.docVersions.get(K);Ft(W!==null,48541),J.version.compareTo(W)<0&&(S.applyToRemoteDocument(J,p),J.isValidDocument()&&(J.setReadTime(p.commitVersion),E.addEntry(J)))}))})),q.next((()=>g.mutationQueue.removeMutationBatch(y,S)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let y=kt();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y})(t)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function qE(s){const t=At(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function sC(s,t){const n=At(s),r=t.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const g=[];t.targetChanges.forEach(((E,S)=>{const x=o.get(S);if(!x)return;g.push(n.li.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,S))));let q=x.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?q=q.withResumeToken($e.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):E.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(E.resumeToken,r)),o=o.insert(S,q),(function(J,W,ut){return J.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=tC?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0})(x,q,E)&&g.push(n.li.updateTargetData(u,q))}));let y=os(),p=kt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),g.push(rC(u,f,t.documentUpdates).next((E=>{y=E.Bs,p=E.Ls}))),!r.isEqual(Tt.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));g.push(E)}return Z.waitFor(g).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,p))).next((()=>y))})).then((u=>(n.vs=o,u)))}function rC(s,t,n){let r=kt(),o=kt();return n.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let f=os();return n.forEach(((g,y)=>{const p=u.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Tt.min())?(t.removeEntry(g,y.readTime),f=f.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(y),f=f.insert(g,y)):at(hg,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)})),{Bs:f,Ls:o}}))}function aC(s,t){const n=At(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Jm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function oC(s,t){const n=At(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,t).next((u=>u?(o=u,Z.resolve(o)):n.li.allocateTargetId(r).next((f=>(o=new Qs(t,f,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(t,r.targetId)),r}))}async function Cm(s,t,n){const r=At(s),o=r.vs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!po(f))throw f;at(hg,`Failed to update sequence numbers for target ${t}: ${f}`)}r.vs=r.vs.remove(t),r.Fs.delete(o.target)}function T0(s,t,n){const r=At(s);let o=Tt.min(),u=kt();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,p,E){const S=At(y),x=S.Fs.get(E);return x!==void 0?Z.resolve(S.vs.get(x)):S.li.getTargetData(p,E)})(r,f,Di(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,g.targetId).next((y=>{u=y}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,t,n?o:Tt.min(),n?u:kt()))).next((g=>(lC(r,Q2(t),g),{documents:g,ks:u})))))}function lC(s,t,n){let r=s.Ms.get(t)||Tt.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Ms.set(t,r)}class E0{constructor(){this.activeTargetIds=W2()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class uC{constructor(){this.vo=new E0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,r){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new E0,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class cC{Mo(t){}shutdown(){}}const b0="ConnectivityMonitor";class A0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(b0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){at(b0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let zc=null;function Nm(){return zc===null?zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():zc++,"0x"+zc.toString(16)}const em="RestConnection",hC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class fC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===lh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(t,n,r,o,u){const f=Nm(),g=this.Qo(t,n.toUriEncodedString());at(em,`Sending RPC '${t}' ${f}:`,g,r);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,o,u);const{host:p}=new URL(g),E=lr(p);return this.zo(t,g,y,r,E).then((S=>(at(em,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw so(em,`RPC '${t}' ${f} failed with error: `,S,"url: ",g,"request:",r),S}))}jo(t,n,r,o,u,f){return this.Wo(t,n,r,o,u)}Go(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+mo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}Qo(t,n){const r=hC[t];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class dC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Ze="WebChannelConnection",wl=(s,t,n)=>{s.listen(t,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class eo extends fC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!eo.c_){const t=QT();wl(t,KT.STAT_EVENT,(n=>{n.stat===pm.PROXY?at(Ze,"STAT_EVENT: detected buffering proxy"):n.stat===pm.NOPROXY&&at(Ze,"STAT_EVENT: detected no buffering proxy")})),eo.c_=!0}}zo(t,n,r,o,u){const f=Nm();return new Promise(((g,y)=>{const p=new FT;p.setWithCredentials(!0),p.listenOnce(GT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Qc.NO_ERROR:const S=p.getResponseJson();at(Ze,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),g(S);break;case Qc.TIMEOUT:at(Ze,`RPC '${t}' ${f} timed out`),y(new rt($.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const x=p.getStatus();if(at(Ze,`RPC '${t}' ${f} failed with status:`,x,"response text:",p.getResponseText()),x>0){let q=p.getResponseJson();Array.isArray(q)&&(q=q[0]);const K=q?.error;if(K&&K.status&&K.message){const J=(function(ut){const st=ut.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(st)>=0?st:$.UNKNOWN})(K.status);y(new rt(J,K.message))}else y(new rt($.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new rt($.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{at(Ze,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);at(Ze,`RPC '${t}' ${f} sending request:`,o),p.send(n,"POST",E,r,15)}))}T_(t,n,r){const o=Nm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const p=u.join("");at(Ze,`Creating RPC '${t}' stream ${o}: ${p}`,g);const E=f.createWebChannel(p,g);this.I_(E);let S=!1,x=!1;const q=new dC({Ho:K=>{x?at(Ze,`Not sending because RPC '${t}' stream ${o} is closed:`,K):(S||(at(Ze,`Opening RPC '${t}' stream ${o} transport.`),E.open(),S=!0),at(Ze,`RPC '${t}' stream ${o} sending:`,K),E.send(K))},Jo:()=>E.close()});return wl(E,Il.EventType.OPEN,(()=>{x||(at(Ze,`RPC '${t}' stream ${o} transport opened.`),q.i_())})),wl(E,Il.EventType.CLOSE,(()=>{x||(x=!0,at(Ze,`RPC '${t}' stream ${o} transport closed`),q.o_(),this.E_(E))})),wl(E,Il.EventType.ERROR,(K=>{x||(x=!0,so(Ze,`RPC '${t}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),q.o_(new rt($.UNAVAILABLE,"The operation could not be completed")))})),wl(E,Il.EventType.MESSAGE,(K=>{if(!x){const J=K.data[0];Ft(!!J,16349);const W=J,ut=W?.error||W[0]?.error;if(ut){at(Ze,`RPC '${t}' stream ${o} received error:`,ut);const st=ut.status;let et=(function(Et){const I=Ne[Et];if(I!==void 0)return CE(I)})(st),gt=ut.message;et===void 0&&(et=$.INTERNAL,gt="Unknown error status: "+st+" with message "+ut.message),x=!0,q.o_(new rt(et,gt)),E.close()}else at(Ze,`RPC '${t}' stream ${o} received:`,J),q.__(J)}})),eo.u_(),setTimeout((()=>{q.s_()}),0),q}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,r){super.Go(t,n,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return YT()}}function mC(s){return new eo(s)}function nm(){return typeof document<"u"?document:null}function Uh(s){return new _I(s,!0)}eo.c_=!1;class HE{constructor(t,n,r=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=n,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const S0="PersistentStream";class FE{constructor(t,n,r,o,u,f,g,y){this.Ci=t,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new HE(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(as(n.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{t((()=>{const o=new rt($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,n){const r=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(S0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(at(S0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gC extends FE{constructor(t,n,r,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=EI(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Tt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Tt.min():f.readTime?Oi(f.readTime):Tt.min()})(t);return this.listener.J_(n,r)}Z_(t){const n={};n.database=Im(this.serializer),n.addTarget=(function(u,f){let g;const y=f.target;if(g=Em(y)?{documents:SI(u,y)}:{query:wI(u,y).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=DE(u,f.resumeToken);const p=Sm(u,f.expectedCount);p!==null&&(g.expectedCount=p)}else if(f.snapshotVersion.compareTo(Tt.min())>0){g.readTime=dh(u,f.snapshotVersion.toTimestamp());const p=Sm(u,f.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,t);const r=II(this.serializer,t);r&&(n.labels=r),this.K_(n)}X_(t){const n={};n.database=Im(this.serializer),n.removeTarget=t,this.K_(n)}}class pC extends FE{constructor(t,n,r,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=AI(t.writeResults,t.commitTime),r=Oi(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Im(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>bI(this.serializer,r)))};this.K_(n)}}class yC{}class _C extends yC{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new rt($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(t,wm(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new rt($.UNKNOWN,u.toString())}))}jo(t,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.jo(t,wm(n,r),o,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new rt($.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function vC(s,t,n,r){return new _C(s,t,n,r)}class TC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(as(n),this.aa=!1):at("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Jr="RemoteStore";class EC{constructor(t,n,r,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{ea(this)&&(at(Jr,"Restarting streams for network reachability change."),await(async function(y){const p=At(y);p.Ea.add(4),await nu(p),p.Va.set("Unknown"),p.Ea.delete(4),await Lh(p)})(this))}))})),this.Va=new TC(r,o)}}async function Lh(s){if(ea(s))for(const t of s.Ra)await t(!0)}async function nu(s){for(const t of s.Ra)await t(!1)}function GE(s,t){const n=At(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),gg(n)?mg(n):_o(n).O_()&&dg(n,t))}function fg(s,t){const n=At(s),r=_o(n);n.Ia.delete(t),r.O_()&&KE(n,t),n.Ia.size===0&&(r.O_()?r.L_():ea(n)&&n.Va.set("Unknown"))}function dg(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}_o(s).Z_(t)}function KE(s,t){s.da.$e(t),_o(s).X_(t)}function mg(s){s.da=new mI({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),_o(s).start(),s.Va.ua()}function gg(s){return ea(s)&&!_o(s).x_()&&s.Ia.size>0}function ea(s){return At(s).Ea.size===0}function QE(s){s.da=void 0}async function bC(s){s.Va.set("Online")}async function AC(s){s.Ia.forEach(((t,n)=>{dg(s,t)}))}async function SC(s,t){QE(s),gg(s)?(s.Va.ha(t),mg(s)):s.Va.set("Unknown")}async function wC(s,t,n){if(s.Va.set("Online"),t instanceof xE&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const g of u.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ia.delete(g),o.da.removeTarget(g))})(s,t)}catch(r){at(Jr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await gh(s,r)}else if(t instanceof Jc?s.da.Xe(t):t instanceof NE?s.da.st(t):s.da.tt(t),!n.isEqual(Tt.min()))try{const r=await qE(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const g=u.da.Tt(f);return g.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(y.resumeToken,f))}})),g.targetMismatches.forEach(((y,p)=>{const E=u.Ia.get(y);if(!E)return;u.Ia.set(y,E.withResumeToken($e.EMPTY_BYTE_STRING,E.snapshotVersion)),KE(u,y);const S=new Qs(E.target,y,p,E.sequenceNumber);dg(u,S)})),u.remoteSyncer.applyRemoteEvent(g)})(s,n)}catch(r){at(Jr,"Failed to raise snapshot:",r),await gh(s,r)}}async function gh(s,t,n){if(!po(t))throw t;s.Ea.add(1),await nu(s),s.Va.set("Offline"),n||(n=()=>qE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(Jr,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Lh(s)}))}function YE(s,t){return t().catch((n=>gh(s,n,t)))}async function Ph(s){const t=At(s),n=ar(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Jm;for(;RC(t);)try{const o=await aC(t.localStore,r);if(o===null){t.Ta.length===0&&n.L_();break}r=o.batchId,IC(t,o)}catch(o){await gh(t,o)}XE(t)&&$E(t)}function RC(s){return ea(s)&&s.Ta.length<10}function IC(s,t){s.Ta.push(t);const n=ar(s);n.O_()&&n.Y_&&n.ea(t.mutations)}function XE(s){return ea(s)&&!ar(s).x_()&&s.Ta.length>0}function $E(s){ar(s).start()}async function CC(s){ar(s).ra()}async function NC(s){const t=ar(s);for(const n of s.Ta)t.ea(n.mutations)}async function xC(s,t,n){const r=s.Ta.shift(),o=rg.from(r,t,n);await YE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Ph(s)}async function DC(s,t){t&&ar(s).Y_&&await(async function(r,o){if((function(f){return hI(f)&&f!==$.ABORTED})(o.code)){const u=r.Ta.shift();ar(r).B_(),await YE(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Ph(r)}})(s,t),XE(s)&&$E(s)}async function w0(s,t){const n=At(s);n.asyncQueue.verifyOperationInProgress(),at(Jr,"RemoteStore received new credentials");const r=ea(n);n.Ea.add(3),await nu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Lh(n)}async function OC(s,t){const n=At(s);t?(n.Ea.delete(2),await Lh(n)):t||(n.Ea.add(2),await nu(n),n.Va.set("Unknown"))}function _o(s){return s.ma||(s.ma=(function(n,r,o){const u=At(n);return u.sa(),new gC(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:bC.bind(null,s),Yo:AC.bind(null,s),t_:SC.bind(null,s),J_:wC.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),gg(s)?mg(s):s.Va.set("Unknown")):(await s.ma.stop(),QE(s))}))),s.ma}function ar(s){return s.fa||(s.fa=(function(n,r,o){const u=At(n);return u.sa(),new pC(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:CC.bind(null,s),t_:DC.bind(null,s),ta:NC.bind(null,s),na:xC.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await Ph(s)):(await s.fa.stop(),s.Ta.length>0&&(at(Jr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class pg{constructor(t,n,r,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,u){const f=Date.now()+r,g=new pg(t,n,f,o,u);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yg(s,t){if(as("AsyncQueue",`${t}: ${s}`),po(s))return new rt($.UNAVAILABLE,`${t}: ${s}`);throw s}class no{static emptySet(t){return new no(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||ft.comparator(n.key,r.key):(n,r)=>ft.comparator(n.key,r.key),this.keyedMap=Cl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof no)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new no;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class R0{constructor(){this.ga=new le(ft.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):yt(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class uo{constructor(t,n,r,o,u,f,g,y,p){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(t,n,r,o,u){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new uo(t,n,no.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Dh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class MC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class VC{constructor(){this.queries=I0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=At(n),u=o.queries;o.queries=I0(),u.forEach(((f,g)=>{for(const y of g.ba)y.onError(r)}))})(this,new rt($.ABORTED,"Firestore shutting down"))}}function I0(){return new ta((s=>pE(s)),Dh)}async function kC(s,t){const n=At(s);let r=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.Da()&&(r=2):(u=new MC,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const g=yg(f,`Initialization of query '${Ya(t.query)}' failed`);return void t.onError(g)}n.queries.set(o,u),u.ba.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&_g(n)}async function UC(s,t){const n=At(s),r=t.query;let o=3;const u=n.queries.get(r);if(u){const f=u.ba.indexOf(t);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function LC(s,t){const n=At(s);let r=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const g of f.ba)g.Fa(o)&&(r=!0);f.wa=o}}r&&_g(n)}function PC(s,t,n){const r=At(s),o=r.queries.get(t);if(o)for(const u of o.ba)u.onError(n);r.queries.delete(t)}function _g(s){s.Ca.forEach((t=>{t.next()}))}var xm,C0;(C0=xm||(xm={})).Ma="default",C0.Cache="cache";class zC{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new uo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=uo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==xm.Cache}}class JE{constructor(t){this.key=t}}class ZE{constructor(t){this.key=t}}class jC{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=kt(),this.mutatedKeys=kt(),this.eu=yE(t),this.tu=new no(this.eu)}get nu(){return this.Za}ru(t,n){const r=n?n.iu:new R0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,S)=>{const x=o.get(E),q=Oh(this.query,S)?S:null,K=!!x&&this.mutatedKeys.has(x.key),J=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let W=!1;x&&q?x.data.isEqual(q.data)?K!==J&&(r.track({type:3,doc:q}),W=!0):this.su(x,q)||(r.track({type:2,doc:q}),W=!0,(y&&this.eu(q,y)>0||p&&this.eu(q,p)<0)&&(g=!0)):!x&&q?(r.track({type:0,doc:q}),W=!0):x&&!q&&(r.track({type:1,doc:x}),W=!0,(y||p)&&(g=!0)),W&&(q?(f=f.add(q),u=J?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:f,iu:r,Ss:g,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,S)=>(function(q,K){const J=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Vt:W})}};return J(q)-J(K)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(r),o=o??!1;const g=n&&!o?this._u():[],y=this.Ya.size===0&&this.current&&!o?1:0,p=y!==this.Xa;return this.Xa=y,f.length!==0||p?{snapshot:new uo(this.query,t.tu,u,f,t.mutatedKeys,y===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new R0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=kt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return t.forEach((r=>{this.Ya.has(r)||n.push(new ZE(r))})),this.Ya.forEach((r=>{t.has(r)||n.push(new JE(r))})),n}cu(t){this.Za=t.ks,this.Ya=kt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const vg="SyncEngine";class BC{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class qC{constructor(t){this.key=t,this.hu=!1}}class HC{constructor(t,n,r,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ta((g=>pE(g)),Dh),this.Iu=new Map,this.Eu=new Set,this.Ru=new le(ft.comparator),this.Au=new Map,this.Vu=new lg,this.du={},this.mu=new Map,this.fu=lo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FC(s,t,n=!0){const r=s1(s);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await WE(r,t,n,!0),o}async function GC(s,t){const n=s1(s);await WE(n,t,!0,!1)}async function WE(s,t,n,r){const o=await oC(s.localStore,Di(t)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let g;return r&&(g=await KC(s,t,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&GE(s.remoteStore,o),g}async function KC(s,t,n,r,o){s.pu=(S,x,q)=>(async function(J,W,ut,st){let et=W.view.ru(ut);et.Ss&&(et=await T0(J.localStore,W.query,!1).then((({documents:I})=>W.view.ru(I,et))));const gt=st&&st.targetChanges.get(W.targetId),Ct=st&&st.targetMismatches.get(W.targetId)!=null,Et=W.view.applyChanges(et,J.isPrimaryClient,gt,Ct);return x0(J,W.targetId,Et.au),Et.snapshot})(s,S,x,q);const u=await T0(s.localStore,t,!0),f=new jC(t,u.ks),g=f.ru(u.documents),y=eu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),p=f.applyChanges(g,s.isPrimaryClient,y);x0(s,n,p.au);const E=new BC(t,n,f);return s.Tu.set(t,E),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),p.snapshot}async function QC(s,t,n){const r=At(s),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!Dh(f,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Cm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&fg(r.remoteStore,o.targetId),Dm(r,o.targetId)})).catch(go)):(Dm(r,o.targetId),await Cm(r.localStore,o.targetId,!0))}async function YC(s,t){const n=At(s),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fg(n.remoteStore,r.targetId))}async function XC(s,t,n){const r=nN(s);try{const o=await(function(f,g){const y=At(f),p=se.now(),E=g.reduce(((q,K)=>q.add(K.key)),kt());let S,x;return y.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let K=os(),J=kt();return y.xs.getEntries(q,E).next((W=>{K=W,K.forEach(((ut,st)=>{st.isValidDocument()||(J=J.add(ut))}))})).next((()=>y.localDocuments.getOverlayedDocuments(q,K))).next((W=>{S=W;const ut=[];for(const st of g){const et=aI(st,S.get(st.key).overlayedDocument);et!=null&&ut.push(new cr(st.key,et,lE(et.value.mapValue),ei.exists(!0)))}return y.mutationQueue.addMutationBatch(q,p,ut,g)})).next((W=>{x=W;const ut=W.applyToLocalDocumentSet(S,J);return y.documentOverlayCache.saveOverlays(q,W.batchId,ut)}))})).then((()=>({batchId:x.batchId,changes:vE(S)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(f,g,y){let p=f.du[f.currentUser.toKey()];p||(p=new le(Vt)),p=p.insert(g,y),f.du[f.currentUser.toKey()]=p})(r,o.batchId,n),await iu(r,o.changes),await Ph(r.remoteStore)}catch(o){const u=yg(o,"Failed to persist write");n.reject(u)}}async function t1(s,t){const n=At(s);try{const r=await sC(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ft(f.hu,14607):o.removedDocuments.size>0&&(Ft(f.hu,42227),f.hu=!1))})),await iu(n,r,t)}catch(r){await go(r)}}function N0(s,t,n){const r=At(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,f)=>{const g=f.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(f,g){const y=At(f);y.onlineState=g;let p=!1;y.queries.forEach(((E,S)=>{for(const x of S.ba)x.va(g)&&(p=!0)})),p&&_g(y)})(r.eventManager,t),o.length&&r.Pu.J_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function $C(s,t,n){const r=At(s);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),u=o&&o.key;if(u){let f=new le(ft.comparator);f=f.insert(u,tn.newNoDocument(u,Tt.min()));const g=kt().add(u),y=new kh(Tt.min(),new Map,new le(Vt),f,g);await t1(r,y),r.Ru=r.Ru.remove(u),r.Au.delete(t),Tg(r)}else await Cm(r.localStore,t,!1).then((()=>Dm(r,t,n))).catch(go)}async function JC(s,t){const n=At(s),r=t.batch.batchId;try{const o=await iC(n.localStore,t);n1(n,r,null),e1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await iu(n,o)}catch(o){await go(o)}}async function ZC(s,t,n){const r=At(s);try{const o=await(function(f,g){const y=At(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return y.mutationQueue.lookupMutationBatch(p,g).next((S=>(Ft(S!==null,37113),E=S.keys(),y.mutationQueue.removeMutationBatch(p,S)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,E,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>y.localDocuments.getDocuments(p,E)))}))})(r.localStore,t);n1(r,t,n),e1(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await iu(r,o)}catch(o){await go(o)}}function e1(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function n1(s,t,n){const r=At(s);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),r.du[r.currentUser.toKey()]=o}}function Dm(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((r=>{s.Vu.containsKey(r)||i1(s,r)}))}function i1(s,t){s.Eu.delete(t.path.canonicalString());const n=s.Ru.get(t);n!==null&&(fg(s.remoteStore,n),s.Ru=s.Ru.remove(t),s.Au.delete(n),Tg(s))}function x0(s,t,n){for(const r of n)r instanceof JE?(s.Vu.addReference(r.key,t),WC(s,r)):r instanceof ZE?(at(vg,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,t),s.Vu.containsKey(r.key)||i1(s,r.key)):yt(19791,{wu:r})}function WC(s,t){const n=t.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(at(vg,"New document in limbo: "+n),s.Eu.add(r),Tg(s))}function Tg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new ft(ee.fromString(t)),r=s.fu.next();s.Au.set(r,new qC(n)),s.Ru=s.Ru.insert(n,r),GE(s.remoteStore,new Qs(Di(ng(n.path)),r,"TargetPurposeLimboResolution",Ch.ce))}}async function iu(s,t,n){const r=At(s),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,y)=>{f.push(r.pu(y,t,n).then((p=>{if((p||n)&&r.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(p){o.push(p);const E=cg.Es(y.targetId,p);u.push(E)}})))})),await Promise.all(f),r.Pu.J_(o),await(async function(y,p){const E=At(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(p,(x=>Z.forEach(x.Ts,(q=>E.persistence.referenceDelegate.addReference(S,x.targetId,q))).next((()=>Z.forEach(x.Is,(q=>E.persistence.referenceDelegate.removeReference(S,x.targetId,q)))))))))}catch(S){if(!po(S))throw S;at(hg,"Failed to update sequence numbers: "+S)}for(const S of p){const x=S.targetId;if(!S.fromCache){const q=E.vs.get(x),K=q.snapshotVersion,J=q.withLastLimboFreeSnapshotVersion(K);E.vs=E.vs.insert(x,J)}}})(r.localStore,u))}async function tN(s,t){const n=At(s);if(!n.currentUser.isEqual(t)){at(vg,"User change. New user:",t.toKey());const r=await BE(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((g=>{g.forEach((y=>{y.reject(new rt($.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await iu(n,r.Ns)}}function eN(s,t){const n=At(s),r=n.Au.get(t);if(r&&r.hu)return kt().add(r.key);{let o=kt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const g=n.Tu.get(f);o=o.unionWith(g.view.nu)}return o}}function s1(s){const t=At(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=t1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=eN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$C.bind(null,t),t.Pu.J_=LC.bind(null,t.eventManager),t.Pu.yu=PC.bind(null,t.eventManager),t}function nN(s){const t=At(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=JC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ZC.bind(null,t),t}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Uh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return nC(this.persistence,new WI,t.initialUser,this.serializer)}Cu(t){return new jE(ug.Vi,this.serializer)}Du(t){return new uC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class iN extends ph{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ft(this.persistence.referenceDelegate instanceof mh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new PI(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new jE((r=>mh.Vi(r,n)),this.serializer)}}class Om{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>N0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=tN.bind(null,this.syncEngine),await OC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new VC})()}createDatastore(t){const n=Uh(t.databaseInfo.databaseId),r=mC(t.databaseInfo);return vC(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,o,u,f,g){return new EC(r,o,u,f,g)})(this.localStore,this.datastore,t.asyncQueue,(n=>N0(this.syncEngine,n,0)),(function(){return A0.v()?new A0:new cC})())}createSyncEngine(t,n){return(function(o,u,f,g,y,p,E){const S=new HC(o,u,f,g,y,p);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=At(n);at(Jr,"RemoteStore shutting down."),r.Ea.add(5),await nu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Om.provider={build:()=>new Om};class sN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):as("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const or="FirestoreClient";class rN{constructor(t,n,r,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=We.UNAUTHENTICATED,this.clientId=$m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{at(or,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(at(or,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=yg(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function im(s,t){s.asyncQueue.verifyOperationInProgress(),at(or,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await BE(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function D0(s,t){s.asyncQueue.verifyOperationInProgress();const n=await aN(s);at(or,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>w0(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>w0(t.remoteStore,o))),s._onlineComponents=t}async function aN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(or,"Using user provided OfflineComponentProvider");try{await im(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;so("Error using user provided cache. Falling back to memory cache: "+n),await im(s,new ph)}}else at(or,"Using default OfflineComponentProvider"),await im(s,new iN(void 0));return s._offlineComponents}async function r1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(or,"Using user provided OnlineComponentProvider"),await D0(s,s._uninitializedComponentsProvider._online)):(at(or,"Using default OnlineComponentProvider"),await D0(s,new Om))),s._onlineComponents}function oN(s){return r1(s).then((t=>t.syncEngine))}async function O0(s){const t=await r1(s),n=t.eventManager;return n.onListen=FC.bind(null,t.syncEngine),n.onUnlisten=QC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=GC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=YC.bind(null,t.syncEngine),n}function lN(s,t,n,r){const o=new sN(r),u=new zC(t,o,n);return s.asyncQueue.enqueueAndForget((async()=>kC(await O0(s),u))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>UC(await O0(s),u)))}}function uN(s,t){const n=new Fr;return s.asyncQueue.enqueueAndForget((async()=>XC(await oN(s),t,n))),n.promise}function a1(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const cN="ComponentProvider",M0=new Map;function hN(s,t,n,r,o){return new C2(s,t,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,a1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const o1="firestore.googleapis.com",V0=!0;class k0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=o1,this.ssl=V0}else this.host=t.host,this.ssl=t.ssl??V0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=zE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<UI)throw new rt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}y2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=a1(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class zh{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new o2;switch(r.type){case"firstParty":return new h2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new rt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=M0.get(n);r&&(at(cN,"Removing Datastore"),M0.delete(n),r.terminate())})(this),Promise.resolve()}}function fN(s,t,n,r={}){s=Zs(s,zh);const o=lr(t),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${n}`;o&&(Lm(`https://${g}`),Pm("Firestore",!0)),u.host!==o1&&u.host!==g&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:g,ssl:o,emulatorOptions:r};if(!Qr(y,f)&&(s._setSettings(y),r.mockUserToken)){let p,E;if(typeof r.mockUserToken=="string")p=r.mockUserToken,E=We.MOCK_USER;else{p=rT(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new rt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new We(S)}s._authCredentials=new l2(new $T(p,E))}}class na{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new na(this.firestore,t,this._query)}}class Oe{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Wl(n,Oe._jsonSchema))return new Oe(t,r||null,new ft(ee.fromString(n.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:De("string",Oe._jsonSchemaVersion),referencePath:De("string")};class Ws extends na{constructor(t,n,r){super(t,n,ng(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new ft(t))}withConverter(t){return new Ws(this.firestore,t,this._path)}}function U0(s,t,...n){if(s=ve(s),JT("collection","path",t),s instanceof zh){const r=ee.fromString(t,...n);return Qv(r),new Ws(s,null,r)}{if(!(s instanceof Oe||s instanceof Ws))throw new rt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...n));return Qv(r),new Ws(s.firestore,null,r)}}function yh(s,t,...n){if(s=ve(s),arguments.length===1&&(t=$m.newId()),JT("doc","path",t),s instanceof zh){const r=ee.fromString(t,...n);return Kv(r),new Oe(s,null,new ft(r))}{if(!(s instanceof Oe||s instanceof Ws))throw new rt($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...n));return Kv(r),new Oe(s.firestore,s instanceof Ws?s.converter:null,new ft(r))}}const L0="AsyncQueue";class P0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new HE(this,"async_queue_retry"),this._c=()=>{const r=nm();r&&at(L0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!po(t))throw t;at(L0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,as("INTERNAL UNHANDLED ERROR: ",z0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=pg.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:z0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function z0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class co extends zh{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=new P0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new P0(t),this._firestoreClient=void 0,await t}}}function dN(s,t){const n=typeof s=="object"?s:Bm(),r=typeof s=="string"?s:lh,o=bh(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=nT("firestore");u&&fN(o,...u)}return o}function l1(s){if(s._terminated)throw new rt($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||mN(s),s._firestoreClient}function mN(s){const t=s._freezeSettings(),n=hN(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new rN(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}class Bn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bn($e.fromBase64String(t))}catch(n){throw new rt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Bn($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Wl(t,Bn._jsonSchema))return Bn.fromBase64String(t.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:De("string",Bn._jsonSchemaVersion),bytes:De("string")};class Eg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new rt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class bg{constructor(t){this._methodName=t}}class Mi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new rt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new rt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(t){if(Wl(t,Mi._jsonSchema))return new Mi(t.latitude,t.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:De("string",Mi._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};class ni{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Wl(t,ni._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ni(t.vectorValues);throw new rt($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:De("string",ni._jsonSchemaVersion),vectorValues:De("object")};const gN=/^__.*__$/;class pN{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new cr(t,this.data,this.fieldMask,n,this.fieldTransforms):new tu(t,this.data,n,this.fieldTransforms)}}class u1{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new cr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function c1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{dataSource:s})}}class Ag{constructor(t,n,r,o,u,f){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Ag({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const n=this.path?.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return _h(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(c1(this.dataSource)&&gN.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class yN{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Uh(t)}createContext(t,n,r,o=!1){return new Ag({dataSource:t,methodName:n,targetDoc:r,path:Xe.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sg(s){const t=s._freezeSettings(),n=Uh(s._databaseId);return new yN(s._databaseId,!!t.ignoreUndefinedProperties,n)}function _N(s,t,n,r,o,u={}){const f=s.createContext(u.merge||u.mergeFields?2:0,t,n,o);wg("Data must be an object, but it was:",f,r);const g=h1(r,f);let y,p;if(u.merge)y=new wn(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const x=ho(t,S,n);if(!f.contains(x))throw new rt($.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);m1(E,x)||E.push(x)}y=new wn(E),p=f.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,p=f.fieldTransforms;return new pN(new gn(g),y,p)}class jh extends bg{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof jh}}function vN(s,t,n,r){const o=s.createContext(1,t,n);wg("Data must be an object, but it was:",o,r);const u=[],f=gn.empty();ur(r,((y,p)=>{const E=d1(t,y,n);p=ve(p);const S=o.childContextForFieldPath(E);if(p instanceof jh)u.push(E);else{const x=su(p,S);x!=null&&(u.push(E),f.set(E,x))}}));const g=new wn(u);return new u1(f,g,o.fieldTransforms)}function TN(s,t,n,r,o,u){const f=s.createContext(1,t,n),g=[ho(t,r,n)],y=[o];if(u.length%2!=0)throw new rt($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)g.push(ho(t,u[x])),y.push(u[x+1]);const p=[],E=gn.empty();for(let x=g.length-1;x>=0;--x)if(!m1(p,g[x])){const q=g[x];let K=y[x];K=ve(K);const J=f.childContextForFieldPath(q);if(K instanceof jh)p.push(q);else{const W=su(K,J);W!=null&&(p.push(q),E.set(q,W))}}const S=new wn(p);return new u1(E,S,f.fieldTransforms)}function EN(s,t,n,r=!1){return su(n,s.createContext(r?4:3,t))}function su(s,t){if(f1(s=ve(s)))return wg("Unsupported field value:",t,s),h1(s,t);if(s instanceof bg)return(function(r,o){if(!c1(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const g of r){let y=su(g,o.childContextForArray(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}})(s,t)}return(function(r,o){if((r=ve(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tI(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=se.fromDate(r);return{timestampValue:dh(o.serializer,u)}}if(r instanceof se){const u=new se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dh(o.serializer,u)}}if(r instanceof Mi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bn)return{bytesValue:DE(o.serializer,r._byteString)};if(r instanceof Oe){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:og(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ni)return(function(f,g){const y=f instanceof ni?f.toArray():f;return{mapValue:{fields:{[aE]:{stringValue:oE},[uh]:{arrayValue:{values:y.map((E=>{if(typeof E!="number")throw g.createError("VectorValues must only contain numeric values.");return ig(g.serializer,E)}))}}}}}})(r,o);if(PE(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Ih(r)}`)})(s,t)}function h1(s,t){const n={};return tE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ur(s,((r,o)=>{const u=su(o,t.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function f1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof se||s instanceof Mi||s instanceof Bn||s instanceof Oe||s instanceof bg||s instanceof ni||PE(s))}function wg(s,t,n){if(!f1(n)||!ZT(n)){const r=Ih(n);throw r==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+r)}}function ho(s,t,n){if((t=ve(t))instanceof Eg)return t._internalPath;if(typeof t=="string")return d1(s,t);throw _h("Field path arguments must be of type string or ",s,!1,void 0,n)}const bN=new RegExp("[~\\*/\\[\\]]");function d1(s,t,n){if(t.search(bN)>=0)throw _h(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Eg(...t.split("."))._internalPath}catch{throw _h(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function _h(s,t,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${r}`),f&&(y+=` in document ${o}`),y+=")"),new rt($.INVALID_ARGUMENT,g+s+y)}function m1(s,t){return s.some((n=>n.isEqual(t)))}class AN{convertValue(t,n="none"){switch(rr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(sr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return ur(t,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[uh].arrayValue?.values?.map((r=>_e(r.doubleValue)));return new ni(n)}convertGeoPoint(t){return new Mi(_e(t.latitude),_e(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=xh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ql(t));default:return null}}convertTimestamp(t){const n=ir(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ee.fromString(t);Ft(LE(r),9688,{name:t});const o=new Hl(r.get(1),r.get(3)),u=new ft(r.popFirst(5));return o.isEqual(n)||as(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class g1 extends AN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,n)}}const j0="@firebase/firestore",B0="4.10.0";function q0(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(s,["next","error","complete"])}class p1{constructor(t,n,r,o,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new SN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(ho("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class SN extends p1{data(){return super.data()}}function wN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rg{}class y1 extends Rg{}function RN(s,t,...n){let r=[];t instanceof Rg&&r.push(t),r=r.concat(n),(function(u){const f=u.filter((y=>y instanceof Cg)).length,g=u.filter((y=>y instanceof Ig)).length;if(f>1||f>0&&g>0)throw new rt($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Ig extends y1{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Ig(t,n,r)}_apply(t){const n=this._parse(t);return _1(t._query,n),new na(t.firestore,t.converter,bm(t._query,n))}_parse(t){const n=Sg(t.firestore);return(function(u,f,g,y,p,E,S){let x;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new rt($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){F0(S,E);const K=[];for(const J of S)K.push(H0(y,u,J));x={arrayValue:{values:K}}}else x=H0(y,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||F0(S,E),x=EN(g,f,S,E==="in"||E==="not-in");return xe.create(p,E,x)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Cg extends Rg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Cg(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ii.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const g=u.getFlattenedFilters();for(const y of g)_1(f,y),f=bm(f,y)})(t._query,n),new na(t.firestore,t.converter,bm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ng extends y1{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Ng(t,n)}_apply(t){const n=(function(o,u,f){if(o.startAt!==null)throw new rt($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new rt($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gl(u,f)})(t._query,this._field,this._direction);return new na(t.firestore,t.converter,K2(t._query,n))}}function IN(s,t="asc"){const n=t,r=ho("orderBy",s);return Ng._create(r,n)}function H0(s,t,n){if(typeof(n=ve(n))=="string"){if(n==="")throw new rt($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gE(t)&&n.indexOf("/")!==-1)throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ee.fromString(n));if(!ft.isDocumentKey(r))throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return e0(s,new ft(r))}if(n instanceof Oe)return e0(s,n._key);throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ih(n)}.`)}function F0(s,t){if(!Array.isArray(s)||s.length===0)throw new rt($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function _1(s,t){const n=(function(o,u){for(const f of o)for(const g of f.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new rt($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function CN(s,t,n){let r;return r=s?s.toFirestore(t):t,r}class xl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Gr extends p1{constructor(t,n,r,o,u,f){super(t,n,r,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(ho("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Gr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Gr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gr._jsonSchema={type:De("string",Gr._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class Zc extends Gr{data(t={}){return super.data(t)}}class io{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new xl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Zc(this._firestore,this._userDataWriter,r.key,r,new xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((g=>{const y=new Zc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new xl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const y=new Zc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new xl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return g.type!==0&&(p=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),E=f.indexOf(g.doc.key)),{type:NN(g.type),doc:y,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=io._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=$m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function NN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}io._jsonSchemaVersion="firestore/querySnapshot/1.0",io._jsonSchema={type:De("string",io._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};function v1(s,t,n,...r){s=Zs(s,Oe);const o=Zs(s.firestore,co),u=Sg(o);let f;return f=typeof(t=ve(t))=="string"||t instanceof Eg?TN(u,"updateDoc",s._key,t,n,r):vN(u,"updateDoc",s._key,t),xg(o,[f.toMutation(s._key,ei.exists(!0))])}function xN(s){return xg(Zs(s.firestore,co),[new sg(s._key,ei.none())])}function DN(s,t){const n=Zs(s.firestore,co),r=yh(s),o=CN(s.converter,t),u=Sg(s.firestore);return xg(n,[_N(u,"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,ei.exists(!1))]).then((()=>r))}function ON(s,...t){s=ve(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||q0(t[r])||(n=t[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(q0(t[r])){const p=t[r];t[r]=p.next?.bind(p),t[r+1]=p.error?.bind(p),t[r+2]=p.complete?.bind(p)}let u,f,g;if(s instanceof Oe)f=Zs(s.firestore,co),g=ng(s._key.path),u={next:p=>{t[r]&&t[r](MN(f,s,p))},error:t[r+1],complete:t[r+2]};else{const p=Zs(s,na);f=Zs(p.firestore,co),g=p._query;const E=new g1(f);u={next:S=>{t[r]&&t[r](new io(f,E,p,S))},error:t[r+1],complete:t[r+2]},wN(s._query)}const y=l1(f);return lN(y,g,o,u)}function xg(s,t){const n=l1(s);return uN(n,t)}function MN(s,t,n){const r=n.docs.get(t._key),o=new g1(s);return new Gr(s,o,t._key,r,new xl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){a2(Wr),Yr(new tr("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),g=new co(new u2(r.getProvider("auth-internal")),new f2(f,r.getProvider("app-check-internal")),N2(f,o),f);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Ci(j0,B0,t),Ci(j0,B0,"esm2020")})();var VN="firebase",kN="12.8.0";Ci(VN,kN,"app");const T1="firebasestorage.googleapis.com",E1="storageBucket",UN=120*1e3,LN=600*1e3;class fe extends ki{constructor(t,n,r=0){super(sm(t),`Firebase Storage: ${n} (${sm(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fe.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return sm(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var he;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(he||(he={}));function sm(s){return"storage/"+s}function Dg(){const s="An unknown error occurred, please check the error payload for server response.";return new fe(he.UNKNOWN,s)}function PN(s){return new fe(he.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function zN(s){return new fe(he.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function jN(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new fe(he.UNAUTHENTICATED,s)}function BN(){return new fe(he.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function qN(s){return new fe(he.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function HN(){return new fe(he.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function FN(){return new fe(he.CANCELED,"User canceled the upload/download.")}function GN(s){return new fe(he.INVALID_URL,"Invalid URL '"+s+"'.")}function KN(s){return new fe(he.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function QN(){return new fe(he.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+E1+"' property when initializing the app?")}function YN(){return new fe(he.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function XN(){return new fe(he.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function $N(s){return new fe(he.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Mm(s){return new fe(he.INVALID_ARGUMENT,s)}function b1(){return new fe(he.APP_DELETED,"The Firebase app was deleted.")}function JN(s){return new fe(he.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pl(s,t){return new fe(he.INVALID_FORMAT,"String does not match format '"+s+"': "+t)}function Rl(s){throw new fe(he.INTERNAL_ERROR,"Internal error: "+s)}class Rn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Rn.makeFromUrl(t,n)}catch{return new Rn(t,"")}if(r.path==="")return r;throw KN(t)}static makeFromUrl(t,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(gt){gt.path.charAt(gt.path.length-1)==="/"&&(gt.path_=gt.path_.slice(0,-1))}const f="(/(.*))?$",g=new RegExp("^gs://"+o+f,"i"),y={bucket:1,path:3};function p(gt){gt.path_=decodeURIComponent(gt.path)}const E="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",q=new RegExp(`^https?://${S}/${E}/b/${o}/o${x}`,"i"),K={bucket:1,path:3},J=n===T1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,W="([^?#]*)",ut=new RegExp(`^https?://${J}/${o}/${W}`,"i"),et=[{regex:g,indices:y,postModify:u},{regex:q,indices:K,postModify:p},{regex:ut,indices:{bucket:1,path:2},postModify:p}];for(let gt=0;gt<et.length;gt++){const Ct=et[gt],Et=Ct.regex.exec(t);if(Et){const I=Et[Ct.indices.bucket];let A=Et[Ct.indices.path];A||(A=""),r=new Rn(I,A),Ct.postModify(r);break}}if(r==null)throw GN(t);return r}}class ZN{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function WN(s,t,n){let r=1,o=null,u=null,f=!1,g=0;function y(){return g===2}let p=!1;function E(...W){p||(p=!0,t.apply(null,W))}function S(W){o=setTimeout(()=>{o=null,s(q,y())},W)}function x(){u&&clearTimeout(u)}function q(W,...ut){if(p){x();return}if(W){x(),E.call(null,W,...ut);return}if(y()||f){x(),E.call(null,W,...ut);return}r<64&&(r*=2);let et;g===1?(g=2,et=0):et=(r+Math.random())*1e3,S(et)}let K=!1;function J(W){K||(K=!0,x(),!p&&(o!==null?(W||(g=2),clearTimeout(o),S(0)):W||(g=1)))}return S(0),u=setTimeout(()=>{f=!0,J(!0)},n),J}function tx(s){s(!1)}function ex(s){return s!==void 0}function nx(s){return typeof s=="object"&&!Array.isArray(s)}function Og(s){return typeof s=="string"||s instanceof String}function G0(s){return Mg()&&s instanceof Blob}function Mg(){return typeof Blob<"u"}function K0(s,t,n,r){if(r<t)throw Mm(`Invalid value for '${s}'. Expected ${t} or greater.`);if(r>n)throw Mm(`Invalid value for '${s}'. Expected ${n} or less.`)}function Vg(s,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${s}`}function A1(s){const t=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const o=t(r)+"="+t(s[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var Kr;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Kr||(Kr={}));function ix(s,t){const n=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,u=t.indexOf(s)!==-1;return n||o||u}class sx{constructor(t,n,r,o,u,f,g,y,p,E,S,x=!0,q=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=g,this.errorCallback_=y,this.timeout_=p,this.progressCallback_=E,this.connectionFactory_=S,this.retry=x,this.isUsingEmulator=q,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((K,J)=>{this.resolve_=K,this.reject_=J,this.start_()})}start_(){const t=(r,o)=>{if(o){r(!1,new jc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=g=>{const y=g.loaded,p=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,p)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const g=u.getErrorCode()===Kr.NO_ERROR,y=u.getStatus();if(!g||ix(y,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Kr.ABORT;r(!1,new jc(!1,null,E));return}const p=this.successCodes_.indexOf(y)!==-1;r(!0,new jc(p,u))})},n=(r,o)=>{const u=this.resolve_,f=this.reject_,g=o.connection;if(o.wasSuccessCode)try{const y=this.callback_(g,g.getResponse());ex(y)?u(y):u()}catch(y){f(y)}else if(g!==null){const y=Dg();y.serverResponse=g.getErrorText(),this.errorCallback_?f(this.errorCallback_(g,y)):f(y)}else if(o.canceled){const y=this.appDelete_?b1():FN();f(y)}else{const y=HN();f(y)}};this.canceled_?n(!1,new jc(!1,null,!0)):this.backoffId_=WN(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&tx(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class jc{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function rx(s,t){t!==null&&t.length>0&&(s.Authorization="Firebase "+t)}function ax(s,t){s["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function ox(s,t){t&&(s["X-Firebase-GMPID"]=t)}function lx(s,t){t!==null&&(s["X-Firebase-AppCheck"]=t)}function ux(s,t,n,r,o,u,f=!0,g=!1){const y=A1(s.urlParams),p=s.url+y,E=Object.assign({},s.headers);return ox(E,t),rx(E,n),ax(E,u),lx(E,r),new sx(p,s.method,E,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,f,g)}function cx(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function hx(...s){const t=cx();if(t!==void 0){const n=new t;for(let r=0;r<s.length;r++)n.append(s[r]);return n.getBlob()}else{if(Mg())return new Blob(s);throw new fe(he.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function fx(s,t,n){return s.webkitSlice?s.webkitSlice(t,n):s.mozSlice?s.mozSlice(t,n):s.slice?s.slice(t,n):null}function dx(s){if(typeof atob>"u")throw $N("base-64");return atob(s)}const Ii={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class rm{constructor(t,n){this.data=t,this.contentType=n||null}}function mx(s,t){switch(s){case Ii.RAW:return new rm(S1(t));case Ii.BASE64:case Ii.BASE64URL:return new rm(w1(s,t));case Ii.DATA_URL:return new rm(px(t),yx(t))}throw Dg()}function S1(s){const t=[];for(let n=0;n<s.length;n++){let r=s.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<s.length-1&&(s.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const u=r,f=s.charCodeAt(++n);r=65536|(u&1023)<<10|f&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function gx(s){let t;try{t=decodeURIComponent(s)}catch{throw Pl(Ii.DATA_URL,"Malformed data URL.")}return S1(t)}function w1(s,t){switch(s){case Ii.BASE64:{const o=t.indexOf("-")!==-1,u=t.indexOf("_")!==-1;if(o||u)throw Pl(s,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ii.BASE64URL:{const o=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(o||u)throw Pl(s,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=dx(t)}catch(o){throw o.message.includes("polyfill")?o:Pl(s,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class R1{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Pl(Ii.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=_x(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function px(s){const t=new R1(s);return t.base64?w1(Ii.BASE64,t.rest):gx(t.rest)}function yx(s){return new R1(s).contentType}function _x(s,t){return s.length>=t.length?s.substring(s.length-t.length)===t:!1}class Ks{constructor(t,n){let r=0,o="";G0(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,n){if(G0(this.data_)){const r=this.data_,o=fx(r,t,n);return o===null?null:new Ks(o)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Ks(r,!0)}}static getBlob(...t){if(Mg()){const n=t.map(r=>r instanceof Ks?r.data_:r);return new Ks(hx.apply(null,n))}else{const n=t.map(f=>Og(f)?mx(Ii.RAW,f).data:f.data_);let r=0;n.forEach(f=>{r+=f.byteLength});const o=new Uint8Array(r);let u=0;return n.forEach(f=>{for(let g=0;g<f.length;g++)o[u++]=f[g]}),new Ks(o,!0)}}uploadData(){return this.data_}}function I1(s){let t;try{t=JSON.parse(s)}catch{return null}return nx(t)?t:null}function vx(s){if(s.length===0)return null;const t=s.lastIndexOf("/");return t===-1?"":s.slice(0,t)}function Tx(s,t){const n=t.split("/").filter(r=>r.length>0).join("/");return s.length===0?n:s+"/"+n}function C1(s){const t=s.lastIndexOf("/",s.length-2);return t===-1?s:s.slice(t+1)}function Ex(s,t){return t}class an{constructor(t,n,r,o){this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||Ex}}let Bc=null;function bx(s){return!Og(s)||s.length<2?s:C1(s)}function N1(){if(Bc)return Bc;const s=[];s.push(new an("bucket")),s.push(new an("generation")),s.push(new an("metageneration")),s.push(new an("name","fullPath",!0));function t(u,f){return bx(f)}const n=new an("name");n.xform=t,s.push(n);function r(u,f){return f!==void 0?Number(f):f}const o=new an("size");return o.xform=r,s.push(o),s.push(new an("timeCreated")),s.push(new an("updated")),s.push(new an("md5Hash",null,!0)),s.push(new an("cacheControl",null,!0)),s.push(new an("contentDisposition",null,!0)),s.push(new an("contentEncoding",null,!0)),s.push(new an("contentLanguage",null,!0)),s.push(new an("contentType",null,!0)),s.push(new an("metadata","customMetadata",!0)),Bc=s,Bc}function Ax(s,t){function n(){const r=s.bucket,o=s.fullPath,u=new Rn(r,o);return t._makeStorageReference(u)}Object.defineProperty(s,"ref",{get:n})}function Sx(s,t,n){const r={};r.type="file";const o=n.length;for(let u=0;u<o;u++){const f=n[u];r[f.local]=f.xform(r,t[f.server])}return Ax(r,s),r}function x1(s,t,n){const r=I1(t);return r===null?null:Sx(s,r,n)}function wx(s,t,n,r){const o=I1(t);if(o===null||!Og(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(p=>{const E=s.bucket,S=s.fullPath,x="/b/"+f(E)+"/o/"+f(S),q=Vg(x,n,r),K=A1({alt:"media",token:p});return q+K})[0]}function Rx(s,t){const n={},r=t.length;for(let o=0;o<r;o++){const u=t[o];u.writable&&(n[u.server]=s[u.local])}return JSON.stringify(n)}class D1{constructor(t,n,r,o){this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function O1(s){if(!s)throw Dg()}function Ix(s,t){function n(r,o){const u=x1(s,o,t);return O1(u!==null),u}return n}function Cx(s,t){function n(r,o){const u=x1(s,o,t);return O1(u!==null),wx(u,o,s.host,s._protocol)}return n}function M1(s){function t(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=BN():o=jN():n.getStatus()===402?o=zN(s.bucket):n.getStatus()===403?o=qN(s.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return t}function Nx(s){const t=M1(s);function n(r,o){let u=t(r,o);return r.getStatus()===404&&(u=PN(s.path)),u.serverResponse=o.serverResponse,u}return n}function xx(s,t,n){const r=t.fullServerUrl(),o=Vg(r,s.host,s._protocol),u="GET",f=s.maxOperationRetryTime,g=new D1(o,u,Cx(s,n),f);return g.errorHandler=Nx(t),g}function Dx(s,t){return s&&s.contentType||t&&t.type()||"application/octet-stream"}function Ox(s,t,n){const r=Object.assign({},n);return r.fullPath=s.path,r.size=t.size(),r.contentType||(r.contentType=Dx(null,t)),r}function Mx(s,t,n,r,o){const u=t.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function g(){let et="";for(let gt=0;gt<2;gt++)et=et+Math.random().toString().slice(2);return et}const y=g();f["Content-Type"]="multipart/related; boundary="+y;const p=Ox(t,r,o),E=Rx(p,n),S="--"+y+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+y+`\r
Content-Type: `+p.contentType+`\r
\r
`,x=`\r
--`+y+"--",q=Ks.getBlob(S,r,x);if(q===null)throw YN();const K={name:p.fullPath},J=Vg(u,s.host,s._protocol),W="POST",ut=s.maxUploadRetryTime,st=new D1(J,W,Ix(s,n),ut);return st.urlParams=K,st.headers=f,st.body=q.uploadData(),st.errorHandler=M1(t),st}class Vx{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Kr.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Kr.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Kr.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,o,u){if(this.sent_)throw Rl("cannot .send() more than once");if(lr(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Rl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Rl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Rl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Rl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class kx extends Vx{initXhr(){this.xhr_.responseType="text"}}function V1(){return new kx}class Zr{constructor(t,n){this._service=t,n instanceof Rn?this._location=n:this._location=Rn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Zr(t,n)}get root(){const t=new Rn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return C1(this._location.path)}get storage(){return this._service}get parent(){const t=vx(this._location.path);if(t===null)return null;const n=new Rn(this._location.bucket,t);return new Zr(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw JN(t)}}function Ux(s,t,n){s._throwIfRoot("uploadBytes");const r=Mx(s.storage,s._location,N1(),new Ks(t,!0),n);return s.storage.makeRequestWithTokens(r,V1).then(o=>({metadata:o,ref:s}))}function Lx(s){s._throwIfRoot("getDownloadURL");const t=xx(s.storage,s._location,N1());return s.storage.makeRequestWithTokens(t,V1).then(n=>{if(n===null)throw XN();return n})}function Px(s,t){const n=Tx(s._location.path,t),r=new Rn(s._location.bucket,n);return new Zr(s.storage,r)}function zx(s){return/^[A-Za-z]+:\/\//.test(s)}function jx(s,t){return new Zr(s,t)}function k1(s,t){if(s instanceof kg){const n=s;if(n._bucket==null)throw QN();const r=new Zr(n,n._bucket);return t!=null?k1(r,t):r}else return t!==void 0?Px(s,t):s}function Bx(s,t){if(t&&zx(t)){if(s instanceof kg)return jx(s,t);throw Mm("To use ref(service, url), the first argument must be a Storage instance.")}else return k1(s,t)}function Q0(s,t){const n=t?.[E1];return n==null?null:Rn.makeFromBucketSpec(n,s)}function qx(s,t,n,r={}){s.host=`${t}:${n}`;const o=lr(t);o&&(Lm(`https://${s.host}/b`),Pm("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(s._overrideAuthToken=typeof u=="string"?u:rT(u,s.app.options.projectId))}class kg{constructor(t,n,r,o,u,f=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=T1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=UN,this._maxUploadRetryTime=LN,this._requests=new Set,o!=null?this._bucket=Rn.makeFromBucketSpec(o,this._host):this._bucket=Q0(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Rn.makeFromBucketSpec(this._url,t):this._bucket=Q0(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){K0("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){K0("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Zr(this,t)}_makeRequest(t,n,r,o,u=!0){if(this._deleted)return new ZN(b1());{const f=ux(t,this._appId,r,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(t,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,o).getPromise()}}const Y0="@firebase/storage",X0="0.14.0";const U1="storage";function Hx(s,t,n){return s=ve(s),Ux(s,t,n)}function Fx(s){return s=ve(s),Lx(s)}function Gx(s,t){return s=ve(s),Bx(s,t)}function Kx(s=Bm(),t){s=ve(s);const r=bh(s,U1).getImmediate({identifier:t}),o=nT("storage");return o&&Qx(r,...o),r}function Qx(s,t,n,r={}){qx(s,t,n,r)}function Yx(s,{instanceIdentifier:t}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new kg(n,r,o,t,Wr)}function Xx(){Yr(new tr(U1,Yx,"PUBLIC").setMultipleInstances(!0)),Ci(Y0,X0,""),Ci(Y0,X0,"esm2020")}Xx();const $x={apiKey:"AIzaSyAixRQFDfvQpcpz9WF7cClQNnLwI0c3i0Q",authDomain:"music-4eef7.firebaseapp.com",projectId:"music-4eef7",storageBucket:"music-4eef7.firebasestorage.app",messagingSenderId:"41798433400",appId:"1:41798433400:web:acbbb075bf2877a1ef8b8d",measurementId:"G-W01741QDKL"},Ug=lT($x),am=s2(Ug),Dl=dN(Ug),Jx=Kx(Ug);const Zx=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Wx=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),$0=s=>{const t=Wx(s);return t.charAt(0).toUpperCase()+t.slice(1)},L1=(...s)=>s.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),tD=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var eD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const nD=mt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:f,...g},y)=>mt.createElement("svg",{ref:y,...eD,width:t,height:t,stroke:s,strokeWidth:r?Number(n)*24/Number(t):n,className:L1("lucide",o),...!u&&!tD(g)&&{"aria-hidden":"true"},...g},[...f.map(([p,E])=>mt.createElement(p,E)),...Array.isArray(u)?u:[u]]));const Me=(s,t)=>{const n=mt.forwardRef(({className:r,...o},u)=>mt.createElement(nD,{ref:u,iconNode:t,className:L1(`lucide-${Zx($0(s))}`,`lucide-${s}`,r),...o}));return n.displayName=$0(s),n};const iD=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],sD=Me("book-open",iD);const rD=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],aD=Me("calculator",rD);const oD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],lD=Me("external-link",oD);const uD=[["path",{d:"m11.9 12.1 4.514-4.514",key:"109xqo"}],["path",{d:"M20.1 2.3a1 1 0 0 0-1.4 0l-1.114 1.114A2 2 0 0 0 17 4.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 17.828 7h1.344a2 2 0 0 0 1.414-.586L21.7 5.3a1 1 0 0 0 0-1.4z",key:"txyc8t"}],["path",{d:"m6 16 2 2",key:"16qmzd"}],["path",{d:"M8.23 9.85A3 3 0 0 1 11 8a5 5 0 0 1 5 5 3 3 0 0 1-1.85 2.77l-.92.38A2 2 0 0 0 12 18a4 4 0 0 1-4 4 6 6 0 0 1-6-6 4 4 0 0 1 4-4 2 2 0 0 0 1.85-1.23z",key:"1de1vg"}]],Lg=Me("guitar",uD);const cD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],hD=Me("lock",cD);const fD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],dD=Me("log-out",fD);const mD=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],J0=Me("menu",mD);const gD=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],pD=Me("music",gD);const yD=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Vm=Me("pause",yD);const _D=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],P1=Me("pencil",_D);const vD=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],km=Me("play",vD);const TD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vh=Me("plus",TD);const ED=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],bD=Me("scroll",ED);const AD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],SD=Me("search",AD);const wD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],RD=Me("trash-2",wD);const ID=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],CD=Me("upload",ID);const ND=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],xD=Me("video",ND);const DD=[["path",{d:"M12 10v2.2l1.6 1",key:"n3r21l"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}]],OD=Me("watch",DD);const MD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Th=Me("x",MD);const VD=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],z1=Me("youtube",VD),kD=({onLogin:s})=>{const[t,n]=mt.useState(""),[r,o]=mt.useState(""),u=f=>{f.preventDefault(),t==="1234"?s("user"):t==="admin"?s("admin"):o("")};return N.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-900 p-4",children:N.jsxs("div",{className:"bg-gray-800 p-8 rounded-2xl shadow-2xl max-w-md w-full border border-gray-700",children:[N.jsx("div",{className:"flex justify-center mb-6",children:N.jsx("div",{className:"bg-indigo-600 p-4 rounded-full",children:N.jsx(Lg,{size:48,className:"text-white"})})}),N.jsx("h1",{className:"text-2xl font-bold text-center mb-2 text-white",children:" Pro"}),N.jsx("p",{className:"text-gray-400 text-center mb-6 text-sm",children:"    YouTube Music"}),N.jsxs("form",{onSubmit:u,className:"space-y-4",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:""}),N.jsxs("div",{className:"relative",children:[N.jsx(hD,{className:"absolute left-3 top-3 text-gray-500",size:18}),N.jsx("input",{type:"password",value:t,onChange:f=>n(f.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none text-white transition",placeholder:"...",autoFocus:!0})]})]}),r&&N.jsx("p",{className:"text-red-400 text-sm text-center",children:r}),N.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200",children:""}),N.jsxs("p",{className:"text-xs text-gray-500 text-center mt-4",children:[": 1234 ",N.jsx("br",{})," : admin"]})]})]})})},UD=({songs:s,currentSong:t,setCurrentSong:n,searchTerm:r,setSearchTerm:o,userRole:u,setUserRole:f,isSidebarOpen:g,setIsSidebarOpen:y,openAddModal:p,openEditModal:E,handleDeleteSong:S,loading:x,filteredSongs:q,onOpenTools:K})=>N.jsxs("div",{className:`${g?"w-full md:w-96":"w-14"} flex-col border-r border-gray-800 bg-gray-900 z-10 flex-shrink-0 transition-all duration-300 ease-in-out overflow-hidden relative ${t&&!g?"hidden md:flex":"flex"}`,children:[!g&&N.jsxs("div",{className:"h-full flex flex-col items-center pt-4 gap-4",children:[N.jsx("button",{onClick:()=>y(!0),className:"p-2 bg-gray-800 text-indigo-400 rounded-lg hover:bg-gray-700 transition",title:"",children:N.jsx(J0,{size:20})}),N.jsx("div",{className:"text-xs text-gray-500 font-bold",style:{writingMode:"vertical-rl"},children:""})]}),N.jsxs("div",{className:`flex flex-col h-full ${g?"":"hidden"}`,children:[N.jsxs("div",{className:"p-4 border-b border-gray-800 bg-gray-900",children:[N.jsxs("div",{className:"flex justify-between items-center mb-4",children:[N.jsxs("h1",{className:"text-xl font-bold text-white flex items-center gap-2",children:[N.jsx(Lg,{className:"text-indigo-500"}),"",N.jsx("span",{className:"text-xs bg-gray-700 text-gray-300 px-2 py-0.5 rounded-full font-normal",children:s.length})]}),N.jsxs("div",{className:"flex gap-2",children:[u==="admin"&&N.jsx("button",{onClick:p,className:"p-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition shadow-lg",children:N.jsx(vh,{size:18})}),N.jsx("button",{onClick:K,className:"p-2 text-indigo-400 hover:text-indigo-300",title:"",children:N.jsx("span",{className:"font-bold text-lg",children:""})}),N.jsx("button",{onClick:()=>f(null),className:"p-2 text-gray-500 hover:text-gray-300",title:"",children:N.jsx(dD,{size:18})}),N.jsx("button",{onClick:()=>y(!1),className:"p-2 text-gray-500 hover:text-gray-300 md:hidden",children:N.jsx(Th,{size:18})}),N.jsx("button",{onClick:()=>y(!1),className:"hidden md:block p-2 text-gray-500 hover:text-gray-300",title:"",children:N.jsx(J0,{size:18})})]})]}),N.jsxs("div",{className:"relative",children:[N.jsx(SD,{className:"absolute left-3 top-2.5 text-gray-500",size:18}),N.jsx("input",{type:"text",placeholder:"(:4)...",className:"w-full bg-gray-800 border border-gray-700 rounded-lg pl-10 pr-4 py-2 text-sm text-white focus:ring-1 focus:ring-indigo-500 outline-none",value:r,onChange:J=>o(J.target.value)})]})]}),N.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:x?N.jsx("div",{className:"text-center text-gray-500 mt-10",children:"..."}):q.length===0?N.jsxs("div",{className:"text-center text-gray-500 mt-10",children:[N.jsx("p",{children:""}),u==="admin"&&N.jsx("p",{className:"text-xs mt-2",children:" + "})]}):q.map(J=>N.jsxs("div",{onClick:()=>{n(J)},className:`group p-3 rounded-xl cursor-pointer border border-transparent transition-all duration-200 ${t?.id===J.id?"bg-indigo-900/30 border-indigo-500/50":"hover:bg-gray-800 border-gray-800"}`,children:[N.jsxs("div",{className:"flex justify-between items-start",children:[N.jsxs("div",{children:[N.jsx("h3",{className:`font-semibold ${t?.id===J.id?"text-indigo-400":"text-gray-200"}`,children:J.title}),N.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:J.artist})]}),u==="admin"&&N.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition",children:[N.jsx("button",{onClick:W=>E(W,J),className:"p-1.5 text-gray-500 hover:text-indigo-400 transition",children:N.jsx(P1,{size:16})}),N.jsx("button",{onClick:W=>S(W,J.id),className:"p-1.5 text-gray-500 hover:text-red-400 transition",children:N.jsx(RD,{size:16})})]})]}),N.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[N.jsxs("span",{className:"text-xs text-gray-600 bg-gray-800/50 px-1.5 py-0.5 rounded",children:[": ",J.titleLength||J.title.length]}),J.sourceUrl&&N.jsx(z1,{size:12,className:"text-gray-600"}),J.savedSpeed&&N.jsxs("span",{className:"text-[10px] text-indigo-500/70 border border-indigo-900/50 px-1 rounded",children:[J.savedSpeed,"x"]})]})]},J.id))})]})]}),LD=({currentSong:s,setCurrentSong:t,userRole:n,openAddModal:r})=>{const[o,u]=mt.useState("paged"),[f,g]=mt.useState(0),[y,p]=mt.useState(!1),[E,S]=mt.useState(1),x=mt.useRef(null),q=mt.useRef(null),[K,J]=mt.useState(null),[W,ut]=mt.useState(!1),st=mt.useRef(null);mt.useEffect(()=>{if(!window.YT){const A=document.createElement("script");A.src="https://www.youtube.com/iframe_api";const w=document.getElementsByTagName("script")[0];w.parentNode.insertBefore(A,w)}},[]);const et=A=>{if(!A)return null;const w=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,O=A.match(w);return O&&O[2].length===11?O[2]:null};mt.useEffect(()=>{if(s){const A=s.savedSpeed!==void 0?s.savedSpeed:1;S(A),p(!1),g(0);const w=et(s.sourceUrl);w?K&&K.loadVideoById?(K.loadVideoById(w),K.pauseVideo()):window.YT&&window.YT.Player&&!K&&st.current&&new window.YT.Player(st.current,{height:"1",width:"1",videoId:w,playerVars:{playsinline:1,controls:0},events:{onReady:O=>J(O.target),onStateChange:O=>{ut(O.data===window.YT.PlayerState.PLAYING)}}}):K&&K.stopVideo&&(K.stopVideo(),ut(!1))}},[s]),window.onYouTubeIframeAPIReady=()=>{};const gt=()=>{K&&(W?K.pauseVideo():K.playVideo())};mt.useEffect(()=>{if(o!=="scroll")return;let A;const w=()=>{x.current&&(x.current.scrollTop+=E*.3),A=requestAnimationFrame(w)};return y&&s&&(A=requestAnimationFrame(w)),()=>cancelAnimationFrame(A)},[y,E,s,o]),mt.useEffect(()=>{const A=w=>{s&&o==="paged"&&w.code==="Space"&&(w.preventDefault(),I())};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[s,o,f]);const Ct=A=>{S(A),s&&(q.current&&clearTimeout(q.current),q.current=setTimeout(async()=>{try{const w=yh(Dl,"songs",s.id);await v1(w,{savedSpeed:A})}catch(w){console.error("Failed to save speed",w)}},1e3))},Et=()=>{if(!s)return[];const A=s.tabUrls&&s.tabUrls.length>0?s.tabUrls:s.tabUrl?[s.tabUrl]:[];if(A.length<=1)return A;const w=f,O=w+2;return A.slice(w,O)},I=()=>{if(!s)return;const A=s.tabUrls&&s.tabUrls.length>0?s.tabUrls:[];f+2<A.length?g(f+2):g(0)};return s?N.jsxs("div",{className:"flex-1 flex flex-col h-full relative bg-gray-950",children:[N.jsxs("div",{className:"h-16 border-b border-gray-800 bg-gray-900/95 backdrop-blur flex items-center justify-between px-4 md:px-6 z-20 flex-shrink-0",children:[N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsx("button",{onClick:()=>t(null),className:"md:hidden text-gray-400 hover:text-white",children:" "}),N.jsxs("div",{className:"flex flex-col",children:[N.jsx("h2",{className:"text-lg font-bold text-white truncate max-w-[150px] md:max-w-xs",children:s.title}),N.jsx("p",{className:"text-xs text-indigo-400",children:s.artist})]})]}),N.jsxs("div",{className:"flex items-center gap-3",children:[s.sourceUrl&&et(s.sourceUrl)&&N.jsxs("button",{onClick:gt,className:`flex items-center gap-1 px-3 py-1.5 rounded-full text-sm font-bold transition border ${W?"bg-red-600/20 text-red-400 border-red-600/30":"bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700"}`,children:[W?N.jsx(Vm,{size:16,fill:"currentColor"}):N.jsx(km,{size:16,fill:"currentColor"}),N.jsx("span",{className:"hidden sm:inline",children:W?"":""})]}),s.sourceUrl&&N.jsxs("a",{href:s.sourceUrl,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 text-indigo-400 hover:text-indigo-300 text-sm font-medium transition hover:underline",children:[N.jsx(xD,{size:16}),N.jsxs("span",{className:"hidden sm:inline",children:[": ",s.title]}),N.jsx("span",{className:"sm:hidden",children:""}),N.jsx(lD,{size:12})]})]})]}),N.jsxs("div",{ref:x,className:`flex-1 overflow-y-auto relative bg-gray-950 ${o==="paged"?"no-scrollbar":"scroll-smooth"}`,style:{paddingBottom:"0px"},children:[N.jsx("div",{className:"absolute top-0 left-0 w-0 h-0 overflow-hidden opacity-0 pointer-events-none",children:N.jsx("div",{ref:st})}),N.jsxs("div",{className:`w-full h-full flex items-center justify-center ${o==="scroll"?"block pt-4 px-2 pb-32 max-w-4xl mx-auto space-y-4":"p-0"}`,children:[o==="scroll"&&N.jsx(N.Fragment,{children:s.tabUrls&&s.tabUrls.length>0?s.tabUrls.map((A,w)=>N.jsx("img",{src:A,alt:`Tab ${w}`,className:"w-full h-auto rounded-lg bg-white"},w)):s.tabUrl?N.jsx("img",{src:s.tabUrl,alt:"Tab",className:"w-full h-auto rounded-lg bg-white"}):N.jsx("div",{className:"text-gray-500",children:""})}),o==="paged"&&N.jsxs("div",{className:"w-full h-full flex items-center justify-center bg-gray-950",children:[(()=>{const A=Et();return A.length===0?N.jsx("div",{className:"text-gray-500",children:""}):A.length===1?N.jsx("div",{className:"w-full h-full flex items-center justify-center p-2",children:N.jsx("img",{src:A[0],className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl bg-white",alt:"tab page"})}):N.jsxs("div",{className:"w-full h-full flex flex-row",children:[N.jsx("div",{className:"w-1/2 h-full flex items-center justify-center p-1 border-r border-gray-800",children:N.jsx("img",{src:A[0],className:"max-w-full max-h-full object-contain rounded-lg bg-white",alt:"tab left"})}),N.jsx("div",{className:"w-1/2 h-full flex items-center justify-center p-1",children:N.jsx("img",{src:A[1],className:"max-w-full max-h-full object-contain rounded-lg bg-white",alt:"tab right"})})]})})(),s.tabUrls?.length>2&&N.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-gray-800/80 px-3 py-1 rounded-full text-xs text-white",children:[": ",f+1,"-",Math.min(f+2,s.tabUrls.length)," / ",s.tabUrls.length,N.jsx("span",{className:"ml-2 text-gray-400",children:"()"})]})]})]})]}),N.jsxs("div",{className:"absolute bottom-6 right-6 z-30 flex flex-col items-end gap-3 animate-fade-in",children:[N.jsxs("button",{onClick:()=>u(o==="paged"?"scroll":"paged"),className:"bg-gray-800/90 backdrop-blur border border-gray-700 text-white p-3 rounded-full shadow-lg hover:bg-gray-700 transition flex items-center gap-2",title:o==="paged"?"":"",children:[o==="paged"?N.jsx(sD,{size:20}):N.jsx(bD,{size:20}),N.jsx("span",{className:"text-xs font-bold",children:o==="paged"?"":""})]}),o==="scroll"&&N.jsxs("div",{className:"bg-gray-800/90 backdrop-blur border border-gray-700 p-2 rounded-xl shadow-2xl flex flex-col items-center gap-2 w-auto",children:[N.jsx("div",{className:"text-[10px] text-gray-400 font-medium",children:N.jsxs("span",{className:"text-indigo-400",children:[E.toFixed(1),"x"]})}),N.jsx("input",{type:"range",min:"0.5",max:"5.0",step:"0.1",value:E,onChange:A=>Ct(parseFloat(A.target.value)),className:"h-24 w-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-indigo-500",style:{writingMode:"bt-lr",WebkitAppearance:"slider-vertical"}}),N.jsx("button",{onClick:()=>p(!y),className:`p-2 rounded-full flex items-center justify-center transition-all ${y?"bg-red-500/20 text-red-400 hover:bg-red-500/30":"bg-indigo-600 text-white hover:bg-indigo-500 shadow-lg shadow-indigo-500/30"}`,title:y?"":"",children:y?N.jsx(Vm,{fill:"currentColor",size:16}):N.jsx(km,{fill:"currentColor",size:16,className:"ml-0.5"})})]})]})]}):N.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-500 p-8 text-center h-full bg-gray-950",children:[N.jsx("div",{className:"bg-gray-900 p-6 rounded-full mb-4 shadow-inner",children:N.jsx(Lg,{size:64,className:"text-gray-700"})}),N.jsx("h2",{className:"text-2xl font-bold text-gray-300 mb-2",children:""}),N.jsx("p",{className:"max-w-md mx-auto mb-8",children:""}),n==="admin"&&N.jsxs("button",{onClick:r,className:"bg-gray-800 hover:bg-gray-700 text-indigo-400 px-6 py-2 rounded-full font-medium transition flex items-center gap-2 border border-gray-700",children:[N.jsx(vh,{size:18})," "]})]})},PD=({isOpen:s,onClose:t,onSave:n,mode:r="add",initialData:o=null})=>{const[u,f]=mt.useState({title:"",artist:"",sourceUrl:""}),[g,y]=mt.useState([]),[p,E]=mt.useState([]),[S,x]=mt.useState(!1),[q,K]=mt.useState("");if(mt.useEffect(()=>{s&&(K(""),y([]),x(!1),r==="edit"&&o?(f({title:o.title||"",artist:o.artist||"",sourceUrl:o.sourceUrl||""}),o.tabUrls&&Array.isArray(o.tabUrls)?E(o.tabUrls):o.tabUrl?E([o.tabUrl]):E([])):(f({title:"",artist:"",sourceUrl:""}),E([])))},[s,r,o]),!s)return null;const J=st=>{let et=Array.from(st.target.files);et.sort((gt,Ct)=>gt.name.localeCompare(Ct.name,void 0,{numeric:!0,sensitivity:"base"})),y(et),K("")},W=st=>{E(et=>et.filter((gt,Ct)=>Ct!==st))},ut=async st=>{if(st.preventDefault(),p.length===0&&g.length===0){K("");return}x(!0),K("");try{const et=[];for(const Et of g){const I=Gx(Jx,`tab_images/${Date.now()}_${Et.name}`);await Hx(I,Et);const A=await Fx(I);et.push(A)}const gt=[...p,...et],Ct={...u,titleLength:u.title.length,tabUrls:gt,tabUrl:gt[0],...r==="add"?{createdAt:new Date().toISOString()}:{}};await n(Ct),t()}catch(et){console.error("Save error:",et),K(""+et.message)}finally{x(!1)}};return N.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:N.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-lg w-full p-6 border border-gray-700 animate-fade-in shadow-2xl overflow-y-auto max-h-[90vh]",children:[N.jsxs("div",{className:"flex justify-between items-center mb-6",children:[N.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[r==="add"?N.jsx(vh,{size:20,className:"text-indigo-400"}):N.jsx(P1,{size:20,className:"text-indigo-400"}),r==="add"?"":""]}),N.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white",children:N.jsx(Th,{size:24})})]}),N.jsxs("form",{onSubmit:ut,className:"space-y-4",children:[N.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:""}),N.jsx("input",{required:!0,type:"text",className:"w-full bg-gray-700 border border-gray-600 rounded p-2 text-white focus:border-indigo-500 outline-none",value:u.title,onChange:st=>f({...u,title:st.target.value}),disabled:S})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:""}),N.jsx("input",{required:!0,type:"text",className:"w-full bg-gray-700 border border-gray-600 rounded p-2 text-white focus:border-indigo-500 outline-none",value:u.artist,onChange:st=>f({...u,artist:st.target.value}),disabled:S})]})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:" (YouTube Music )"}),N.jsxs("div",{className:"relative",children:[N.jsx(z1,{className:"absolute left-3 top-2.5 text-red-500",size:18}),N.jsx("input",{type:"url",placeholder:"https://music.youtube.com/...",className:"w-full pl-10 bg-gray-700 border border-gray-600 rounded p-2 text-white focus:border-indigo-500 outline-none",value:u.sourceUrl,onChange:st=>f({...u,sourceUrl:st.target.value}),disabled:S})]})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:" ()"}),p.length>0&&N.jsxs("div",{className:"mb-3 space-y-2",children:[N.jsx("p",{className:"text-xs text-gray-500",children:" ( X ):"}),p.map((st,et)=>N.jsxs("div",{className:"flex items-center justify-between bg-gray-700/50 p-2 rounded border border-gray-600",children:[N.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[N.jsxs("span",{className:"text-indigo-400 font-bold text-xs",children:["#",et+1]}),N.jsx("img",{src:st,className:"h-8 w-8 object-cover rounded",alt:"thumb"}),N.jsxs("span",{className:"text-xs text-gray-400 truncate w-32",children:["...",st.slice(-10)]})]}),N.jsx("button",{type:"button",onClick:()=>W(et),className:"text-red-400 hover:text-red-300 p-1",children:N.jsx(Th,{size:16})})]},et))]}),N.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-6 text-center hover:border-indigo-500 transition-colors bg-gray-700/30",children:[N.jsx("input",{type:"file",id:"fileInput",multiple:!0,accept:"image/*",className:"hidden",onChange:J,disabled:S}),N.jsxs("label",{htmlFor:"fileInput",className:"cursor-pointer flex flex-col items-center justify-center gap-2",children:[N.jsx(CD,{className:"text-gray-400",size:32}),N.jsx("span",{className:"text-sm text-indigo-400 font-medium",children:""}),N.jsx("span",{className:"text-xs text-gray-500",children:""})]})]}),g.length>0&&N.jsx("div",{className:"mt-2 space-y-1",children:Array.from(g).map((st,et)=>N.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-400",children:[N.jsx(vh,{size:12})," : ",st.name]},et))})]}),q&&N.jsx("p",{className:"text-red-400 text-sm",children:q}),N.jsxs("div",{className:"pt-4 flex gap-3",children:[N.jsx("button",{type:"button",onClick:t,disabled:S,className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-2 rounded-lg transition",children:""}),N.jsx("button",{type:"submit",disabled:S,className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded-lg transition font-medium flex items-center justify-center gap-2",children:S?N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"spinner"})," ..."]}):r==="add"?"":""})]})]})]})})},qc=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],zD=()=>{const[s,t]=mt.useState("C"),[n,r]=mt.useState("C"),[o,u]=mt.useState("G"),[f,g]=mt.useState("C"),y=()=>{const p=qc.indexOf(o),E=qc.indexOf(f);let S=p-E;return S<0&&(S+=12),S};return N.jsxs("div",{className:"p-4 bg-gray-700/50 rounded-lg border border-gray-600",children:[N.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:" (Capo)"}),N.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:" (Vocal)"}),N.jsx("select",{value:o,onChange:p=>u(p.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded p-2 text-white",children:qc.map(p=>N.jsx("option",{value:p,children:p},p))})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:" (Shape)"}),N.jsx("select",{value:f,onChange:p=>g(p.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded p-2 text-white",children:qc.map(p=>N.jsx("option",{value:p,children:p},p))})]})]}),N.jsxs("div",{className:"bg-indigo-900/50 p-3 rounded-lg text-center border border-indigo-500/30",children:[N.jsx("span",{className:"text-gray-300 text-sm",children:""}),N.jsx("div",{className:"text-3xl font-bold text-indigo-400 my-1",children:y()}),N.jsxs("span",{className:"text-gray-300 text-sm",children:[" (Capo ",y(),")"]})]})]})},jD=()=>{const[s,t]=mt.useState(120),[n,r]=mt.useState(!1),o=mt.useRef(null),u=mt.useRef(0),f=mt.useRef(null),g=25,y=.1,p=K=>{const J=o.current.createOscillator(),W=o.current.createGain();J.connect(W),W.connect(o.current.destination),J.frequency.value=1e3,W.gain.value=1,J.start(K),J.stop(K+.1),W.gain.exponentialRampToValueAtTime(.001,K+.1)};mt.useEffect(()=>()=>{window.clearTimeout(f.current),o.current&&o.current.close()},[]);const E=mt.useRef(s);mt.useEffect(()=>{E.current=s},[s]);const S=()=>{const K=60/E.current;u.current+=K},x=()=>{for(;u.current<o.current.currentTime+y;)p(u.current),S();f.current=window.setTimeout(x,g)},q=()=>{n?(window.clearTimeout(f.current),r(!1)):(o.current||(o.current=new(window.AudioContext||window.webkitAudioContext)),o.current.state==="suspended"&&o.current.resume(),u.current=o.current.currentTime+.05,x(),r(!0))};return N.jsxs("div",{className:"p-4 bg-gray-700/50 rounded-lg border border-gray-600",children:[N.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:" (Metronome)"}),N.jsxs("div",{className:"flex items-center justify-between mb-4",children:[N.jsx("div",{className:"text-3xl font-mono text-indigo-400 w-20 text-center",children:s}),N.jsx("button",{onClick:q,className:`p-3 rounded-full flex items-center justify-center transition-all ${n?"bg-red-500 text-white":"bg-green-500 text-white"}`,children:n?N.jsx(Vm,{size:24}):N.jsx(km,{size:24,className:"ml-1"})})]}),N.jsx("input",{type:"range",min:"40",max:"200",value:s,onChange:K=>t(parseInt(K.target.value)),className:"w-full h-2 bg-gray-800 rounded-lg appearance-none cursor-pointer accent-indigo-500"})]})},om={C:{name:"C",frets:[-1,3,2,0,1,0],fingers:[0,3,2,0,1,0]},D:{name:"D",frets:[-1,-1,0,2,3,2],fingers:[0,0,0,1,3,2]},G:{name:"G",frets:[3,2,0,0,0,3],fingers:[2,1,0,0,0,3]},Em:{name:"Em",frets:[0,2,2,0,0,0],fingers:[0,2,3,0,0,0]},Am:{name:"Am",frets:[-1,0,2,2,1,0],fingers:[0,0,2,3,1,0]},F:{name:"F",frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barre:{fret:1,from:1,to:6}}},BD=()=>{const[s,t]=mt.useState("C"),n=om[s]||om.C,r=120,o=140,u=20,f=(r-u*2)/5,g=(o-u*2)/5;return N.jsxs("div",{className:"p-4 bg-gray-700/50 rounded-lg border border-gray-600",children:[N.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:""}),N.jsx("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2 no-scrollbar",children:Object.keys(om).map(y=>N.jsx("button",{onClick:()=>t(y),className:`px-3 py-1 rounded-full text-sm border font-bold ${s===y?"bg-indigo-600 border-indigo-500 text-white":"bg-gray-800 border-gray-600 text-gray-400 hover:text-white"}`,children:y},y))}),N.jsx("div",{className:"flex justify-center bg-white rounded-xl p-4 shadow-inner",children:N.jsxs("svg",{width:r,height:o,viewBox:`0 0 ${r} ${o}`,children:[[0,1,2,3,4].map(y=>N.jsx("line",{x1:u,y1:u+y*g,x2:r-u,y2:u+y*g,stroke:"#333",strokeWidth:y===0?4:1},`fret-${y}`)),[0,1,2,3,4,5].map(y=>N.jsx("line",{x1:u+y*f,y1:u,x2:u+y*f,y2:o-u*.5,stroke:"#333",strokeWidth:"1"},`str-${y}`)),n.frets.map((y,p)=>{const E=u+p*f;if(y===-1)return N.jsx("text",{x:E,y:u-5,textAnchor:"middle",fontSize:"12",fill:"red",children:""},p);if(y===0)return N.jsx("text",{x:E,y:u-5,textAnchor:"middle",fontSize:"12",fill:"#333",children:""},p);const S=u+(y-.5)*g;return N.jsxs("g",{children:[N.jsx("circle",{cx:E,cy:S,r:"6",fill:"#4f46e5"}),n.fingers[p]>0&&N.jsx("text",{x:E,y:S+3,textAnchor:"middle",fontSize:"8",fill:"white",children:n.fingers[p]})]},p)})]})})]})},qD=({isOpen:s,onClose:t})=>{const[n,r]=mt.useState("capo");return s?N.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:N.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-md w-full p-4 border border-gray-700 shadow-2xl animate-fade-in flex flex-col max-h-[90vh]",children:[N.jsxs("div",{className:"flex justify-between items-center mb-4 pb-2 border-b border-gray-700",children:[N.jsx("h2",{className:"text-xl font-bold text-white",children:""}),N.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white",children:N.jsx(Th,{size:24})})]}),N.jsxs("div",{className:"flex gap-2 mb-4 bg-gray-900/50 p-1 rounded-lg",children:[N.jsxs("button",{onClick:()=>r("capo"),className:`flex-1 py-2 rounded-md flex items-center justify-center gap-2 text-sm transition ${n==="capo"?"bg-indigo-600 text-white shadow":"text-gray-400 hover:text-gray-200"}`,children:[N.jsx(aD,{size:16})," Capo"]}),N.jsxs("button",{onClick:()=>r("metronome"),className:`flex-1 py-2 rounded-md flex items-center justify-center gap-2 text-sm transition ${n==="metronome"?"bg-indigo-600 text-white shadow":"text-gray-400 hover:text-gray-200"}`,children:[N.jsx(OD,{size:16})," "]}),N.jsxs("button",{onClick:()=>r("chords"),className:`flex-1 py-2 rounded-md flex items-center justify-center gap-2 text-sm transition ${n==="chords"?"bg-indigo-600 text-white shadow":"text-gray-400 hover:text-gray-200"}`,children:[N.jsx(pD,{size:16})," "]})]}),N.jsxs("div",{className:"flex-1 overflow-y-auto",children:[n==="capo"&&N.jsx(zD,{}),n==="metronome"&&N.jsx(jD,{}),n==="chords"&&N.jsx(BD,{})]})]})}):null},HD=()=>{const[s,t]=mt.useState(null),[n,r]=mt.useState([]),[o,u]=mt.useState(null),[f,g]=mt.useState(!0),[y,p]=mt.useState(""),[E,S]=mt.useState(!0),[x,q]=mt.useState(!1),[K,J]=mt.useState(!1),[W,ut]=mt.useState("add"),[st,et]=mt.useState(null);mt.useEffect(()=>{(async()=>{try{window.__initial_auth_token?await Mv(am):await Mv(am)}catch(D){console.error("Auth Error:",D)}})();const O=Qw(am,D=>{if(D){const U=RN(U0(Dl,"songs"),IN("createdAt","desc")),R=ON(U,Xt=>{const de=Xt.docs.map(F=>({id:F.id,...F.data()}));r(de),g(!1)},Xt=>{console.error("Error fetching songs:",Xt),g(!1)});return()=>R()}});return()=>O()},[]);const gt=async w=>{W==="add"?await DN(U0(Dl,"songs"),w):st&&(await v1(yh(Dl,"songs",st.id),w),o&&o.id===st.id&&u({...o,...w}))},Ct=async w=>{if(s==="admin")try{await xN(yh(Dl,"songs",w)),o?.id===w&&u(null)}catch(O){alert(""),console.error(O)}},Et=()=>{ut("add"),et(null),J(!0)},I=(w,O)=>{w&&w.stopPropagation(),ut("edit"),et(O),J(!0)};mt.useEffect(()=>{o&&S(!1)},[o]);const A=n.filter(w=>{const O=y.toLowerCase(),D=w.title.toLowerCase(),U=w.artist.toLowerCase(),R=(w.titleLength||w.title.length||0).toString();return D.includes(O)||U.includes(O)||R===O});return s?N.jsxs("div",{className:"flex h-screen bg-gray-900 overflow-hidden text-gray-100 font-sans",children:[N.jsx(UD,{songs:n,currentSong:o,setCurrentSong:u,searchTerm:y,setSearchTerm:p,userRole:s,setUserRole:t,isSidebarOpen:E,setIsSidebarOpen:S,openAddModal:Et,openEditModal:I,handleDeleteSong:Ct,loading:f,filteredSongs:A,onOpenTools:()=>q(!0)}),N.jsx(LD,{currentSong:o,setCurrentSong:u,userRole:s,openAddModal:Et}),N.jsx(PD,{isOpen:K,onClose:()=>J(!1),onSave:gt,mode:W,initialData:st}),N.jsx(qD,{isOpen:x,onClose:()=>q(!1)})]}):N.jsx(kD,{onLogin:t})};wA.createRoot(document.getElementById("root")).render(N.jsx(mt.StrictMode,{children:N.jsx(HD,{})}));
