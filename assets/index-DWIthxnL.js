(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Bd={exports:{}},Sl={};var s0;function vA(){if(s0)return Sl;s0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Sl.Fragment=t,Sl.jsx=n,Sl.jsxs=n,Sl}var r0;function TA(){return r0||(r0=1,Bd.exports=vA()),Bd.exports}var w=TA(),qd={exports:{}},At={};var a0;function EA(){if(a0)return At;a0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function B(V){return V===null||typeof V!="object"?null:(V=N&&V[N]||V["@@iterator"],typeof V=="function"?V:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,W={};function ut(V,X,it){this.props=V,this.context=X,this.refs=W,this.updater=it||Q}ut.prototype.isReactComponent={},ut.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},ut.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function st(){}st.prototype=ut.prototype;function tt(V,X,it){this.props=V,this.context=X,this.refs=W,this.updater=it||Q}var at=tt.prototype=new st;at.constructor=tt,Z(at,ut.prototype),at.isPureReactComponent=!0;var yt=Array.isArray;function vt(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(V,X,it){var lt=it.ref;return{$$typeof:s,type:V,key:X,ref:lt!==void 0?lt:null,props:it}}function O(V,X){return R(V.type,X,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function k(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(it){return X[it]})}var I=/\/+/g;function Xt(V,X){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):X.toString(36)}function le(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(vt,vt):(V.status="pending",V.then(function(X){V.status==="pending"&&(V.status="fulfilled",V.value=X)},function(X){V.status==="pending"&&(V.status="rejected",V.reason=X)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function F(V,X,it,lt,Et){var It=typeof V;(It==="undefined"||It==="boolean")&&(V=null);var Lt=!1;if(V===null)Lt=!0;else switch(It){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(V.$$typeof){case s:case t:Lt=!0;break;case T:return Lt=V._init,F(Lt(V._payload),X,it,lt,Et)}}if(Lt)return Et=Et(V),Lt=lt===""?"."+Xt(V,0):lt,yt(Et)?(it="",Lt!=null&&(it=Lt.replace(I,"$&/")+"/"),F(Et,X,it,"",function(hr){return hr})):Et!=null&&(D(Et)&&(Et=O(Et,it+(Et.key==null||V&&V.key===Et.key?"":(""+Et.key).replace(I,"$&/")+"/")+Lt)),X.push(Et)),1;Lt=0;var Ve=lt===""?".":lt+":";if(yt(V))for(var re=0;re<V.length;re++)lt=V[re],It=Ve+Xt(lt,re),Lt+=F(lt,X,it,It,Et);else if(re=B(V),typeof re=="function")for(V=re.call(V),re=0;!(lt=V.next()).done;)lt=lt.value,It=Ve+Xt(lt,re++),Lt+=F(lt,X,it,It,Et);else if(It==="object"){if(typeof V.then=="function")return F(le(V),X,it,lt,Et);throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function nt(V,X,it){if(V==null)return V;var lt=[],Et=0;return F(V,lt,"","",function(It){return X.call(it,It,Et++)}),lt}function ft(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(it){(V._status===0||V._status===-1)&&(V._status=1,V._result=it)},function(it){(V._status===0||V._status===-1)&&(V._status=2,V._result=it)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var zt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Gt={map:nt,forEach:function(V,X,it){nt(V,function(){X.apply(this,arguments)},it)},count:function(V){var X=0;return nt(V,function(){X++}),X},toArray:function(V){return nt(V,function(X){return X})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return At.Activity=S,At.Children=Gt,At.Component=ut,At.Fragment=n,At.Profiler=o,At.PureComponent=tt,At.StrictMode=r,At.Suspense=y,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,At.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},At.cache=function(V){return function(){return V.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(V,X,it){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var lt=Z({},V.props),Et=V.key;if(X!=null)for(It in X.key!==void 0&&(Et=""+X.key),X)!A.call(X,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&X.ref===void 0||(lt[It]=X[It]);var It=arguments.length-2;if(It===1)lt.children=it;else if(1<It){for(var Lt=Array(It),Ve=0;Ve<It;Ve++)Lt[Ve]=arguments[Ve+2];lt.children=Lt}return R(V.type,Et,lt)},At.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},At.createElement=function(V,X,it){var lt,Et={},It=null;if(X!=null)for(lt in X.key!==void 0&&(It=""+X.key),X)A.call(X,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(Et[lt]=X[lt]);var Lt=arguments.length-2;if(Lt===1)Et.children=it;else if(1<Lt){for(var Ve=Array(Lt),re=0;re<Lt;re++)Ve[re]=arguments[re+2];Et.children=Ve}if(V&&V.defaultProps)for(lt in Lt=V.defaultProps,Lt)Et[lt]===void 0&&(Et[lt]=Lt[lt]);return R(V,It,Et)},At.createRef=function(){return{current:null}},At.forwardRef=function(V){return{$$typeof:g,render:V}},At.isValidElement=D,At.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:ft}},At.memo=function(V,X){return{$$typeof:p,type:V,compare:X===void 0?null:X}},At.startTransition=function(V){var X=C.T,it={};C.T=it;try{var lt=V(),Et=C.S;Et!==null&&Et(it,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(vt,zt)}catch(It){zt(It)}finally{X!==null&&it.types!==null&&(X.types=it.types),C.T=X}},At.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},At.use=function(V){return C.H.use(V)},At.useActionState=function(V,X,it){return C.H.useActionState(V,X,it)},At.useCallback=function(V,X){return C.H.useCallback(V,X)},At.useContext=function(V){return C.H.useContext(V)},At.useDebugValue=function(){},At.useDeferredValue=function(V,X){return C.H.useDeferredValue(V,X)},At.useEffect=function(V,X){return C.H.useEffect(V,X)},At.useEffectEvent=function(V){return C.H.useEffectEvent(V)},At.useId=function(){return C.H.useId()},At.useImperativeHandle=function(V,X,it){return C.H.useImperativeHandle(V,X,it)},At.useInsertionEffect=function(V,X){return C.H.useInsertionEffect(V,X)},At.useLayoutEffect=function(V,X){return C.H.useLayoutEffect(V,X)},At.useMemo=function(V,X){return C.H.useMemo(V,X)},At.useOptimistic=function(V,X){return C.H.useOptimistic(V,X)},At.useReducer=function(V,X,it){return C.H.useReducer(V,X,it)},At.useRef=function(V){return C.H.useRef(V)},At.useState=function(V){return C.H.useState(V)},At.useSyncExternalStore=function(V,X,it){return C.H.useSyncExternalStore(V,X,it)},At.useTransition=function(){return C.H.useTransition()},At.version="19.2.3",At}var o0;function Um(){return o0||(o0=1,qd.exports=EA()),qd.exports}var dt=Um(),Hd={exports:{}},wl={},Fd={exports:{}},Gd={};var l0;function bA(){return l0||(l0=1,(function(s){function t(F,nt){var ft=F.length;F.push(nt);t:for(;0<ft;){var zt=ft-1>>>1,Gt=F[zt];if(0<o(Gt,nt))F[zt]=nt,F[ft]=Gt,ft=zt;else break t}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var nt=F[0],ft=F.pop();if(ft!==nt){F[0]=ft;t:for(var zt=0,Gt=F.length,V=Gt>>>1;zt<V;){var X=2*(zt+1)-1,it=F[X],lt=X+1,Et=F[lt];if(0>o(it,ft))lt<Gt&&0>o(Et,it)?(F[zt]=Et,F[lt]=ft,zt=lt):(F[zt]=it,F[X]=ft,zt=X);else if(lt<Gt&&0>o(Et,ft))F[zt]=Et,F[lt]=ft,zt=lt;else break t}}return nt}function o(F,nt){var ft=F.sortIndex-nt.sortIndex;return ft!==0?ft:F.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();s.unstable_now=function(){return f.now()-g}}var y=[],p=[],T=1,S=null,N=3,B=!1,Q=!1,Z=!1,W=!1,ut=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;function at(F){for(var nt=n(p);nt!==null;){if(nt.callback===null)r(p);else if(nt.startTime<=F)r(p),nt.sortIndex=nt.expirationTime,t(y,nt);else break;nt=n(p)}}function yt(F){if(Z=!1,at(F),!Q)if(n(y)!==null)Q=!0,vt||(vt=!0,k());else{var nt=n(p);nt!==null&&le(yt,nt.startTime-F)}}var vt=!1,C=-1,A=5,R=-1;function O(){return W?!0:!(s.unstable_now()-R<A)}function D(){if(W=!1,vt){var F=s.unstable_now();R=F;var nt=!0;try{t:{Q=!1,Z&&(Z=!1,st(C),C=-1),B=!0;var ft=N;try{e:{for(at(F),S=n(y);S!==null&&!(S.expirationTime>F&&O());){var zt=S.callback;if(typeof zt=="function"){S.callback=null,N=S.priorityLevel;var Gt=zt(S.expirationTime<=F);if(F=s.unstable_now(),typeof Gt=="function"){S.callback=Gt,at(F),nt=!0;break e}S===n(y)&&r(y),at(F)}else r(y);S=n(y)}if(S!==null)nt=!0;else{var V=n(p);V!==null&&le(yt,V.startTime-F),nt=!1}}break t}finally{S=null,N=ft,B=!1}nt=void 0}}finally{nt?k():vt=!1}}}var k;if(typeof tt=="function")k=function(){tt(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Xt=I.port2;I.port1.onmessage=D,k=function(){Xt.postMessage(null)}}else k=function(){ut(D,0)};function le(F,nt){C=ut(function(){F(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(F){switch(N){case 1:case 2:case 3:var nt=3;break;default:nt=N}var ft=N;N=nt;try{return F()}finally{N=ft}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(F,nt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ft=N;N=F;try{return nt()}finally{N=ft}},s.unstable_scheduleCallback=function(F,nt,ft){var zt=s.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?zt+ft:zt):ft=zt,F){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ft+Gt,F={id:T++,callback:nt,priorityLevel:F,startTime:ft,expirationTime:Gt,sortIndex:-1},ft>zt?(F.sortIndex=ft,t(p,F),n(y)===null&&F===n(p)&&(Z?(st(C),C=-1):Z=!0,le(yt,ft-zt))):(F.sortIndex=Gt,t(y,F),Q||B||(Q=!0,vt||(vt=!0,k()))),F},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(F){var nt=N;return function(){var ft=N;N=nt;try{return F.apply(this,arguments)}finally{N=ft}}}})(Gd)),Gd}var u0;function AA(){return u0||(u0=1,Fd.exports=bA()),Fd.exports}var Qd={exports:{}},Je={};var c0;function SA(){if(c0)return Je;c0=1;var s=Um();function t(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,p,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:p,implementation:T}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Je.createPortal=function(y,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(y,p,null,T)},Je.flushSync=function(y){var p=f.T,T=r.p;try{if(f.T=null,r.p=2,y)return y()}finally{f.T=p,r.p=T,r.d.f()}},Je.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(y,p))},Je.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Je.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var T=p.as,S=g(T,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,B=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?r.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:B}):T==="script"&&r.d.X(y,{crossOrigin:S,integrity:N,fetchPriority:B,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Je.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=g(p.as,p.crossOrigin);r.d.M(y,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(y)},Je.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,S=g(T,p.crossOrigin);r.d.L(y,T,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Je.preloadModule=function(y,p){if(typeof y=="string")if(p){var T=g(p.as,p.crossOrigin);r.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(y)},Je.requestFormReset=function(y){r.d.r(y)},Je.unstable_batchedUpdates=function(y,p){return y(p)},Je.useFormState=function(y,p,T){return f.H.useFormState(y,p,T)},Je.useFormStatus=function(){return f.H.useHostTransitionStatus()},Je.version="19.2.3",Je}var h0;function wA(){if(h0)return Qd.exports;h0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Qd.exports=SA(),Qd.exports}var f0;function RA(){if(f0)return wl;f0=1;var s=AA(),t=Um(),n=wA();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(u(e)!==e)throw Error(r(188))}function p(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return y(h),e;if(d===l)return y(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,l=d;break}if(E===l){_=!0,l=h,a=d;break}E=E.sibling}if(!_){for(E=d.child;E;){if(E===a){_=!0,a=d,l=h;break}if(E===l){_=!0,l=d,a=h;break}E=E.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function T(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=T(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),st=Symbol.for("react.consumer"),tt=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),yt=Symbol.for("react.suspense"),vt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function Xt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case ut:return"Profiler";case W:return"StrictMode";case yt:return"Suspense";case vt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Q:return"Portal";case tt:return e.displayName||"Context";case st:return(e._context.displayName||"Context")+".Consumer";case at:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return i=e.displayName||null,i!==null?i:Xt(e.type)||"Memo";case A:i=e._payload,e=e._init;try{return Xt(e(i))}catch{}}return null}var le=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},zt=[],Gt=-1;function V(e){return{current:e}}function X(e){0>Gt||(e.current=zt[Gt],zt[Gt]=null,Gt--)}function it(e,i){Gt++,zt[Gt]=e.current,e.current=i}var lt=V(null),Et=V(null),It=V(null),Lt=V(null);function Ve(e,i){switch(it(It,i),it(Et,e),it(lt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?I_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=I_(i),e=C_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(lt),it(lt,e)}function re(){X(lt),X(Et),X(It)}function hr(e){e.memoizedState!==null&&it(Lt,e);var i=lt.current,a=C_(i,e.type);i!==a&&(it(Et,e),it(lt,a))}function ia(e){Et.current===e&&(X(lt),X(Et)),Lt.current===e&&(X(Lt),Tl._currentValue=ft)}var sa,ra;function si(e){if(sa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);sa=i&&i[1]||"",ra=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sa+e+ra}var To=!1;function fr(e,i){if(!e||To)return"";To=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var j=H}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(H){j=H}e.call(Y.prototype)}}else{try{throw Error()}catch(H){j=H}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],E=d[1];if(_&&E){var x=_.split(`
`),z=E.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===z.length)for(l=x.length-1,h=z.length-1;1<=l&&0<=h&&x[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==z[h]){var G=`
`+x[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{To=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?si(a):""}function Eo(e,i){switch(e.tag){case 26:case 27:case 5:return si(e.type);case 16:return si("Lazy");case 13:return e.child!==i&&i!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return fr(e.type,!1);case 11:return fr(e.type.render,!1);case 1:return fr(e.type,!0);case 31:return si("Activity");default:return""}}function bo(e){try{var i="",a=null;do i+=Eo(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ee=Object.prototype.hasOwnProperty,ke=s.unstable_scheduleCallback,ls=s.unstable_cancelCallback,qh=s.unstable_shouldYield,lu=s.unstable_requestPaint,nn=s.unstable_now,dr=s.unstable_getCurrentPriorityLevel,Ao=s.unstable_ImmediatePriority,So=s.unstable_UserBlockingPriority,us=s.unstable_NormalPriority,Hh=s.unstable_LowPriority,uu=s.unstable_IdlePriority,cu=s.log,hu=s.unstable_setDisableYieldValue,qn=null,qe=null;function In(e){if(typeof cu=="function"&&hu(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(qn,e)}catch{}}var ge=Math.clz32?Math.clz32:du,fu=Math.log,aa=Math.LN2;function du(e){return e>>>=0,e===0?32:31-(fu(e)/aa|0)|0}var ri=256,mr=262144,be=4194304;function ai(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function oi(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=ai(l):(_&=E,_!==0?h=ai(_):a||(a=E&~e,a!==0&&(h=ai(a))))):(E=l&~d,E!==0?h=ai(E):_!==0?h=ai(_):a||(a=l&~e,a!==0&&(h=ai(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Hn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Fh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mu(){var e=be;return be<<=1,(be&62914560)===0&&(be=4194304),e}function li(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function gr(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Gh(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,x=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var G=31-ge(a),Y=1<<G;E[G]=0,x[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var H=j[G];H!==null&&(H.lane&=-536870913)}a&=~Y}l!==0&&pr(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function pr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-ge(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function wo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-ge(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Ro(e,i){var a=i&-i;return a=(a&42)!==0?1:yr(a),(a&(e.suspendedLanes|i))!==0?0:a}function yr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ui(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function gu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:J_(e.type))}function Fn(e,i){var a=nt.p;try{return nt.p=e,i()}finally{nt.p=a}}var Gn=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Gn,Pe="__reactProps$"+Gn,ui="__reactContainer$"+Gn,oa="__reactEvents$"+Gn,Qh="__reactListeners$"+Gn,pu="__reactHandles$"+Gn,yu="__reactResources$"+Gn,ci="__reactMarker$"+Gn;function la(e){delete e[Ae],delete e[Pe],delete e[oa],delete e[Qh],delete e[pu]}function hi(e){var i=e[Ae];if(i)return i;for(var a=e.parentNode;a;){if(i=a[ui]||a[Ae]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=k_(e);e!==null;){if(a=e[Ae])return a;e=k_(e)}return i}e=a,a=e.parentNode}return null}function Cn(e){if(e=e[Ae]||e[ui]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function pn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function fi(e){var i=e[yu];return i||(i=e[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Se(e){e[ci]=!0}var Io=new Set,Co={};function di(e,i){mi(e,i),mi(e+"Capture",i)}function mi(e,i){for(Co[e]=i,e=0;e<i.length;e++)Io.add(i[e])}var xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},Do={};function _u(e){return Ee.call(Do,e)?!0:Ee.call(No,e)?!1:xo.test(e)?Do[e]=!0:(No[e]=!0,!1)}function ua(e,i,a){if(_u(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function yn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function we(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cs(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Oo(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Qt(e){if(!e._valueTracker){var i=cs(e)?"checked":"value";e._valueTracker=Oo(e,i,""+e[i])}}function _r(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=cs(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function gi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vr=/[\n"\\]/g;function on(e){return e.replace(vr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ca(e,i,a,l,h,d,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+ze(i)):e.value!==""+ze(i)&&(e.value=""+ze(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Mo(e,_,ze(i)):a!=null?Mo(e,_,ze(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ze(E):e.removeAttribute("name")}function vu(e,i,a,l,h,d,_,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qt(e);return}a=a!=null?""+ze(a):"",i=i!=null?""+ze(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Qt(e)}function Mo(e,i,a){i==="number"&&gi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function hs(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+ze(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Tu(e,i,a){if(i!=null&&(i=""+ze(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+ze(a):""}function fs(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(le(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=ze(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Qt(e)}function ln(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Eu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Eu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function ko(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Vo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Vo(e,d,i[d])}function ha(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(e){return ds.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qn(){}var Uo=null;function xn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ms=null,pi=null;function Tr(e){var i=Cn(e);if(i&&(e=i.stateNode)){var a=e[Pe]||null;t:switch(e=i.stateNode,i.type){case"input":if(ca(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Pe]||null;if(!h)throw Error(r(90));ca(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&_r(l)}break t;case"textarea":Tu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&hs(e,!!a.multiple,i,!1)}}}var da=!1;function gs(e,i,a){if(da)return e(i,a);da=!0;try{var l=e(i);return l}finally{if(da=!1,(ms!==null||pi!==null)&&(gc(),ms&&(i=ms,e=pi,pi=ms=null,Tr(i),e)))for(i=0;i<e.length;i++)Tr(e[i])}}function Kn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Pe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Er=!1;if(Nn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Er=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Er=!1}var yi=null,Lo=null,br=null;function Po(){if(br)return br;var e,i=Lo,a=i.length,l,h="value"in yi?yi.value:yi.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return br=h.slice(e,1<l?1-l:void 0)}function Ar(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Li(){return!0}function Yn(){return!1}function He(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Li:Yn,this.isPropagationStopped=Yn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),i}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=He(Pi),ps=S({},Pi,{view:0,detail:0}),zo=He(ps),ys,ma,vi,ga=S({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vi&&(vi&&e.type==="mousemove"?(ys=e.screenX-vi.screenX,ma=e.screenY-vi.screenY):ma=ys=0,vi=e),ys)},movementY:function(e){return"movementY"in e?e.movementY:ma}}),jo=He(ga),Sr=S({},ga,{dataTransfer:0}),Au=He(Sr),Su=S({},ps,{relatedTarget:0}),wr=He(Su),Bo=S({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),wu=He(Bo),pa=S({},Pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ru=He(pa),Iu=S({},Pi,{data:0}),Ti=He(Iu),Cu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Nu[e])?!!i[e]:!1}function _s(){return Du}var sn=S({},ps,{key:function(e){if(e.key){var i=Cu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ar(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(e){return e.type==="keypress"?Ar(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ar(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ou=He(sn),Mu=S({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=He(Mu),c=S({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),m=He(c),v=S({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=He(v),L=S({},ga,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=He(L),et=S({},Pi,{newState:0,oldState:0}),wt=He(et),pe=[9,13,27,32],qt=Nn&&"CompositionEvent"in window,ae=null;Nn&&"documentMode"in document&&(ae=document.documentMode);var Dn=Nn&&"TextEvent"in window&&!ae,Ei=Nn&&(!qt||ae&&8<ae&&11>=ae),Xn=" ",$n=!1;function Rr(e,i){switch(e){case"keyup":return pe.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ya(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _a=!1;function H1(e,i){switch(e){case"compositionend":return ya(i);case"keypress":return i.which!==32?null:($n=!0,Xn);case"textInput":return e=i.data,e===Xn&&$n?null:e;default:return null}}function F1(e,i){if(_a)return e==="compositionend"||!qt&&Rr(e,i)?(e=Po(),br=Lo=yi=null,_a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ei&&i.locale!=="ko"?null:i.data;default:return null}}var G1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pg(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!G1[e.type]:i==="textarea"}function zg(e,i,a,l){ms?pi?pi.push(l):pi=[l]:ms=l,i=bc(i,"onChange"),0<i.length&&(a=new _i("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var qo=null,Ho=null;function Q1(e){E_(e,0)}function Vu(e){var i=pn(e);if(_r(i))return e}function jg(e,i){if(e==="change")return i}var Bg=!1;if(Nn){var Kh;if(Nn){var Yh="oninput"in document;if(!Yh){var qg=document.createElement("div");qg.setAttribute("oninput","return;"),Yh=typeof qg.oninput=="function"}Kh=Yh}else Kh=!1;Bg=Kh&&(!document.documentMode||9<document.documentMode)}function Hg(){qo&&(qo.detachEvent("onpropertychange",Fg),Ho=qo=null)}function Fg(e){if(e.propertyName==="value"&&Vu(Ho)){var i=[];zg(i,Ho,e,xn(e)),gs(Q1,i)}}function K1(e,i,a){e==="focusin"?(Hg(),qo=i,Ho=a,qo.attachEvent("onpropertychange",Fg)):e==="focusout"&&Hg()}function Y1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vu(Ho)}function X1(e,i){if(e==="click")return Vu(i)}function $1(e,i){if(e==="input"||e==="change")return Vu(i)}function J1(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var _n=typeof Object.is=="function"?Object.is:J1;function Fo(e,i){if(_n(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ee.call(i,h)||!_n(e[h],i[h]))return!1}return!0}function Gg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qg(e,i){var a=Gg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Gg(a)}}function Kg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Kg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Yg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=gi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=gi(e.document)}return i}function Xh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Z1=Nn&&"documentMode"in document&&11>=document.documentMode,va=null,$h=null,Go=null,Jh=!1;function Xg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Jh||va==null||va!==gi(l)||(l=va,"selectionStart"in l&&Xh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Go&&Fo(Go,l)||(Go=l,l=bc($h,"onSelect"),0<l.length&&(i=new _i("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=va)))}function Ir(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ta={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionrun:Ir("Transition","TransitionRun"),transitionstart:Ir("Transition","TransitionStart"),transitioncancel:Ir("Transition","TransitionCancel"),transitionend:Ir("Transition","TransitionEnd")},Zh={},$g={};Nn&&($g=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Cr(e){if(Zh[e])return Zh[e];if(!Ta[e])return e;var i=Ta[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in $g)return Zh[e]=i[a];return e}var Jg=Cr("animationend"),Zg=Cr("animationiteration"),Wg=Cr("animationstart"),W1=Cr("transitionrun"),tb=Cr("transitionstart"),eb=Cr("transitioncancel"),tp=Cr("transitionend"),ep=new Map,Wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wh.push("scrollEnd");function Jn(e,i){ep.set(e,i),di(i,[e])}var ku=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},On=[],Ea=0,tf=0;function Uu(){for(var e=Ea,i=tf=Ea=0;i<e;){var a=On[i];On[i++]=null;var l=On[i];On[i++]=null;var h=On[i];On[i++]=null;var d=On[i];if(On[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&np(a,h,d)}}function Lu(e,i,a,l){On[Ea++]=e,On[Ea++]=i,On[Ea++]=a,On[Ea++]=l,tf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function ef(e,i,a,l){return Lu(e,i,a,l),Pu(e)}function xr(e,i){return Lu(e,null,null,i),Pu(e)}function np(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-ge(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Pu(e){if(50<dl)throw dl=0,hd=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ba={};function nb(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,i,a,l){return new nb(e,i,a,l)}function nf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ji(e,i){var a=e.alternate;return a===null?(a=vn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ip(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function zu(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")nf(e)&&(_=1);else if(typeof e=="string")_=oA(e,a,lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=vn(31,a,i,h),e.elementType=R,e.lanes=d,e;case Z:return Nr(a.children,h,d,i);case W:_=8,h|=24;break;case ut:return e=vn(12,a,i,h|2),e.elementType=ut,e.lanes=d,e;case yt:return e=vn(13,a,i,h),e.elementType=yt,e.lanes=d,e;case vt:return e=vn(19,a,i,h),e.elementType=vt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tt:_=10;break t;case st:_=9;break t;case at:_=11;break t;case C:_=14;break t;case A:_=16,l=null;break t}_=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return i=vn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Nr(e,i,a,l){return e=vn(7,e,l,i),e.lanes=a,e}function sf(e,i,a){return e=vn(6,e,null,i),e.lanes=a,e}function sp(e){var i=vn(18,null,null,0);return i.stateNode=e,i}function rf(e,i,a){return i=vn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var rp=new WeakMap;function Mn(e,i){if(typeof e=="object"&&e!==null){var a=rp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:bo(i)},rp.set(e,i),i)}return{value:e,source:i,stack:bo(i)}}var Aa=[],Sa=0,ju=null,Qo=0,Vn=[],kn=0,vs=null,bi=1,Ai="";function Bi(e,i){Aa[Sa++]=Qo,Aa[Sa++]=ju,ju=e,Qo=i}function ap(e,i,a){Vn[kn++]=bi,Vn[kn++]=Ai,Vn[kn++]=vs,vs=e;var l=bi;e=Ai;var h=32-ge(l)-1;l&=~(1<<h),a+=1;var d=32-ge(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,bi=1<<32-ge(i)+h|a<<h|l,Ai=d+e}else bi=1<<d|a<<h|l,Ai=e}function af(e){e.return!==null&&(Bi(e,1),ap(e,1,0))}function of(e){for(;e===ju;)ju=Aa[--Sa],Aa[Sa]=null,Qo=Aa[--Sa],Aa[Sa]=null;for(;e===vs;)vs=Vn[--kn],Vn[kn]=null,Ai=Vn[--kn],Vn[kn]=null,bi=Vn[--kn],Vn[kn]=null}function op(e,i){Vn[kn++]=bi,Vn[kn++]=Ai,Vn[kn++]=vs,bi=i.id,Ai=i.overflow,vs=e}var Fe=null,ne=null,Ut=!1,Ts=null,Un=!1,lf=Error(r(519));function Es(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ko(Mn(i,e)),lf}function lp(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Ae]=e,i[Pe]=l,a){case"dialog":Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":case"embed":Nt("load",i);break;case"video":case"audio":for(a=0;a<gl.length;a++)Nt(gl[a],i);break;case"source":Nt("error",i);break;case"img":case"image":case"link":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"input":Nt("invalid",i),vu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Nt("invalid",i);break;case"textarea":Nt("invalid",i),fs(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||w_(i.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",i),Nt("toggle",i)),l.onScroll!=null&&Nt("scroll",i),l.onScrollEnd!=null&&Nt("scrollend",i),l.onClick!=null&&(i.onclick=Qn),i=!0):i=!1,i||Es(e,!0)}function up(e){for(Fe=e.return;Fe;)switch(Fe.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Fe=Fe.return}}function wa(e){if(e!==Fe)return!1;if(!Ut)return up(e),Ut=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Rd(e.type,e.memoizedProps)),a=!a),a&&ne&&Es(e),up(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ne=V_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ne=V_(e)}else i===27?(i=ne,ks(e.type)?(e=Dd,Dd=null,ne=e):ne=i):ne=Fe?Pn(e.stateNode.nextSibling):null;return!0}function Dr(){ne=Fe=null,Ut=!1}function uf(){var e=Ts;return e!==null&&(fn===null?fn=e:fn.push.apply(fn,e),Ts=null),e}function Ko(e){Ts===null?Ts=[e]:Ts.push(e)}var cf=V(null),Or=null,qi=null;function bs(e,i,a){it(cf,i._currentValue),i._currentValue=a}function Hi(e){e._currentValue=cf.current,X(cf)}function hf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function ff(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var x=0;x<i.length;x++)if(E.context===i[x]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),hf(d.return,a,e),l||(_=null);break t}d=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),hf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ra(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var E=h.type;_n(h.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(h===Lt.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Tl):e=[Tl])}h=h.return}e!==null&&ff(i,e,a,l),i.flags|=262144}function Bu(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mr(e){Or=e,qi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return cp(Or,e)}function qu(e,i){return Or===null&&Mr(e),cp(e,i)}function cp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},qi===null){if(e===null)throw Error(r(308));qi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else qi=qi.next=i;return a}var ib=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},sb=s.unstable_scheduleCallback,rb=s.unstable_NormalPriority,Re={$$typeof:tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function df(){return{controller:new ib,data:new Map,refCount:0}}function Yo(e){e.refCount--,e.refCount===0&&sb(rb,function(){e.controller.abort()})}var Xo=null,mf=0,Ia=0,Ca=null;function ab(e,i){if(Xo===null){var a=Xo=[];mf=0,Ia=yd(),Ca={status:"pending",value:void 0,then:function(l){a.push(l)}}}return mf++,i.then(hp,hp),i}function hp(){if(--mf===0&&Xo!==null){Ca!==null&&(Ca.status="fulfilled");var e=Xo;Xo=null,Ia=0,Ca=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function ob(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var fp=F.S;F.S=function(e,i){Xy=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&ab(e,i),fp!==null&&fp(e,i)};var Vr=V(null);function gf(){var e=Vr.current;return e!==null?e:te.pooledCache}function Hu(e,i){i===null?it(Vr,Vr.current):it(Vr,i.pool)}function dp(){var e=gf();return e===null?null:{parent:Re._currentValue,pool:e}}var xa=Error(r(460)),pf=Error(r(474)),Fu=Error(r(542)),Gu={then:function(){}};function mp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function gp(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Qn,Qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,yp(e),e;default:if(typeof i.status=="string")i.then(Qn,Qn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,yp(e),e}throw Ur=i,xa}}function kr(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ur=a,xa):a}}var Ur=null;function pp(){if(Ur===null)throw Error(r(459));var e=Ur;return Ur=null,e}function yp(e){if(e===xa||e===Fu)throw Error(r(483))}var Na=null,$o=0;function Qu(e){var i=$o;return $o+=1,Na===null&&(Na=[]),gp(Na,e,i)}function Jo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Ku(e,i){throw i.$$typeof===N?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function _p(e){function i(U,M){if(e){var P=U.deletions;P===null?(U.deletions=[M],U.flags|=16):P.push(M)}}function a(U,M){if(!e)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=ji(U,M),U.index=0,U.sibling=null,U}function d(U,M,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<M?(U.flags|=67108866,M):P):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function _(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,M,P,K){return M===null||M.tag!==6?(M=sf(P,U.mode,K),M.return=U,M):(M=h(M,P),M.return=U,M)}function x(U,M,P,K){var mt=P.type;return mt===Z?G(U,M,P.props.children,K,P.key):M!==null&&(M.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===A&&kr(mt)===M.type)?(M=h(M,P.props),Jo(M,P),M.return=U,M):(M=zu(P.type,P.key,P.props,null,U.mode,K),Jo(M,P),M.return=U,M)}function z(U,M,P,K){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=rf(P,U.mode,K),M.return=U,M):(M=h(M,P.children||[]),M.return=U,M)}function G(U,M,P,K,mt){return M===null||M.tag!==7?(M=Nr(P,U.mode,K,mt),M.return=U,M):(M=h(M,P),M.return=U,M)}function Y(U,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=sf(""+M,U.mode,P),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case B:return P=zu(M.type,M.key,M.props,null,U.mode,P),Jo(P,M),P.return=U,P;case Q:return M=rf(M,U.mode,P),M.return=U,M;case A:return M=kr(M),Y(U,M,P)}if(le(M)||k(M))return M=Nr(M,U.mode,P,null),M.return=U,M;if(typeof M.then=="function")return Y(U,Qu(M),P);if(M.$$typeof===tt)return Y(U,qu(U,M),P);Ku(U,M)}return null}function j(U,M,P,K){var mt=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return mt!==null?null:E(U,M,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case B:return P.key===mt?x(U,M,P,K):null;case Q:return P.key===mt?z(U,M,P,K):null;case A:return P=kr(P),j(U,M,P,K)}if(le(P)||k(P))return mt!==null?null:G(U,M,P,K,null);if(typeof P.then=="function")return j(U,M,Qu(P),K);if(P.$$typeof===tt)return j(U,M,qu(U,P),K);Ku(U,P)}return null}function H(U,M,P,K,mt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(P)||null,E(M,U,""+K,mt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case B:return U=U.get(K.key===null?P:K.key)||null,x(M,U,K,mt);case Q:return U=U.get(K.key===null?P:K.key)||null,z(M,U,K,mt);case A:return K=kr(K),H(U,M,P,K,mt)}if(le(K)||k(K))return U=U.get(P)||null,G(M,U,K,mt,null);if(typeof K.then=="function")return H(U,M,P,Qu(K),mt);if(K.$$typeof===tt)return H(U,M,P,qu(M,K),mt);Ku(M,K)}return null}function ct(U,M,P,K){for(var mt=null,jt=null,ht=M,Ct=M=0,Ot=null;ht!==null&&Ct<P.length;Ct++){ht.index>Ct?(Ot=ht,ht=null):Ot=ht.sibling;var Bt=j(U,ht,P[Ct],K);if(Bt===null){ht===null&&(ht=Ot);break}e&&ht&&Bt.alternate===null&&i(U,ht),M=d(Bt,M,Ct),jt===null?mt=Bt:jt.sibling=Bt,jt=Bt,ht=Ot}if(Ct===P.length)return a(U,ht),Ut&&Bi(U,Ct),mt;if(ht===null){for(;Ct<P.length;Ct++)ht=Y(U,P[Ct],K),ht!==null&&(M=d(ht,M,Ct),jt===null?mt=ht:jt.sibling=ht,jt=ht);return Ut&&Bi(U,Ct),mt}for(ht=l(ht);Ct<P.length;Ct++)Ot=H(ht,U,Ct,P[Ct],K),Ot!==null&&(e&&Ot.alternate!==null&&ht.delete(Ot.key===null?Ct:Ot.key),M=d(Ot,M,Ct),jt===null?mt=Ot:jt.sibling=Ot,jt=Ot);return e&&ht.forEach(function(js){return i(U,js)}),Ut&&Bi(U,Ct),mt}function pt(U,M,P,K){if(P==null)throw Error(r(151));for(var mt=null,jt=null,ht=M,Ct=M=0,Ot=null,Bt=P.next();ht!==null&&!Bt.done;Ct++,Bt=P.next()){ht.index>Ct?(Ot=ht,ht=null):Ot=ht.sibling;var js=j(U,ht,Bt.value,K);if(js===null){ht===null&&(ht=Ot);break}e&&ht&&js.alternate===null&&i(U,ht),M=d(js,M,Ct),jt===null?mt=js:jt.sibling=js,jt=js,ht=Ot}if(Bt.done)return a(U,ht),Ut&&Bi(U,Ct),mt;if(ht===null){for(;!Bt.done;Ct++,Bt=P.next())Bt=Y(U,Bt.value,K),Bt!==null&&(M=d(Bt,M,Ct),jt===null?mt=Bt:jt.sibling=Bt,jt=Bt);return Ut&&Bi(U,Ct),mt}for(ht=l(ht);!Bt.done;Ct++,Bt=P.next())Bt=H(ht,U,Ct,Bt.value,K),Bt!==null&&(e&&Bt.alternate!==null&&ht.delete(Bt.key===null?Ct:Bt.key),M=d(Bt,M,Ct),jt===null?mt=Bt:jt.sibling=Bt,jt=Bt);return e&&ht.forEach(function(_A){return i(U,_A)}),Ut&&Bi(U,Ct),mt}function Wt(U,M,P,K){if(typeof P=="object"&&P!==null&&P.type===Z&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case B:t:{for(var mt=P.key;M!==null;){if(M.key===mt){if(mt=P.type,mt===Z){if(M.tag===7){a(U,M.sibling),K=h(M,P.props.children),K.return=U,U=K;break t}}else if(M.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===A&&kr(mt)===M.type){a(U,M.sibling),K=h(M,P.props),Jo(K,P),K.return=U,U=K;break t}a(U,M);break}else i(U,M);M=M.sibling}P.type===Z?(K=Nr(P.props.children,U.mode,K,P.key),K.return=U,U=K):(K=zu(P.type,P.key,P.props,null,U.mode,K),Jo(K,P),K.return=U,U=K)}return _(U);case Q:t:{for(mt=P.key;M!==null;){if(M.key===mt)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){a(U,M.sibling),K=h(M,P.children||[]),K.return=U,U=K;break t}else{a(U,M);break}else i(U,M);M=M.sibling}K=rf(P,U.mode,K),K.return=U,U=K}return _(U);case A:return P=kr(P),Wt(U,M,P,K)}if(le(P))return ct(U,M,P,K);if(k(P)){if(mt=k(P),typeof mt!="function")throw Error(r(150));return P=mt.call(P),pt(U,M,P,K)}if(typeof P.then=="function")return Wt(U,M,Qu(P),K);if(P.$$typeof===tt)return Wt(U,M,qu(U,P),K);Ku(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(a(U,M.sibling),K=h(M,P),K.return=U,U=K):(a(U,M),K=sf(P,U.mode,K),K.return=U,U=K),_(U)):a(U,M)}return function(U,M,P,K){try{$o=0;var mt=Wt(U,M,P,K);return Na=null,mt}catch(ht){if(ht===xa||ht===Fu)throw ht;var jt=vn(29,ht,null,U.mode);return jt.lanes=K,jt.return=U,jt}}}var Lr=_p(!0),vp=_p(!1),As=!1;function yf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ss(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ws(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Pu(e),np(e,null,a),i}return Lu(e,l,i,a),Pu(e)}function Zo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,wo(e,a)}}function vf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Tf=!1;function Wo(){if(Tf){var e=Ca;if(e!==null)throw e}}function tl(e,i,a,l){Tf=!1;var h=e.updateQueue;As=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var x=E,z=x.next;x.next=null,_===null?d=z:_.next=z,_=x;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==_&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=x))}if(d!==null){var Y=h.baseState;_=0,G=z=x=null,E=d;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(Dt&j)===j:(l&j)===j){j!==0&&j===Ia&&(Tf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ct=e,pt=E;j=i;var Wt=a;switch(pt.tag){case 1:if(ct=pt.payload,typeof ct=="function"){Y=ct.call(Wt,Y,j);break t}Y=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=pt.payload,j=typeof ct=="function"?ct.call(Wt,Y,j):ct,j==null)break t;Y=S({},Y,j);break t;case 2:As=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=H,x=Y):G=G.next=H,_|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(x=Y),h.baseState=x,h.firstBaseUpdate=z,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),Ns|=_,e.lanes=_,e.memoizedState=Y}}function Tp(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Ep(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Tp(a[e],i)}var Da=V(null),Yu=V(0);function bp(e,i){e=Zi,it(Yu,e),it(Da,i),Zi=e|i.baseLanes}function Ef(){it(Yu,Zi),it(Da,Da.current)}function bf(){Zi=Yu.current,X(Da),X(Yu)}var Tn=V(null),Ln=null;function Rs(e){var i=e.alternate;it(ye,ye.current&1),it(Tn,e),Ln===null&&(i===null||Da.current!==null||i.memoizedState!==null)&&(Ln=e)}function Af(e){it(ye,ye.current),it(Tn,e),Ln===null&&(Ln=e)}function Ap(e){e.tag===22?(it(ye,ye.current),it(Tn,e),Ln===null&&(Ln=e)):Is()}function Is(){it(ye,ye.current),it(Tn,Tn.current)}function En(e){X(Tn),Ln===e&&(Ln=null),X(ye)}var ye=V(0);function Xu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||xd(a)||Nd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Fi=0,Rt=null,Jt=null,Ie=null,$u=!1,Oa=!1,Pr=!1,Ju=0,el=0,Ma=null,lb=0;function ce(){throw Error(r(321))}function Sf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!_n(e[a],i[a]))return!1;return!0}function wf(e,i,a,l,h,d){return Fi=d,Rt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=e===null||e.memoizedState===null?ay:jf,Pr=!1,d=a(l,h),Pr=!1,Oa&&(d=wp(i,a,l,h)),Sp(e),d}function Sp(e){F.H=sl;var i=Jt!==null&&Jt.next!==null;if(Fi=0,Ie=Jt=Rt=null,$u=!1,el=0,Ma=null,i)throw Error(r(300));e===null||Ce||(e=e.dependencies,e!==null&&Bu(e)&&(Ce=!0))}function wp(e,i,a,l){Rt=e;var h=0;do{if(Oa&&(Ma=null),el=0,Oa=!1,25<=h)throw Error(r(301));if(h+=1,Ie=Jt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=oy,d=i(a,l)}while(Oa);return d}function ub(){var e=F.H,i=e.useState()[0];return i=typeof i.then=="function"?nl(i):i,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(Rt.flags|=1024),i}function Rf(){var e=Ju!==0;return Ju=0,e}function If(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Cf(e){if($u){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}$u=!1}Fi=0,Ie=Jt=Rt=null,Oa=!1,el=Ju=0,Ma=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?Rt.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function _e(){if(Jt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var i=Ie===null?Rt.memoizedState:Ie.next;if(i!==null)Ie=i,Jt=e;else{if(e===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ie===null?Rt.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function Zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(e){var i=el;return el+=1,Ma===null&&(Ma=[]),e=gp(Ma,e,i),i=Rt,(Ie===null?i.memoizedState:Ie.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?ay:jf),e}function Wu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nl(e);if(e.$$typeof===tt)return Ge(e)}throw Error(r(438,String(e)))}function xf(e){var i=null,a=Rt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Zu(),Rt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=O;return i.index++,a}function Gi(e,i){return typeof i=="function"?i(e):i}function tc(e){var i=_e();return Nf(i,Jt,e)}function Nf(e,i,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=_=null,x=null,z=i,G=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Dt&Y)===Y:(Fi&Y)===Y){var j=z.revertLane;if(j===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===Ia&&(G=!0);else if((Fi&j)===j){z=z.next,j===Ia&&(G=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},x===null?(E=x=Y,_=d):x=x.next=Y,Rt.lanes|=j,Ns|=j;Y=z.action,Pr&&a(d,Y),d=z.hasEagerState?z.eagerState:a(d,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},x===null?(E=x=j,_=d):x=x.next=j,Rt.lanes|=Y,Ns|=Y;z=z.next}while(z!==null&&z!==i);if(x===null?_=d:x.next=E,!_n(d,e.memoizedState)&&(Ce=!0,G&&(a=Ca,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=x,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Df(e){var i=_e(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);_n(d,i.memoizedState)||(Ce=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Rp(e,i,a){var l=Rt,h=_e(),d=Ut;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!_n((Jt||h).memoizedState,a);if(_&&(h.memoizedState=a,Ce=!0),h=h.queue,Vf(xp.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||Ie!==null&&Ie.memoizedState.tag&1){if(l.flags|=2048,Va(9,{destroy:void 0},Cp.bind(null,l,h,a,i),null),te===null)throw Error(r(349));d||(Fi&127)!==0||Ip(l,i,a)}return a}function Ip(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Rt.updateQueue,i===null?(i=Zu(),Rt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Cp(e,i,a,l){i.value=a,i.getSnapshot=l,Np(i)&&Dp(e)}function xp(e,i,a){return a(function(){Np(i)&&Dp(e)})}function Np(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!_n(e,a)}catch{return!0}}function Dp(e){var i=xr(e,2);i!==null&&dn(i,e,2)}function Of(e){var i=rn();if(typeof e=="function"){var a=e;if(e=a(),Pr){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},i}function Op(e,i,a,l){return e.baseState=a,Nf(e,Jt,typeof l=="function"?l:Gi)}function cb(e,i,a,l,h){if(ic(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Mp(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Mp(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=F.T,_={};F.T=_;try{var E=a(h,l),x=F.S;x!==null&&x(_,E),Vp(e,i,E)}catch(z){Mf(e,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),F.T=d}}else try{d=a(h,l),Vp(e,i,d)}catch(z){Mf(e,i,z)}}function Vp(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){kp(e,i,l)},function(l){return Mf(e,i,l)}):kp(e,i,a)}function kp(e,i,a){i.status="fulfilled",i.value=a,Up(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Mp(e,a)))}function Mf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Up(i),i=i.next;while(i!==l)}e.action=null}function Up(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Lp(e,i){return i}function Pp(e,i){if(Ut){var a=te.formState;if(a!==null){t:{var l=Rt;if(Ut){if(ne){e:{for(var h=ne,d=Un;h.nodeType!==8;){if(!d){h=null;break e}if(h=Pn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ne=Pn(h.nextSibling),l=h.data==="F!";break t}}Es(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lp,lastRenderedState:i},a.queue=l,a=iy.bind(null,Rt,l),l.dispatch=a,l=Of(!1),d=zf.bind(null,Rt,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=cb.bind(null,Rt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function zp(e){var i=_e();return jp(i,Jt,e)}function jp(e,i,a){if(i=Nf(e,i,Lp)[0],e=tc(Gi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=nl(i)}catch(_){throw _===xa?Fu:_}else l=i;i=_e();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Rt.flags|=2048,Va(9,{destroy:void 0},hb.bind(null,h,a),null)),[l,d,e]}function hb(e,i){e.action=i}function Bp(e){var i=_e(),a=Jt;if(a!==null)return jp(i,a,e);_e(),i=i.memoizedState,a=_e();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Va(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Rt.updateQueue,i===null&&(i=Zu(),Rt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function qp(){return _e().memoizedState}function ec(e,i,a,l){var h=rn();Rt.flags|=e,h.memoizedState=Va(1|i,{destroy:void 0},a,l===void 0?null:l)}function nc(e,i,a,l){var h=_e();l=l===void 0?null:l;var d=h.memoizedState.inst;Jt!==null&&l!==null&&Sf(l,Jt.memoizedState.deps)?h.memoizedState=Va(i,d,a,l):(Rt.flags|=e,h.memoizedState=Va(1|i,d,a,l))}function Hp(e,i){ec(8390656,8,e,i)}function Vf(e,i){nc(2048,8,e,i)}function fb(e){Rt.flags|=4;var i=Rt.updateQueue;if(i===null)i=Zu(),Rt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Fp(e){var i=_e().memoizedState;return fb({ref:i,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Gp(e,i){return nc(4,2,e,i)}function Qp(e,i){return nc(4,4,e,i)}function Kp(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Yp(e,i,a){a=a!=null?a.concat([e]):null,nc(4,4,Kp.bind(null,i,e),a)}function kf(){}function Xp(e,i){var a=_e();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Sf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function $p(e,i){var a=_e();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Sf(i,l[1]))return l[0];if(l=e(),Pr){In(!0);try{e()}finally{In(!1)}}return a.memoizedState=[l,i],l}function Uf(e,i,a){return a===void 0||(Fi&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=Jy(),Rt.lanes|=e,Ns|=e,a)}function Jp(e,i,a,l){return _n(a,i)?a:Da.current!==null?(e=Uf(e,a,l),_n(e,i)||(Ce=!0),e):(Fi&42)===0||(Fi&1073741824)!==0&&(Dt&261930)===0?(Ce=!0,e.memoizedState=a):(e=Jy(),Rt.lanes|=e,Ns|=e,i)}function Zp(e,i,a,l,h){var d=nt.p;nt.p=d!==0&&8>d?d:8;var _=F.T,E={};F.T=E,zf(e,!1,i,a);try{var x=h(),z=F.S;if(z!==null&&z(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var G=ob(x,l);il(e,i,G,Sn(e))}else il(e,i,l,Sn(e))}catch(Y){il(e,i,{then:function(){},status:"rejected",reason:Y},Sn())}finally{nt.p=d,_!==null&&E.types!==null&&(_.types=E.types),F.T=_}}function db(){}function Lf(e,i,a,l){if(e.tag!==5)throw Error(r(476));var h=Wp(e).queue;Zp(e,h,i,ft,a===null?db:function(){return ty(e),a(l)})}function Wp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:ft},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function ty(e){var i=Wp(e);i.next===null&&(i=e.alternate.memoizedState),il(e,i.next.queue,{},Sn())}function Pf(){return Ge(Tl)}function ey(){return _e().memoizedState}function ny(){return _e().memoizedState}function mb(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();e=Ss(a);var l=ws(i,e,a);l!==null&&(dn(l,i,a),Zo(l,i,a)),i={cache:df()},e.payload=i;return}i=i.return}}function gb(e,i,a){var l=Sn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ic(e)?sy(i,a):(a=ef(e,i,a,l),a!==null&&(dn(a,e,l),ry(a,i,l)))}function iy(e,i,a){var l=Sn();il(e,i,a,l)}function il(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ic(e))sy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,E=d(_,a);if(h.hasEagerState=!0,h.eagerState=E,_n(E,_))return Lu(e,i,h,0),te===null&&Uu(),!1}catch{}if(a=ef(e,i,h,l),a!==null)return dn(a,e,l),ry(a,i,l),!0}return!1}function zf(e,i,a,l){if(l={lane:2,revertLane:yd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ic(e)){if(i)throw Error(r(479))}else i=ef(e,a,l,2),i!==null&&dn(i,e,2)}function ic(e){var i=e.alternate;return e===Rt||i!==null&&i===Rt}function sy(e,i){Oa=$u=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function ry(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,wo(e,a)}}var sl={readContext:Ge,use:Wu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};sl.useEffectEvent=ce;var ay={readContext:Ge,use:Wu,useCallback:function(e,i){return rn().memoizedState=[e,i===void 0?null:i],e},useContext:Ge,useEffect:Hp,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,ec(4194308,4,Kp.bind(null,i,e),a)},useLayoutEffect:function(e,i){return ec(4194308,4,e,i)},useInsertionEffect:function(e,i){ec(4,2,e,i)},useMemo:function(e,i){var a=rn();i=i===void 0?null:i;var l=e();if(Pr){In(!0);try{e()}finally{In(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=rn();if(a!==void 0){var h=a(i);if(Pr){In(!0);try{a(i)}finally{In(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=gb.bind(null,Rt,e),[l.memoizedState,e]},useRef:function(e){var i=rn();return e={current:e},i.memoizedState=e},useState:function(e){e=Of(e);var i=e.queue,a=iy.bind(null,Rt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:kf,useDeferredValue:function(e,i){var a=rn();return Uf(a,e,i)},useTransition:function(){var e=Of(!1);return e=Zp.bind(null,Rt,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Rt,h=rn();if(Ut){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),te===null)throw Error(r(349));(Dt&127)!==0||Ip(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Hp(xp.bind(null,l,d,e),[e]),l.flags|=2048,Va(9,{destroy:void 0},Cp.bind(null,l,d,a,i),null),a},useId:function(){var e=rn(),i=te.identifierPrefix;if(Ut){var a=Ai,l=bi;a=(l&~(1<<32-ge(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Ju++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=lb++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Pf,useFormState:Pp,useActionState:Pp,useOptimistic:function(e){var i=rn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=zf.bind(null,Rt,!0,a),a.dispatch=i,[e,i]},useMemoCache:xf,useCacheRefresh:function(){return rn().memoizedState=mb.bind(null,Rt)},useEffectEvent:function(e){var i=rn(),a={impl:e};return i.memoizedState=a,function(){if((Ht&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},jf={readContext:Ge,use:Wu,useCallback:Xp,useContext:Ge,useEffect:Vf,useImperativeHandle:Yp,useInsertionEffect:Gp,useLayoutEffect:Qp,useMemo:$p,useReducer:tc,useRef:qp,useState:function(){return tc(Gi)},useDebugValue:kf,useDeferredValue:function(e,i){var a=_e();return Jp(a,Jt.memoizedState,e,i)},useTransition:function(){var e=tc(Gi)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:nl(e),i]},useSyncExternalStore:Rp,useId:ey,useHostTransitionStatus:Pf,useFormState:zp,useActionState:zp,useOptimistic:function(e,i){var a=_e();return Op(a,Jt,e,i)},useMemoCache:xf,useCacheRefresh:ny};jf.useEffectEvent=Fp;var oy={readContext:Ge,use:Wu,useCallback:Xp,useContext:Ge,useEffect:Vf,useImperativeHandle:Yp,useInsertionEffect:Gp,useLayoutEffect:Qp,useMemo:$p,useReducer:Df,useRef:qp,useState:function(){return Df(Gi)},useDebugValue:kf,useDeferredValue:function(e,i){var a=_e();return Jt===null?Uf(a,e,i):Jp(a,Jt.memoizedState,e,i)},useTransition:function(){var e=Df(Gi)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:nl(e),i]},useSyncExternalStore:Rp,useId:ey,useHostTransitionStatus:Pf,useFormState:Bp,useActionState:Bp,useOptimistic:function(e,i){var a=_e();return Jt!==null?Op(a,Jt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:xf,useCacheRefresh:ny};oy.useEffectEvent=Fp;function Bf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var qf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Sn(),h=Ss(l);h.payload=i,a!=null&&(h.callback=a),i=ws(e,h,l),i!==null&&(dn(i,e,l),Zo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Sn(),h=Ss(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ws(e,h,l),i!==null&&(dn(i,e,l),Zo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Sn(),l=Ss(a);l.tag=2,i!=null&&(l.callback=i),i=ws(e,l,a),i!==null&&(dn(i,e,a),Zo(i,e,a))}};function ly(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Fo(a,l)||!Fo(h,d):!0}function uy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&qf.enqueueReplaceState(i,i.state,null)}function zr(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function cy(e){ku(e)}function hy(e){console.error(e)}function fy(e){ku(e)}function sc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function dy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Hf(e,i,a){return a=Ss(a),a.tag=3,a.payload={element:null},a.callback=function(){sc(e,i)},a}function my(e){return e=Ss(e),e.tag=3,e}function gy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){dy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){dy(i,a,l),typeof h!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function pb(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ra(i,a,h,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return Ln===null?pc():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Gu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),md(e,l,h)),!1;case 22:return a.flags|=65536,l===Gu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),md(e,l,h)),!1}throw Error(r(435,a.tag))}return md(e,l,h),pc(),!1}if(Ut)return i=Tn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==lf&&(e=Error(r(422),{cause:l}),Ko(Mn(e,a)))):(l!==lf&&(i=Error(r(423),{cause:l}),Ko(Mn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Mn(l,a),h=Hf(e.stateNode,l,h),vf(e,h),he!==4&&(he=2)),!1;var d=Error(r(520),{cause:l});if(d=Mn(d,a),fl===null?fl=[d]:fl.push(d),he!==4&&(he=2),i===null)return!0;l=Mn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Hf(a.stateNode,l,e),vf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ds===null||!Ds.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=my(h),gy(h,e,a,l),vf(a,h),!1}a=a.return}while(a!==null);return!1}var Ff=Error(r(461)),Ce=!1;function Qe(e,i,a,l){i.child=e===null?vp(i,null,a,l):Lr(i,e.child,a,l)}function py(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var E in l)E!=="ref"&&(_[E]=l[E])}else _=l;return Mr(i),l=wf(e,i,a,_,d,h),E=Rf(),e!==null&&!Ce?(If(e,i,h),Qi(e,i,h)):(Ut&&E&&af(i),i.flags|=1,Qe(e,i,l,h),i.child)}function yy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!nf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,_y(e,i,d,l,h)):(e=zu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Zf(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Fo,a(_,l)&&e.ref===i.ref)return Qi(e,i,h)}return i.flags|=1,e=ji(d,l),e.ref=i.ref,e.return=i,i.child=e}function _y(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Fo(d,l)&&e.ref===i.ref)if(Ce=!1,i.pendingProps=l=d,Zf(e,h))(e.flags&131072)!==0&&(Ce=!0);else return i.lanes=e.lanes,Qi(e,i,h)}return Gf(e,i,a,l,h)}function vy(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Ty(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Hu(i,d!==null?d.cachePool:null),d!==null?bp(i,d):Ef(),Ap(i);else return l=i.lanes=536870912,Ty(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Hu(i,d.cachePool),bp(i,d),Is(),i.memoizedState=null):(e!==null&&Hu(i,null),Ef(),Is());return Qe(e,i,h,a),i.child}function rl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ty(e,i,a,l,h){var d=gf();return d=d===null?null:{parent:Re._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&Hu(i,null),Ef(),Ap(i),e!==null&&Ra(e,i,l,!0),i.childLanes=h,null}function rc(e,i){return i=oc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Ey(e,i,a){return Lr(i,e.child,null,a),e=rc(i,i.pendingProps),e.flags|=2,En(i),i.memoizedState=null,e}function yb(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Ut){if(l.mode==="hidden")return e=rc(i,l),i.lanes=536870912,rl(null,e);if(Af(i),(e=ne)?(e=M_(e,Un),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:vs!==null?{id:bi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=sp(e),a.return=i,i.child=a,Fe=i,ne=null)):e=null,e===null)throw Es(i);return i.lanes=536870912,null}return rc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Af(i),h)if(i.flags&256)i.flags&=-257,i=Ey(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(Ce||Ra(e,i,a,!1),h=(a&e.childLanes)!==0,Ce||h){if(l=te,l!==null&&(_=Ro(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,xr(e,_),dn(l,e,_),Ff;pc(),i=Ey(e,i,a)}else e=d.treeContext,ne=Pn(_.nextSibling),Fe=i,Ut=!0,Ts=null,Un=!1,e!==null&&op(i,e),i=rc(i,l),i.flags|=4096;return i}return e=ji(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function ac(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Gf(e,i,a,l,h){return Mr(i),a=wf(e,i,a,l,void 0,h),l=Rf(),e!==null&&!Ce?(If(e,i,h),Qi(e,i,h)):(Ut&&l&&af(i),i.flags|=1,Qe(e,i,a,h),i.child)}function by(e,i,a,l,h,d){return Mr(i),i.updateQueue=null,a=wp(i,l,a,h),Sp(e),l=Rf(),e!==null&&!Ce?(If(e,i,d),Qi(e,i,d)):(Ut&&l&&af(i),i.flags|=1,Qe(e,i,a,d),i.child)}function Ay(e,i,a,l,h){if(Mr(i),i.stateNode===null){var d=ba,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ge(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=qf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},yf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ge(_):ba,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Bf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&qf.enqueueReplaceState(d,d.state,null),tl(i,l,d,h),Wo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,x=zr(a,E);d.props=x;var z=d.context,G=a.contextType;_=ba,typeof G=="object"&&G!==null&&(_=Ge(G));var Y=a.getDerivedStateFromProps;G=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||z!==_)&&uy(i,d,l,_),As=!1;var j=i.memoizedState;d.state=j,tl(i,l,d,h),Wo(),z=i.memoizedState,E||j!==z||As?(typeof Y=="function"&&(Bf(i,a,Y,l),z=i.memoizedState),(x=As||ly(i,a,x,l,j,z,_))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=x):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,_f(e,i),_=i.memoizedProps,G=zr(a,_),d.props=G,Y=i.pendingProps,j=d.context,z=a.contextType,x=ba,typeof z=="object"&&z!==null&&(x=Ge(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Y||j!==x)&&uy(i,d,l,x),As=!1,j=i.memoizedState,d.state=j,tl(i,l,d,h),Wo();var H=i.memoizedState;_!==Y||j!==H||As||e!==null&&e.dependencies!==null&&Bu(e.dependencies)?(typeof E=="function"&&(Bf(i,a,E,l),H=i.memoizedState),(G=As||ly(i,a,G,l,j,H,x)||e!==null&&e.dependencies!==null&&Bu(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,x)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=x,l=G):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,ac(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Lr(i,e.child,null,h),i.child=Lr(i,null,a,h)):Qe(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Qi(e,i,h),e}function Sy(e,i,a,l){return Dr(),i.flags|=256,Qe(e,i,a,l),i.child}var Qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kf(e){return{baseLanes:e,cachePool:dp()}}function Yf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=An),e}function wy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(ye.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ut){if(h?Rs(i):Is(),(e=ne)?(e=M_(e,Un),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:vs!==null?{id:bi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=sp(e),a.return=i,i.child=a,Fe=i,ne=null)):e=null,e===null)throw Es(i);return Nd(e)?i.lanes=32:i.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Is(),h=i.mode,E=oc({mode:"hidden",children:E},h),l=Nr(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,l=i.child,l.memoizedState=Kf(a),l.childLanes=Yf(e,_,a),i.memoizedState=Qf,rl(null,l)):(Rs(i),Xf(i,E))}var x=e.memoizedState;if(x!==null&&(E=x.dehydrated,E!==null)){if(d)i.flags&256?(Rs(i),i.flags&=-257,i=$f(e,i,a)):i.memoizedState!==null?(Is(),i.child=e.child,i.flags|=128,i=null):(Is(),E=l.fallback,h=i.mode,l=oc({mode:"visible",children:l.children},h),E=Nr(E,h,a,null),E.flags|=2,l.return=i,E.return=i,l.sibling=E,i.child=l,Lr(i,e.child,null,a),l=i.child,l.memoizedState=Kf(a),l.childLanes=Yf(e,_,a),i.memoizedState=Qf,i=rl(null,l));else if(Rs(i),Nd(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(r(419)),l.stack="",l.digest=_,Ko({value:l,source:null,stack:null}),i=$f(e,i,a)}else if(Ce||Ra(e,i,a,!1),_=(a&e.childLanes)!==0,Ce||_){if(_=te,_!==null&&(l=Ro(_,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,xr(e,l),dn(_,e,l),Ff;xd(E)||pc(),i=$f(e,i,a)}else xd(E)?(i.flags|=192,i.child=e.child,i=null):(e=x.treeContext,ne=Pn(E.nextSibling),Fe=i,Ut=!0,Ts=null,Un=!1,e!==null&&op(i,e),i=Xf(i,l.children),i.flags|=4096);return i}return h?(Is(),E=l.fallback,h=i.mode,x=e.child,z=x.sibling,l=ji(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,z!==null?E=ji(z,E):(E=Nr(E,h,a,null),E.flags|=2),E.return=i,l.return=i,l.sibling=E,i.child=l,rl(null,l),l=i.child,E=e.child.memoizedState,E===null?E=Kf(a):(h=E.cachePool,h!==null?(x=Re._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=dp(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=Yf(e,_,a),i.memoizedState=Qf,rl(e.child,l)):(Rs(i),a=e.child,e=a.sibling,a=ji(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function Xf(e,i){return i=oc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function oc(e,i){return e=vn(22,e,null,i),e.lanes=0,e}function $f(e,i,a){return Lr(i,e.child,null,a),e=Xf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Ry(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),hf(e.return,i,a)}function Jf(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Iy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=ye.current,E=(_&2)!==0;if(E?(_=_&1|2,i.flags|=128):_&=1,it(ye,_),Qe(e,i,l,a),l=Ut?Qo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ry(e,a,i);else if(e.tag===19)Ry(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Xu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Jf(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Xu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Jf(i,!0,a,null,d,l);break;case"together":Jf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Qi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Ns|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ra(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=ji(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=ji(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Zf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Bu(e)))}function _b(e,i,a){switch(i.tag){case 3:Ve(i,i.stateNode.containerInfo),bs(i,Re,e.memoizedState.cache),Dr();break;case 27:case 5:hr(i);break;case 4:Ve(i,i.stateNode.containerInfo);break;case 10:bs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Af(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Rs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?wy(e,i,a):(Rs(i),e=Qi(e,i,a),e!==null?e.sibling:null);Rs(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ra(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Iy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(ye,ye.current),l)break;return null;case 22:return i.lanes=0,vy(e,i,a,i.pendingProps);case 24:bs(i,Re,e.memoizedState.cache)}return Qi(e,i,a)}function Cy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ce=!0;else{if(!Zf(e,a)&&(i.flags&128)===0)return Ce=!1,_b(e,i,a);Ce=(e.flags&131072)!==0}else Ce=!1,Ut&&(i.flags&1048576)!==0&&ap(i,Qo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=kr(i.elementType),i.type=e,typeof e=="function")nf(e)?(l=zr(e,l),i.tag=1,i=Ay(null,i,e,l,a)):(i.tag=0,i=Gf(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===at){i.tag=11,i=py(null,i,e,l,a);break t}else if(h===C){i.tag=14,i=yy(null,i,e,l,a);break t}}throw i=Xt(e)||e,Error(r(306,i,""))}}return i;case 0:return Gf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=zr(l,i.pendingProps),Ay(e,i,l,h,a);case 3:t:{if(Ve(i,i.stateNode.containerInfo),e===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,_f(e,i),tl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,bs(i,Re,l),l!==d.cache&&ff(i,[Re],a,!0),Wo(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Sy(e,i,l,a);break t}else if(l!==h){h=Mn(Error(r(424)),i),Ko(h),i=Sy(e,i,l,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ne=Pn(e.firstChild),Fe=i,Ut=!0,Ts=null,Un=!0,a=vp(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Dr(),l===h){i=Qi(e,i,a);break t}Qe(e,i,l,a)}i=i.child}return i;case 26:return ac(e,i),e===null?(a=z_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ut||(a=i.type,e=i.pendingProps,l=Ac(It.current).createElement(a),l[Ae]=i,l[Pe]=e,Ke(l,a,e),Se(l),i.stateNode=l):i.memoizedState=z_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return hr(i),e===null&&Ut&&(l=i.stateNode=U_(i.type,i.pendingProps,It.current),Fe=i,Un=!0,h=ne,ks(i.type)?(Dd=h,ne=Pn(l.firstChild)):ne=h),Qe(e,i,i.pendingProps.children,a),ac(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ut&&((h=l=ne)&&(l=Yb(l,i.type,i.pendingProps,Un),l!==null?(i.stateNode=l,Fe=i,ne=Pn(l.firstChild),Un=!1,h=!0):h=!1),h||Es(i)),hr(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Rd(h,d)?l=null:_!==null&&Rd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=wf(e,i,ub,null,null,a),Tl._currentValue=h),ac(e,i),Qe(e,i,l,a),i.child;case 6:return e===null&&Ut&&((e=a=ne)&&(a=Xb(a,i.pendingProps,Un),a!==null?(i.stateNode=a,Fe=i,ne=null,e=!0):e=!1),e||Es(i)),null;case 13:return wy(e,i,a);case 4:return Ve(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Lr(i,null,l,a):Qe(e,i,l,a),i.child;case 11:return py(e,i,i.type,i.pendingProps,a);case 7:return Qe(e,i,i.pendingProps,a),i.child;case 8:return Qe(e,i,i.pendingProps.children,a),i.child;case 12:return Qe(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,bs(i,i.type,l.value),Qe(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Mr(i),h=Ge(h),l=l(h),i.flags|=1,Qe(e,i,l,a),i.child;case 14:return yy(e,i,i.type,i.pendingProps,a);case 15:return _y(e,i,i.type,i.pendingProps,a);case 19:return Iy(e,i,a);case 31:return yb(e,i,a);case 22:return vy(e,i,a,i.pendingProps);case 24:return Mr(i),l=Ge(Re),e===null?(h=gf(),h===null&&(h=te,d=df(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},yf(i),bs(i,Re,h)):((e.lanes&a)!==0&&(_f(e,i),tl(i,null,null,a),Wo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),bs(i,Re,l)):(l=d.cache,bs(i,Re,l),l!==h.cache&&ff(i,[Re],a,!0))),Qe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Ki(e){e.flags|=4}function Wf(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(e_())e.flags|=8192;else throw Ur=Gu,pf}else e.flags&=-16777217}function xy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!F_(i))if(e_())e.flags|=8192;else throw Ur=Gu,pf}function lc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?mu():536870912,e.lanes|=i,Pa|=i)}function al(e,i){if(!Ut)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ie(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function vb(e,i,a){var l=i.pendingProps;switch(of(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(i),null;case 1:return ie(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Hi(Re),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(wa(i)?Ki(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,uf())),ie(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(Ki(i),d!==null?(ie(i),xy(i,d)):(ie(i),Wf(i,h,null,l,a))):d?d!==e.memoizedState?(Ki(i),ie(i),xy(i,d)):(ie(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ki(i),ie(i),Wf(i,h,e,l,a)),null;case 27:if(ia(i),a=It.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ki(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ie(i),null}e=lt.current,wa(i)?lp(i):(e=U_(h,l,a),i.stateNode=e,Ki(i))}return ie(i),null;case 5:if(ia(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ki(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ie(i),null}if(d=lt.current,wa(i))lp(i);else{var _=Ac(It.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Ae]=i,d[Pe]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Ke(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ki(i)}}return ie(i),Wf(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Ki(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(e=It.current,wa(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=Fe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ae]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||w_(e.nodeValue,a)),e||Es(i,!0)}else e=Ac(e).createTextNode(l),e[Ae]=i,i.stateNode=e}return ie(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=wa(i),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Ae]=i}else Dr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),e=!1}else a=uf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(En(i),i):(En(i),null);if((i.flags&128)!==0)throw Error(r(558))}return ie(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=wa(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ae]=i}else Dr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),h=!1}else h=uf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(En(i),i):(En(i),null)}return En(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),lc(i,i.updateQueue),ie(i),null);case 4:return re(),e===null&&Ed(i.stateNode.containerInfo),ie(i),null;case 10:return Hi(i.type),ie(i),null;case 19:if(X(ye),l=i.memoizedState,l===null)return ie(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)al(l,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Xu(e),d!==null){for(i.flags|=128,al(l,!1),e=d.updateQueue,i.updateQueue=e,lc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)ip(a,e),a=a.sibling;return it(ye,ye.current&1|2),Ut&&Bi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&nn()>dc&&(i.flags|=128,h=!0,al(l,!1),i.lanes=4194304)}else{if(!h)if(e=Xu(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,lc(i,e),al(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ut)return ie(i),null}else 2*nn()-l.renderingStartTime>dc&&a!==536870912&&(i.flags|=128,h=!0,al(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=nn(),e.sibling=null,a=ye.current,it(ye,h?a&1|2:a&1),Ut&&Bi(i,l.treeForkCount),e):(ie(i),null);case 22:case 23:return En(i),bf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ie(i),i.subtreeFlags&6&&(i.flags|=8192)):ie(i),a=i.updateQueue,a!==null&&lc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&X(Vr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Hi(Re),ie(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function Tb(e,i){switch(of(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Hi(Re),re(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ia(i),null;case 31:if(i.memoizedState!==null){if(En(i),i.alternate===null)throw Error(r(340));Dr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(En(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Dr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return X(ye),null;case 4:return re(),null;case 10:return Hi(i.type),null;case 22:case 23:return En(i),bf(),e!==null&&X(Vr),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Hi(Re),null;case 25:return null;default:return null}}function Ny(e,i){switch(of(i),i.tag){case 3:Hi(Re),re();break;case 26:case 27:case 5:ia(i);break;case 4:re();break;case 31:i.memoizedState!==null&&En(i);break;case 13:En(i);break;case 19:X(ye);break;case 10:Hi(i.type);break;case 22:case 23:En(i),bf(),e!==null&&X(Vr);break;case 24:Hi(Re)}}function ol(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(E){Yt(i,i.return,E)}}function Cs(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=i;var x=a,z=E;try{z()}catch(G){Yt(h,x,G)}}}l=l.next}while(l!==d)}}catch(G){Yt(i,i.return,G)}}function Dy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Ep(i,a)}catch(l){Yt(e,e.return,l)}}}function Oy(e,i,a){a.props=zr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(e,i,l)}}function ll(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Yt(e,i,h)}}function Si(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,i,h)}else a.current=null}function My(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function td(e,i,a){try{var l=e.stateNode;qb(l,e.type,a,i),l[Pe]=i}catch(h){Yt(e,e.return,h)}}function Vy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ks(e.type)||e.tag===4}function ed(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Vy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ks(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Qn));else if(l!==4&&(l===27&&ks(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(nd(e,i,a),e=e.sibling;e!==null;)nd(e,i,a),e=e.sibling}function uc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&ks(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(uc(e,i,a),e=e.sibling;e!==null;)uc(e,i,a),e=e.sibling}function ky(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ke(i,l,a),i[Ae]=e,i[Pe]=a}catch(d){Yt(e,e.return,d)}}var Yi=!1,xe=!1,id=!1,Uy=typeof WeakSet=="function"?WeakSet:Set,je=null;function Eb(e,i){if(e=e.containerInfo,Sd=Nc,e=Yg(e),Xh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,E=-1,x=-1,z=0,G=0,Y=e,j=null;e:for(;;){for(var H;Y!==a||h!==0&&Y.nodeType!==3||(E=_+h),Y!==d||l!==0&&Y.nodeType!==3||(x=_+l),Y.nodeType===3&&(_+=Y.nodeValue.length),(H=Y.firstChild)!==null;)j=Y,Y=H;for(;;){if(Y===e)break e;if(j===a&&++z===h&&(E=_),j===d&&++G===l&&(x=_),(H=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=H}a=E===-1||x===-1?null:{start:E,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(wd={focusedElem:e,selectionRange:a},Nc=!1,je=i;je!==null;)if(i=je,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,je=e;else for(;je!==null;){switch(i=je,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ct=zr(a.type,h);e=l.getSnapshotBeforeUpdate(ct,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Yt(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Cd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Cd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,je=e;break}je=i.return}}function Ly(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:$i(e,a),l&4&&ol(5,a);break;case 1:if($i(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Yt(a,a.return,_)}else{var h=zr(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Yt(a,a.return,_)}}l&64&&Dy(a),l&512&&ll(a,a.return);break;case 3:if($i(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ep(e,i)}catch(_){Yt(a,a.return,_)}}break;case 27:i===null&&l&4&&ky(a);case 26:case 5:$i(e,a),i===null&&l&4&&My(a),l&512&&ll(a,a.return);break;case 12:$i(e,a);break;case 31:$i(e,a),l&4&&jy(e,a);break;case 13:$i(e,a),l&4&&By(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Nb.bind(null,a),$b(e,a))));break;case 22:if(l=a.memoizedState!==null||Yi,!l){i=i!==null&&i.memoizedState!==null||xe,h=Yi;var d=xe;Yi=l,(xe=i)&&!d?Ji(e,a,(a.subtreeFlags&8772)!==0):$i(e,a),Yi=h,xe=d}break;case 30:break;default:$i(e,a)}}function Py(e){var i=e.alternate;i!==null&&(e.alternate=null,Py(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&la(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,un=!1;function Xi(e,i,a){for(a=a.child;a!==null;)zy(e,i,a),a=a.sibling}function zy(e,i,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:xe||Si(a,i),Xi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xe||Si(a,i);var l=oe,h=un;ks(a.type)&&(oe=a.stateNode,un=!1),Xi(e,i,a),yl(a.stateNode),oe=l,un=h;break;case 5:xe||Si(a,i);case 6:if(l=oe,h=un,oe=null,Xi(e,i,a),oe=l,un=h,oe!==null)if(un)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(d){Yt(a,i,d)}else try{oe.removeChild(a.stateNode)}catch(d){Yt(a,i,d)}break;case 18:oe!==null&&(un?(e=oe,D_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Qa(e)):D_(oe,a.stateNode));break;case 4:l=oe,h=un,oe=a.stateNode.containerInfo,un=!0,Xi(e,i,a),oe=l,un=h;break;case 0:case 11:case 14:case 15:Cs(2,a,i),xe||Cs(4,a,i),Xi(e,i,a);break;case 1:xe||(Si(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Oy(a,i,l)),Xi(e,i,a);break;case 21:Xi(e,i,a);break;case 22:xe=(l=xe)||a.memoizedState!==null,Xi(e,i,a),xe=l;break;default:Xi(e,i,a)}}function jy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qa(e)}catch(a){Yt(i,i.return,a)}}}function By(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qa(e)}catch(a){Yt(i,i.return,a)}}function bb(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Uy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Uy),i;default:throw Error(r(435,e.tag))}}function cc(e,i){var a=bb(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=Db.bind(null,e,l);l.then(h,h)}})}function cn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(ks(E.type)){oe=E.stateNode,un=!1;break t}break;case 5:oe=E.stateNode,un=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(oe===null)throw Error(r(160));zy(d,_,h),oe=null,un=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)qy(i,e),i=i.sibling}var Zn=null;function qy(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(i,e),hn(e),l&4&&(Cs(3,e,e.return),ol(3,e),Cs(5,e,e.return));break;case 1:cn(i,e),hn(e),l&512&&(xe||a===null||Si(a,a.return)),l&64&&Yi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Zn;if(cn(i,e),hn(e),l&512&&(xe||a===null||Si(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ci]||d[Ae]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ke(d,l,a),d[Ae]=e,Se(d),l=d;break t;case"link":var _=q_("link","href",h).get(l+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(d=_[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break e}}d=h.createElement(l),Ke(d,l,a),h.head.appendChild(d);break;case"meta":if(_=q_("meta","content",h).get(l+(a.content||""))){for(E=0;E<_.length;E++)if(d=_[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break e}}d=h.createElement(l),Ke(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[Ae]=e,Se(d),l=d}e.stateNode=l}else H_(h,e.type,e.stateNode);else e.stateNode=B_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?H_(h,e.type,e.stateNode):B_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&td(e,e.memoizedProps,a.memoizedProps)}break;case 27:cn(i,e),hn(e),l&512&&(xe||a===null||Si(a,a.return)),a!==null&&l&4&&td(e,e.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,e),hn(e),l&512&&(xe||a===null||Si(a,a.return)),e.flags&32){h=e.stateNode;try{ln(h,"")}catch(ct){Yt(e,e.return,ct)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,td(e,h,a!==null?a.memoizedProps:h)),l&1024&&(id=!0);break;case 6:if(cn(i,e),hn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ct){Yt(e,e.return,ct)}}break;case 3:if(Rc=null,h=Zn,Zn=Sc(i.containerInfo),cn(i,e),Zn=h,hn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Qa(i.containerInfo)}catch(ct){Yt(e,e.return,ct)}id&&(id=!1,Hy(e));break;case 4:l=Zn,Zn=Sc(e.stateNode.containerInfo),cn(i,e),hn(e),Zn=l;break;case 12:cn(i,e),hn(e);break;case 31:cn(i,e),hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,cc(e,l)));break;case 13:cn(i,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fc=nn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,cc(e,l)));break;case 22:h=e.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,z=Yi,G=xe;if(Yi=z||h,xe=G||x,cn(i,e),xe=G,Yi=z,hn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||x||Yi||xe||jr(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){x=a=i;try{if(d=x.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=x.stateNode;var Y=x.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ct){Yt(x,x.return,ct)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(ct){Yt(x,x.return,ct)}}}else if(i.tag===18){if(a===null){x=i;try{var H=x.stateNode;h?O_(H,!0):O_(x.stateNode,!1)}catch(ct){Yt(x,x.return,ct)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,cc(e,a))));break;case 19:cn(i,e),hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,cc(e,l)));break;case 30:break;case 21:break;default:cn(i,e),hn(e)}}function hn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Vy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=ed(e);uc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(ln(_,""),a.flags&=-33);var E=ed(e);uc(e,E,_);break;case 3:case 4:var x=a.stateNode.containerInfo,z=ed(e);nd(e,z,x);break;default:throw Error(r(161))}}catch(G){Yt(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Hy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Hy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function $i(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ly(e,i.alternate,i),i=i.sibling}function jr(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Cs(4,i,i.return),jr(i);break;case 1:Si(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Oy(i,i.return,a),jr(i);break;case 27:yl(i.stateNode);case 26:case 5:Si(i,i.return),jr(i);break;case 22:i.memoizedState===null&&jr(i);break;case 30:jr(i);break;default:jr(i)}e=e.sibling}}function Ji(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Ji(h,d,a),ol(4,d);break;case 1:if(Ji(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Yt(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Tp(x[h],E)}catch(z){Yt(l,l.return,z)}}a&&_&64&&Dy(d),ll(d,d.return);break;case 27:ky(d);case 26:case 5:Ji(h,d,a),a&&l===null&&_&4&&My(d),ll(d,d.return);break;case 12:Ji(h,d,a);break;case 31:Ji(h,d,a),a&&_&4&&jy(h,d);break;case 13:Ji(h,d,a),a&&_&4&&By(h,d);break;case 22:d.memoizedState===null&&Ji(h,d,a),ll(d,d.return);break;case 30:break;default:Ji(h,d,a)}i=i.sibling}}function sd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Yo(a))}function rd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Yo(e))}function Wn(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Fy(e,i,a,l),i=i.sibling}function Fy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Wn(e,i,a,l),h&2048&&ol(9,i);break;case 1:Wn(e,i,a,l);break;case 3:Wn(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Yo(e)));break;case 12:if(h&2048){Wn(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,E=d.onPostCommit;typeof E=="function"&&E(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Yt(i,i.return,x)}}else Wn(e,i,a,l);break;case 31:Wn(e,i,a,l);break;case 13:Wn(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Wn(e,i,a,l):ul(e,i):d._visibility&2?Wn(e,i,a,l):(d._visibility|=2,ka(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&sd(_,i);break;case 24:Wn(e,i,a,l),h&2048&&rd(i.alternate,i);break;default:Wn(e,i,a,l)}}function ka(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,E=a,x=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:ka(d,_,E,x,h),ol(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?ka(d,_,E,x,h):ul(d,_):(G._visibility|=2,ka(d,_,E,x,h)),h&&z&2048&&sd(_.alternate,_);break;case 24:ka(d,_,E,x,h),h&&z&2048&&rd(_.alternate,_);break;default:ka(d,_,E,x,h)}i=i.sibling}}function ul(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:ul(a,l),h&2048&&sd(l.alternate,l);break;case 24:ul(a,l),h&2048&&rd(l.alternate,l);break;default:ul(a,l)}i=i.sibling}}var cl=8192;function Ua(e,i,a){if(e.subtreeFlags&cl)for(e=e.child;e!==null;)Gy(e,i,a),e=e.sibling}function Gy(e,i,a){switch(e.tag){case 26:Ua(e,i,a),e.flags&cl&&e.memoizedState!==null&&lA(a,Zn,e.memoizedState,e.memoizedProps);break;case 5:Ua(e,i,a);break;case 3:case 4:var l=Zn;Zn=Sc(e.stateNode.containerInfo),Ua(e,i,a),Zn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=cl,cl=16777216,Ua(e,i,a),cl=l):Ua(e,i,a));break;default:Ua(e,i,a)}}function Qy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function hl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];je=l,Yy(l,e)}Qy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ky(e),e=e.sibling}function Ky(e){switch(e.tag){case 0:case 11:case 15:hl(e),e.flags&2048&&Cs(9,e,e.return);break;case 3:hl(e);break;case 12:hl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,hc(e)):hl(e);break;default:hl(e)}}function hc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];je=l,Yy(l,e)}Qy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Cs(8,i,i.return),hc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,hc(i));break;default:hc(i)}e=e.sibling}}function Yy(e,i){for(;je!==null;){var a=je;switch(a.tag){case 0:case 11:case 15:Cs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Yo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,je=l;else t:for(a=e;je!==null;){l=je;var h=l.sibling,d=l.return;if(Py(l),l===a){je=null;break t}if(h!==null){h.return=d,je=h;break t}je=d}}}var Ab={getCacheForType:function(e){var i=Ge(Re),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return Ge(Re).controller.signal}},Sb=typeof WeakMap=="function"?WeakMap:Map,Ht=0,te=null,xt=null,Dt=0,Kt=0,bn=null,xs=!1,La=!1,ad=!1,Zi=0,he=0,Ns=0,Br=0,od=0,An=0,Pa=0,fl=null,fn=null,ld=!1,fc=0,Xy=0,dc=1/0,mc=null,Ds=null,Ue=0,Os=null,za=null,Wi=0,ud=0,cd=null,$y=null,dl=0,hd=null;function Sn(){return(Ht&2)!==0&&Dt!==0?Dt&-Dt:F.T!==null?yd():gu()}function Jy(){if(An===0)if((Dt&536870912)===0||Ut){var e=mr;mr<<=1,(mr&3932160)===0&&(mr=262144),An=e}else An=536870912;return e=Tn.current,e!==null&&(e.flags|=32),An}function dn(e,i,a){(e===te&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(ja(e,0),Ms(e,Dt,An,!1)),gr(e,a),((Ht&2)===0||e!==te)&&(e===te&&((Ht&2)===0&&(Br|=a),he===4&&Ms(e,Dt,An,!1)),wi(e))}function Zy(e,i,a){if((Ht&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Hn(e,i),h=l?Ib(e,i):dd(e,i,!0),d=l;do{if(h===0){La&&!l&&Ms(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!wb(a)){h=dd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var E=e;h=fl;var x=E.current.memoizedState.isDehydrated;if(x&&(ja(E,_).flags|=256),_=dd(E,_,!1),_!==2){if(ad&&!x){E.errorRecoveryDisabledLanes|=d,Br|=d,h=4;break t}d=fn,fn=h,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){ja(e,0),Ms(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ms(l,i,An,!xs);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=fc+300-nn(),10<h)){if(Ms(l,i,An,!xs),oi(l,0,!0)!==0)break t;Wi=i,l.timeoutHandle=x_(Wy.bind(null,l,a,fn,mc,ld,i,An,Br,Pa,xs,d,"Throttled",-0,0),h);break t}Wy(l,a,fn,mc,ld,i,An,Br,Pa,xs,d,null,-0,0)}}break}while(!0);wi(e)}function Wy(e,i,a,l,h,d,_,E,x,z,G,Y,j,H){if(e.timeoutHandle=-1,Y=i.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},Gy(i,d,Y);var ct=(d&62914560)===d?fc-nn():(d&4194048)===d?Xy-nn():0;if(ct=uA(Y,ct),ct!==null){Wi=d,e.cancelPendingCommit=ct(o_.bind(null,e,i,d,a,l,h,_,E,x,G,Y,null,j,H)),Ms(e,d,_,!z);return}}o_(e,i,d,a,l,h,_,E,x)}function wb(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ms(e,i,a,l){i&=~od,i&=~Br,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-ge(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&pr(e,a,i)}function gc(){return(Ht&6)===0?(ml(0),!1):!0}function fd(){if(xt!==null){if(Kt===0)var e=xt.return;else e=xt,qi=Or=null,Cf(e),Na=null,$o=0,e=xt;for(;e!==null;)Ny(e.alternate,e),e=e.return;xt=null}}function ja(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Gb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Wi=0,fd(),te=e,xt=a=ji(e.current,null),Dt=i,Kt=0,bn=null,xs=!1,La=Hn(e,i),ad=!1,Pa=An=od=Br=Ns=he=0,fn=fl=null,ld=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-ge(l),d=1<<h;i|=e[h],l&=~d}return Zi=i,Uu(),a}function t_(e,i){Rt=null,F.H=sl,i===xa||i===Fu?(i=pp(),Kt=3):i===pf?(i=pp(),Kt=4):Kt=i===Ff?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,xt===null&&(he=1,sc(e,Mn(i,e.current)))}function e_(){var e=Tn.current;return e===null?!0:(Dt&4194048)===Dt?Ln===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===Ln:!1}function n_(){var e=F.H;return F.H=sl,e===null?sl:e}function i_(){var e=F.A;return F.A=Ab,e}function pc(){he=4,xs||(Dt&4194048)!==Dt&&Tn.current!==null||(La=!0),(Ns&134217727)===0&&(Br&134217727)===0||te===null||Ms(te,Dt,An,!1)}function dd(e,i,a){var l=Ht;Ht|=2;var h=n_(),d=i_();(te!==e||Dt!==i)&&(mc=null,ja(e,i)),i=!1;var _=he;t:do try{if(Kt!==0&&xt!==null){var E=xt,x=bn;switch(Kt){case 8:fd(),_=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(i=!0);var z=Kt;if(Kt=0,bn=null,Ba(e,E,x,z),a&&La){_=0;break t}break;default:z=Kt,Kt=0,bn=null,Ba(e,E,x,z)}}Rb(),_=he;break}catch(G){t_(e,G)}while(!0);return i&&e.shellSuspendCounter++,qi=Or=null,Ht=l,F.H=h,F.A=d,xt===null&&(te=null,Dt=0,Uu()),_}function Rb(){for(;xt!==null;)s_(xt)}function Ib(e,i){var a=Ht;Ht|=2;var l=n_(),h=i_();te!==e||Dt!==i?(mc=null,dc=nn()+500,ja(e,i)):La=Hn(e,i);t:do try{if(Kt!==0&&xt!==null){i=xt;var d=bn;e:switch(Kt){case 1:Kt=0,bn=null,Ba(e,i,d,1);break;case 2:case 9:if(mp(d)){Kt=0,bn=null,r_(i);break}i=function(){Kt!==2&&Kt!==9||te!==e||(Kt=7),wi(e)},d.then(i,i);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:mp(d)?(Kt=0,bn=null,r_(i)):(Kt=0,bn=null,Ba(e,i,d,7));break;case 5:var _=null;switch(xt.tag){case 26:_=xt.memoizedState;case 5:case 27:var E=xt;if(_?F_(_):E.stateNode.complete){Kt=0,bn=null;var x=E.sibling;if(x!==null)xt=x;else{var z=E.return;z!==null?(xt=z,yc(z)):xt=null}break e}}Kt=0,bn=null,Ba(e,i,d,5);break;case 6:Kt=0,bn=null,Ba(e,i,d,6);break;case 8:fd(),he=6;break t;default:throw Error(r(462))}}Cb();break}catch(G){t_(e,G)}while(!0);return qi=Or=null,F.H=l,F.A=h,Ht=a,xt!==null?0:(te=null,Dt=0,Uu(),he)}function Cb(){for(;xt!==null&&!qh();)s_(xt)}function s_(e){var i=Cy(e.alternate,e,Zi);e.memoizedProps=e.pendingProps,i===null?yc(e):xt=i}function r_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=by(a,i,i.pendingProps,i.type,void 0,Dt);break;case 11:i=by(a,i,i.pendingProps,i.type.render,i.ref,Dt);break;case 5:Cf(i);default:Ny(a,i),i=xt=ip(i,Zi),i=Cy(a,i,Zi)}e.memoizedProps=e.pendingProps,i===null?yc(e):xt=i}function Ba(e,i,a,l){qi=Or=null,Cf(i),Na=null,$o=0;var h=i.return;try{if(pb(e,h,i,a,Dt)){he=1,sc(e,Mn(a,e.current)),xt=null;return}}catch(d){if(h!==null)throw xt=h,d;he=1,sc(e,Mn(a,e.current)),xt=null;return}i.flags&32768?(Ut||l===1?e=!0:La||(Dt&536870912)!==0?e=!1:(xs=e=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),a_(i,e)):yc(i)}function yc(e){var i=e;do{if((i.flags&32768)!==0){a_(i,xs);return}e=i.return;var a=vb(i.alternate,i,Zi);if(a!==null){xt=a;return}if(i=i.sibling,i!==null){xt=i;return}xt=i=e}while(i!==null);he===0&&(he=5)}function a_(e,i){do{var a=Tb(e.alternate,e);if(a!==null){a.flags&=32767,xt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){xt=e;return}xt=e=a}while(e!==null);he=6,xt=null}function o_(e,i,a,l,h,d,_,E,x){e.cancelPendingCommit=null;do _c();while(Ue!==0);if((Ht&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=tf,Gh(e,a,d,_,E,x),e===te&&(xt=te=null,Dt=0),za=i,Os=e,Wi=a,ud=d,cd=h,$y=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ob(us,function(){return f_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=nt.p,nt.p=2,_=Ht,Ht|=4;try{Eb(e,i,a)}finally{Ht=_,nt.p=h,F.T=l}}Ue=1,l_(),u_(),c_()}}function l_(){if(Ue===1){Ue=0;var e=Os,i=za,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=nt.p;nt.p=2;var h=Ht;Ht|=4;try{qy(i,e);var d=wd,_=Yg(e.containerInfo),E=d.focusedElem,x=d.selectionRange;if(_!==E&&E&&E.ownerDocument&&Kg(E.ownerDocument.documentElement,E)){if(x!==null&&Xh(E)){var z=x.start,G=x.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var H=j.getSelection(),ct=E.textContent.length,pt=Math.min(x.start,ct),Wt=x.end===void 0?pt:Math.min(x.end,ct);!H.extend&&pt>Wt&&(_=Wt,Wt=pt,pt=_);var U=Qg(E,pt),M=Qg(E,Wt);if(U&&M&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var P=Y.createRange();P.setStart(U.node,U.offset),H.removeAllRanges(),pt>Wt?(H.addRange(P),H.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),H.addRange(P))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Nc=!!Sd,wd=Sd=null}finally{Ht=h,nt.p=l,F.T=a}}e.current=i,Ue=2}}function u_(){if(Ue===2){Ue=0;var e=Os,i=za,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=nt.p;nt.p=2;var h=Ht;Ht|=4;try{Ly(e,i.alternate,i)}finally{Ht=h,nt.p=l,F.T=a}}Ue=3}}function c_(){if(Ue===4||Ue===3){Ue=0,lu();var e=Os,i=za,a=Wi,l=$y;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ue=5:(Ue=0,za=Os=null,h_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ds=null),Ui(a),i=i.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=F.T,h=nt.p,nt.p=2,F.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var E=l[_];d(E.value,{componentStack:E.stack})}}finally{F.T=i,nt.p=h}}(Wi&3)!==0&&_c(),wi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===hd?dl++:(dl=0,hd=e):dl=0,ml(0)}}function h_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Yo(i)))}function _c(){return l_(),u_(),c_(),f_()}function f_(){if(Ue!==5)return!1;var e=Os,i=ud;ud=0;var a=Ui(Wi),l=F.T,h=nt.p;try{nt.p=32>a?32:a,F.T=null,a=cd,cd=null;var d=Os,_=Wi;if(Ue=0,za=Os=null,Wi=0,(Ht&6)!==0)throw Error(r(331));var E=Ht;if(Ht|=4,Ky(d.current),Fy(d,d.current,_,a),Ht=E,ml(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(qn,d)}catch{}return!0}finally{nt.p=h,F.T=l,h_(e,i)}}function d_(e,i,a){i=Mn(a,i),i=Hf(e.stateNode,i,2),e=ws(e,i,2),e!==null&&(gr(e,2),wi(e))}function Yt(e,i,a){if(e.tag===3)d_(e,e,a);else for(;i!==null;){if(i.tag===3){d_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ds===null||!Ds.has(l))){e=Mn(a,e),a=my(2),l=ws(i,a,2),l!==null&&(gy(a,l,i,e),gr(l,2),wi(l));break}}i=i.return}}function md(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Sb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(ad=!0,h.add(a),e=xb.bind(null,e,i,a),i.then(e,e))}function xb(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Dt&a)===a&&(he===4||he===3&&(Dt&62914560)===Dt&&300>nn()-fc?(Ht&2)===0&&ja(e,0):od|=a,Pa===Dt&&(Pa=0)),wi(e)}function m_(e,i){i===0&&(i=mu()),e=xr(e,i),e!==null&&(gr(e,i),wi(e))}function Nb(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),m_(e,a)}function Db(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),m_(e,a)}function Ob(e,i){return ke(e,i)}var vc=null,qa=null,gd=!1,Tc=!1,pd=!1,Vs=0;function wi(e){e!==qa&&e.next===null&&(qa===null?vc=qa=e:qa=qa.next=e),Tc=!0,gd||(gd=!0,Vb())}function ml(e,i){if(!pd&&Tc){pd=!0;do for(var a=!1,l=vc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-ge(42|e)+1)-1,d&=h&~(_&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,__(l,d))}else d=Dt,d=oi(l,l===te?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Hn(l,d)||(a=!0,__(l,d));l=l.next}while(a);pd=!1}}function Mb(){g_()}function g_(){Tc=gd=!1;var e=0;Vs!==0&&Fb()&&(e=Vs);for(var i=nn(),a=null,l=vc;l!==null;){var h=l.next,d=p_(l,i);d===0?(l.next=null,a===null?vc=h:a.next=h,h===null&&(qa=a)):(a=l,(e!==0||(d&3)!==0)&&(Tc=!0)),l=h}Ue!==0&&Ue!==5||ml(e),Vs!==0&&(Vs=0)}function p_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-ge(d),E=1<<_,x=h[_];x===-1?((E&a)===0||(E&l)!==0)&&(h[_]=Fh(E,i)):x<=i&&(e.expiredLanes|=E),d&=~E}if(i=te,a=Dt,a=oi(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ls(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Hn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&ls(l),Ui(a)){case 2:case 8:a=So;break;case 32:a=us;break;case 268435456:a=uu;break;default:a=us}return l=y_.bind(null,e),a=ke(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&ls(l),e.callbackPriority=2,e.callbackNode=null,2}function y_(e,i){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(_c()&&e.callbackNode!==a)return null;var l=Dt;return l=oi(e,e===te?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Zy(e,l,i),p_(e,nn()),e.callbackNode!=null&&e.callbackNode===a?y_.bind(null,e):null)}function __(e,i){if(_c())return null;Zy(e,i,!0)}function Vb(){Qb(function(){(Ht&6)!==0?ke(Ao,Mb):g_()})}function yd(){if(Vs===0){var e=Ia;e===0&&(e=ri,ri<<=1,(ri&261888)===0&&(ri=256)),Vs=e}return Vs}function v_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fa(""+e)}function T_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function kb(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=v_((h[Pe]||null).action),_=l.submitter;_&&(i=(i=_[Pe]||null)?v_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var E=new _i("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vs!==0){var x=_?T_(h,_):new FormData(h);Lf(a,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(E.preventDefault(),x=_?T_(h,_):new FormData(h),Lf(a,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var _d=0;_d<Wh.length;_d++){var vd=Wh[_d],Ub=vd.toLowerCase(),Lb=vd[0].toUpperCase()+vd.slice(1);Jn(Ub,"on"+Lb)}Jn(Jg,"onAnimationEnd"),Jn(Zg,"onAnimationIteration"),Jn(Wg,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(W1,"onTransitionRun"),Jn(tb,"onTransitionStart"),Jn(eb,"onTransitionCancel"),Jn(tp,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function E_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var E=l[_],x=E.instance,z=E.currentTarget;if(E=E.listener,x!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=z;try{d(h)}catch(G){ku(G)}h.currentTarget=null,d=x}else for(_=0;_<l.length;_++){if(E=l[_],x=E.instance,z=E.currentTarget,E=E.listener,x!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=z;try{d(h)}catch(G){ku(G)}h.currentTarget=null,d=x}}}}function Nt(e,i){var a=i[oa];a===void 0&&(a=i[oa]=new Set);var l=e+"__bubble";a.has(l)||(b_(i,e,2,!1),a.add(l))}function Td(e,i,a){var l=0;i&&(l|=4),b_(a,e,l,i)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function Ed(e){if(!e[Ec]){e[Ec]=!0,Io.forEach(function(a){a!=="selectionchange"&&(Pb.has(a)||Td(a,!1,e),Td(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ec]||(i[Ec]=!0,Td("selectionchange",!1,i))}}function b_(e,i,a,l){switch(J_(i)){case 2:var h=fA;break;case 8:h=dA;break;default:h=Ud}a=h.bind(null,i,a,e),h=void 0,!Er||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function bd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var E=l.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=hi(E),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=d=_;continue t}E=E.parentNode}}l=l.return}gs(function(){var z=d,G=xn(a),Y=[];t:{var j=ep.get(e);if(j!==void 0){var H=_i,ct=e;switch(e){case"keypress":if(Ar(a)===0)break t;case"keydown":case"keyup":H=Ou;break;case"focusin":ct="focus",H=wr;break;case"focusout":ct="blur",H=wr;break;case"beforeblur":case"afterblur":H=wr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Jg:case Zg:case Wg:H=wu;break;case tp:H=b;break;case"scroll":case"scrollend":H=zo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=zi;break;case"toggle":case"beforetoggle":H=wt}var pt=(i&4)!==0,Wt=!pt&&(e==="scroll"||e==="scrollend"),U=pt?j!==null?j+"Capture":null:j;pt=[];for(var M=z,P;M!==null;){var K=M;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||U===null||(K=Kn(M,U),K!=null&&pt.push(pl(M,K,P))),Wt)break;M=M.return}0<pt.length&&(j=new H(j,ct,null,a,G),Y.push({event:j,listeners:pt}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&a!==Uo&&(ct=a.relatedTarget||a.fromElement)&&(hi(ct)||ct[ui]))break t;if((H||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,H?(ct=a.relatedTarget||a.toElement,H=z,ct=ct?hi(ct):null,ct!==null&&(Wt=u(ct),pt=ct.tag,ct!==Wt||pt!==5&&pt!==27&&pt!==6)&&(ct=null)):(H=null,ct=z),H!==ct)){if(pt=jo,K="onMouseLeave",U="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(pt=zi,K="onPointerLeave",U="onPointerEnter",M="pointer"),Wt=H==null?j:pn(H),P=ct==null?j:pn(ct),j=new pt(K,M+"leave",H,a,G),j.target=Wt,j.relatedTarget=P,K=null,hi(G)===z&&(pt=new pt(U,M+"enter",ct,a,G),pt.target=P,pt.relatedTarget=Wt,K=pt),Wt=K,H&&ct)e:{for(pt=zb,U=H,M=ct,P=0,K=U;K;K=pt(K))P++;K=0;for(var mt=M;mt;mt=pt(mt))K++;for(;0<P-K;)U=pt(U),P--;for(;0<K-P;)M=pt(M),K--;for(;P--;){if(U===M||M!==null&&U===M.alternate){pt=U;break e}U=pt(U),M=pt(M)}pt=null}else pt=null;H!==null&&A_(Y,j,H,pt,!1),ct!==null&&Wt!==null&&A_(Y,Wt,ct,pt,!0)}}t:{if(j=z?pn(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var jt=jg;else if(Pg(j))if(Bg)jt=$1;else{jt=Y1;var ht=K1}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ha(z.elementType)&&(jt=jg):jt=X1;if(jt&&(jt=jt(e,z))){zg(Y,jt,a,G);break t}ht&&ht(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Mo(j,"number",j.value)}switch(ht=z?pn(z):window,e){case"focusin":(Pg(ht)||ht.contentEditable==="true")&&(va=ht,$h=z,Go=null);break;case"focusout":Go=$h=va=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,Xg(Y,a,G);break;case"selectionchange":if(Z1)break;case"keydown":case"keyup":Xg(Y,a,G)}var Ct;if(qt)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else _a?Rr(e,a)&&(Ot="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ot="onCompositionStart");Ot&&(Ei&&a.locale!=="ko"&&(_a||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&_a&&(Ct=Po()):(yi=G,Lo="value"in yi?yi.value:yi.textContent,_a=!0)),ht=bc(z,Ot),0<ht.length&&(Ot=new Ti(Ot,e,null,a,G),Y.push({event:Ot,listeners:ht}),Ct?Ot.data=Ct:(Ct=ya(a),Ct!==null&&(Ot.data=Ct)))),(Ct=Dn?H1(e,a):F1(e,a))&&(Ot=bc(z,"onBeforeInput"),0<Ot.length&&(ht=new Ti("onBeforeInput","beforeinput",null,a,G),Y.push({event:ht,listeners:Ot}),ht.data=Ct)),kb(Y,e,z,a,G)}E_(Y,i)})}function pl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function bc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Kn(e,a),h!=null&&l.unshift(pl(e,h,d)),h=Kn(e,i),h!=null&&l.push(pl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function zb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function A_(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var E=a,x=E.alternate,z=E.stateNode;if(E=E.tag,x!==null&&x===l)break;E!==5&&E!==26&&E!==27||z===null||(x=z,h?(z=Kn(a,d),z!=null&&_.unshift(pl(a,z,x))):h||(z=Kn(a,d),z!=null&&_.push(pl(a,z,x)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var jb=/\r\n?/g,Bb=/\u0000|\uFFFD/g;function S_(e){return(typeof e=="string"?e:""+e).replace(jb,`
`).replace(Bb,"")}function w_(e,i){return i=S_(i),S_(e)===i}function Zt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ln(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ln(e,""+l);break;case"className":yn(e,"class",l);break;case"tabIndex":yn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(e,a,l);break;case"style":ko(e,l,d);break;case"data":if(i!=="object"){yn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=fa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Zt(e,i,"name",h.name,h,null),Zt(e,i,"formEncType",h.formEncType,h,null),Zt(e,i,"formMethod",h.formMethod,h,null),Zt(e,i,"formTarget",h.formTarget,h,null)):(Zt(e,i,"encType",h.encType,h,null),Zt(e,i,"method",h.method,h,null),Zt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=fa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Qn);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=fa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),ua(e,"popover",l);break;case"xlinkActuate":we(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":we(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":we(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":we(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":we(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":we(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":we(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":we(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":we(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ua(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bu.get(a)||a,ua(e,a,l))}}function Ad(e,i,a,l,h,d){switch(a){case"style":ko(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?ln(e,l):(typeof l=="number"||typeof l=="bigint")&&ln(e,""+l);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Pe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ua(e,a,l)}}}function Ke(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Zt(e,i,d,_,a,null)}}h&&Zt(e,i,"srcSet",a.srcSet,a,null),l&&Zt(e,i,"src",a.src,a,null);return;case"input":Nt("invalid",e);var E=d=_=h=null,x=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":_=G;break;case"checked":x=G;break;case"defaultChecked":z=G;break;case"value":d=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:Zt(e,i,l,G,a,null)}}vu(e,d,E,x,z,_,h,!1);return;case"select":Nt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":_=E;break;case"multiple":l=E;default:Zt(e,i,h,E,a,null)}i=d,a=_,e.multiple=!!l,i!=null?hs(e,!!l,i,!1):a!=null&&hs(e,!!l,a,!0);return;case"textarea":Nt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Zt(e,i,_,E,a,null)}fs(e,l,h,d);return;case"option":for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null)&&(x==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Zt(e,i,x,l,a,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(l=0;l<gl.length;l++)Nt(gl[l],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Zt(e,i,z,l,a,null)}return;default:if(ha(i)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&Ad(e,i,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Zt(e,i,E,l,a,null))}function qb(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,E=null,x=null,z=null,G=null;for(H in a){var Y=a[H];if(a.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":x=Y;default:l.hasOwnProperty(H)||Zt(e,i,H,null,l,Y)}}for(var j in l){var H=l[j];if(Y=a[j],l.hasOwnProperty(j)&&(H!=null||Y!=null))switch(j){case"type":d=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":_=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==Y&&Zt(e,i,j,H,l,Y)}}ca(e,_,E,x,z,G,d,h);return;case"select":H=_=E=j=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":H=x;default:l.hasOwnProperty(d)||Zt(e,i,d,null,l,x)}for(h in l)if(d=l[h],x=a[h],l.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":j=d;break;case"defaultValue":E=d;break;case"multiple":_=d;default:d!==x&&Zt(e,i,h,d,l,x)}i=E,a=_,l=H,j!=null?hs(e,!!a,j,!1):!!l!=!!a&&(i!=null?hs(e,!!a,i,!0):hs(e,!!a,a?[]:"",!1));return;case"textarea":H=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,i,E,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&Zt(e,i,_,h,l,d)}Tu(e,j,H);return;case"option":for(var ct in a)j=a[ct],a.hasOwnProperty(ct)&&j!=null&&!l.hasOwnProperty(ct)&&(ct==="selected"?e.selected=!1:Zt(e,i,ct,null,l,j));for(x in l)j=l[x],H=a[x],l.hasOwnProperty(x)&&j!==H&&(j!=null||H!=null)&&(x==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Zt(e,i,x,j,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)j=a[pt],a.hasOwnProperty(pt)&&j!=null&&!l.hasOwnProperty(pt)&&Zt(e,i,pt,null,l,j);for(z in l)if(j=l[z],H=a[z],l.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,i));break;default:Zt(e,i,z,j,l,H)}return;default:if(ha(i)){for(var Wt in a)j=a[Wt],a.hasOwnProperty(Wt)&&j!==void 0&&!l.hasOwnProperty(Wt)&&Ad(e,i,Wt,void 0,l,j);for(G in l)j=l[G],H=a[G],!l.hasOwnProperty(G)||j===H||j===void 0&&H===void 0||Ad(e,i,G,j,l,H);return}}for(var U in a)j=a[U],a.hasOwnProperty(U)&&j!=null&&!l.hasOwnProperty(U)&&Zt(e,i,U,null,l,j);for(Y in l)j=l[Y],H=a[Y],!l.hasOwnProperty(Y)||j===H||j==null&&H==null||Zt(e,i,Y,j,l,H)}function R_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Hb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,E=h.duration;if(d&&E&&R_(_)){for(_=0,E=h.responseEnd,l+=1;l<a.length;l++){var x=a[l],z=x.startTime;if(z>E)break;var G=x.transferSize,Y=x.initiatorType;G&&R_(Y)&&(x=x.responseEnd,_+=G*(x<E?1:(E-z)/(x-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Sd=null,wd=null;function Ac(e){return e.nodeType===9?e:e.ownerDocument}function I_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function C_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Rd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Id=null;function Fb(){var e=window.event;return e&&e.type==="popstate"?e===Id?!1:(Id=e,!0):(Id=null,!1)}var x_=typeof setTimeout=="function"?setTimeout:void 0,Gb=typeof clearTimeout=="function"?clearTimeout:void 0,N_=typeof Promise=="function"?Promise:void 0,Qb=typeof queueMicrotask=="function"?queueMicrotask:typeof N_<"u"?function(e){return N_.resolve(null).then(e).catch(Kb)}:x_;function Kb(e){setTimeout(function(){throw e})}function ks(e){return e==="head"}function D_(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Qa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")yl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,yl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,E=d.nodeName;d[ci]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&yl(e.ownerDocument.body);a=h}while(a);Qa(i)}function O_(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Cd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Cd(a),la(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Yb(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ci])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function Xb(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Pn(e.nextSibling),e===null))return null;return e}function M_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Pn(e.nextSibling),e===null))return null;return e}function xd(e){return e.data==="$?"||e.data==="$~"}function Nd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function $b(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Pn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Dd=null;function V_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Pn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function k_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function U_(e,i,a){switch(i=Ac(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function yl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);la(e)}var zn=new Map,L_=new Set;function Sc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ts=nt.d;nt.d={f:Jb,r:Zb,D:Wb,C:tA,L:eA,m:nA,X:sA,S:iA,M:rA};function Jb(){var e=ts.f(),i=gc();return e||i}function Zb(e){var i=Cn(e);i!==null&&i.tag===5&&i.type==="form"?ty(i):ts.r(e)}var Ha=typeof document>"u"?null:document;function P_(e,i,a){var l=Ha;if(l&&typeof i=="string"&&i){var h=on(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),L_.has(h)||(L_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ke(i,"link",e),Se(i),l.head.appendChild(i)))}}function Wb(e){ts.D(e),P_("dns-prefetch",e,null)}function tA(e,i){ts.C(e,i),P_("preconnect",e,i)}function eA(e,i,a){ts.L(e,i,a);var l=Ha;if(l&&e&&i){var h='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+on(a.imageSizes)+'"]')):h+='[href="'+on(e)+'"]';var d=h;switch(i){case"style":d=Fa(e);break;case"script":d=Ga(e)}zn.has(d)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),zn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(_l(d))||i==="script"&&l.querySelector(vl(d))||(i=l.createElement("link"),Ke(i,"link",e),Se(i),l.head.appendChild(i)))}}function nA(e,i){ts.m(e,i);var a=Ha;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ga(e)}if(!zn.has(d)&&(e=S({rel:"modulepreload",href:e},i),zn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vl(d)))return}l=a.createElement("link"),Ke(l,"link",e),Se(l),a.head.appendChild(l)}}}function iA(e,i,a){ts.S(e,i,a);var l=Ha;if(l&&e){var h=fi(l).hoistableStyles,d=Fa(e);i=i||"default";var _=h.get(d);if(!_){var E={loading:0,preload:null};if(_=l.querySelector(_l(d)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=zn.get(d))&&Od(e,a);var x=_=l.createElement("link");Se(x),Ke(x,"link",e),x._p=new Promise(function(z,G){x.onload=z,x.onerror=G}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,wc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(d,_)}}}function sA(e,i){ts.X(e,i);var a=Ha;if(a&&e){var l=fi(a).hoistableScripts,h=Ga(e),d=l.get(h);d||(d=a.querySelector(vl(h)),d||(e=S({src:e,async:!0},i),(i=zn.get(h))&&Md(e,i),d=a.createElement("script"),Se(d),Ke(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function rA(e,i){ts.M(e,i);var a=Ha;if(a&&e){var l=fi(a).hoistableScripts,h=Ga(e),d=l.get(h);d||(d=a.querySelector(vl(h)),d||(e=S({src:e,async:!0,type:"module"},i),(i=zn.get(h))&&Md(e,i),d=a.createElement("script"),Se(d),Ke(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function z_(e,i,a,l){var h=(h=It.current)?Sc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Fa(a.href),a=fi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Fa(a.href);var d=fi(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(_l(e)))&&!d._p&&(_.instance=d,_.state.loading=5),zn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(e,a),d||aA(h,e,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ga(a),a=fi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Fa(e){return'href="'+on(e)+'"'}function _l(e){return'link[rel="stylesheet"]['+e+"]"}function j_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function aA(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ke(i,"link",a),Se(i),e.head.appendChild(i))}function Ga(e){return'[src="'+on(e)+'"]'}function vl(e){return"script[async]"+e}function B_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+on(a.href)+'"]');if(l)return i.instance=l,Se(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Se(l),Ke(l,"style",h),wc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Fa(a.href);var d=e.querySelector(_l(h));if(d)return i.state.loading|=4,i.instance=d,Se(d),d;l=j_(a),(h=zn.get(h))&&Od(l,h),d=(e.ownerDocument||e).createElement("link"),Se(d);var _=d;return _._p=new Promise(function(E,x){_.onload=E,_.onerror=x}),Ke(d,"link",l),i.state.loading|=4,wc(d,a.precedence,e),i.instance=d;case"script":return d=Ga(a.src),(h=e.querySelector(vl(d)))?(i.instance=h,Se(h),h):(l=a,(h=zn.get(d))&&(l=S({},a),Md(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Se(h),Ke(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,wc(l,a.precedence,e));return i.instance}function wc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var E=l[_];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Od(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Md(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Rc=null;function q_(e,i,a){if(Rc===null){var l=new Map,h=Rc=new Map;h.set(a,l)}else h=Rc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ci]||d[Ae]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var E=l.get(_);E?E.push(d):l.set(_,[d])}}return l}function H_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function oA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function F_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function lA(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Fa(l.href),d=i.querySelector(_l(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Ic.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Se(d);return}d=i.ownerDocument||i,l=j_(l),(h=zn.get(h))&&Od(l,h),d=d.createElement("link"),Se(d);var _=d;_._p=new Promise(function(E,x){_.onload=E,_.onerror=x}),Ke(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ic.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Vd=0;function uA(e,i){return e.stylesheets&&e.count===0&&xc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&xc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&Vd===0&&(Vd=62500*Hb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&xc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Vd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ic(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Cc=null;function xc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Cc=new Map,i.forEach(cA,e),Cc=null,Ic.call(e))}function cA(e,i){if(!(i.state.loading&4)){var a=Cc.get(e);if(a)var l=a.get(null);else{a=new Map,Cc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Ic.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Tl={$$typeof:tt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function hA(e,i,a,l,h,d,_,E,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function G_(e,i,a,l,h,d,_,E,x,z,G,Y){return e=new hA(e,i,a,_,x,z,G,Y,E),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),e.current=d,d.stateNode=e,i=df(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},yf(d),e}function Q_(e){return e?(e=ba,e):ba}function K_(e,i,a,l,h,d){h=Q_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ss(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ws(e,l,i),a!==null&&(dn(a,e,i),Zo(a,e,i))}function Y_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function kd(e,i){Y_(e,i),(e=e.alternate)&&Y_(e,i)}function X_(e){if(e.tag===13||e.tag===31){var i=xr(e,67108864);i!==null&&dn(i,e,67108864),kd(e,67108864)}}function $_(e){if(e.tag===13||e.tag===31){var i=Sn();i=yr(i);var a=xr(e,i);a!==null&&dn(a,e,i),kd(e,i)}}var Nc=!0;function fA(e,i,a,l){var h=F.T;F.T=null;var d=nt.p;try{nt.p=2,Ud(e,i,a,l)}finally{nt.p=d,F.T=h}}function dA(e,i,a,l){var h=F.T;F.T=null;var d=nt.p;try{nt.p=8,Ud(e,i,a,l)}finally{nt.p=d,F.T=h}}function Ud(e,i,a,l){if(Nc){var h=Ld(l);if(h===null)bd(e,i,l,Dc,a),Z_(e,l);else if(gA(h,e,i,a,l))l.stopPropagation();else if(Z_(e,l),i&4&&-1<mA.indexOf(e)){for(;h!==null;){var d=Cn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ai(d.pendingLanes);if(_!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var x=1<<31-ge(_);E.entanglements[1]|=x,_&=~x}wi(d),(Ht&6)===0&&(dc=nn()+500,ml(0))}}break;case 31:case 13:E=xr(d,2),E!==null&&dn(E,d,2),gc(),kd(d,2)}if(d=Ld(l),d===null&&bd(e,i,l,Dc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else bd(e,i,l,null,a)}}function Ld(e){return e=xn(e),Pd(e)}var Dc=null;function Pd(e){if(Dc=null,e=hi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=g(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Dc=e,null}function J_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dr()){case Ao:return 2;case So:return 8;case us:case Hh:return 32;case uu:return 268435456;default:return 32}default:return 32}}var zd=!1,Us=null,Ls=null,Ps=null,El=new Map,bl=new Map,zs=[],mA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z_(e,i){switch(e){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":El.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(i.pointerId)}}function Al(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Cn(i),i!==null&&X_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function gA(e,i,a,l,h){switch(i){case"focusin":return Us=Al(Us,e,i,a,l,h),!0;case"dragenter":return Ls=Al(Ls,e,i,a,l,h),!0;case"mouseover":return Ps=Al(Ps,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return El.set(d,Al(El.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,bl.set(d,Al(bl.get(d)||null,e,i,a,l,h)),!0}return!1}function W_(e){var i=hi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Fn(e.priority,function(){$_(a)});return}}else if(i===31){if(i=g(a),i!==null){e.blockedOn=i,Fn(e.priority,function(){$_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Oc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Ld(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Uo=l,a.target.dispatchEvent(l),Uo=null}else return i=Cn(a),i!==null&&X_(i),e.blockedOn=a,!1;i.shift()}return!0}function t0(e,i,a){Oc(e)&&a.delete(i)}function pA(){zd=!1,Us!==null&&Oc(Us)&&(Us=null),Ls!==null&&Oc(Ls)&&(Ls=null),Ps!==null&&Oc(Ps)&&(Ps=null),El.forEach(t0),bl.forEach(t0)}function Mc(e,i){e.blockedOn===i&&(e.blockedOn=null,zd||(zd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,pA)))}var Vc=null;function e0(e){Vc!==e&&(Vc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Vc===e&&(Vc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Pd(l||a)===null)continue;break}var d=Cn(a);d!==null&&(e.splice(i,3),i-=3,Lf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Qa(e){function i(x){return Mc(x,e)}Us!==null&&Mc(Us,e),Ls!==null&&Mc(Ls,e),Ps!==null&&Mc(Ps,e),El.forEach(i),bl.forEach(i);for(var a=0;a<zs.length;a++){var l=zs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<zs.length&&(a=zs[0],a.blockedOn===null);)W_(a),a.blockedOn===null&&zs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Pe]||null;if(typeof d=="function")_||e0(a);else if(_){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Pe]||null)E=_.formAction;else if(Pd(h)!==null)continue}else E=_.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),e0(a)}}}function n0(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function jd(e){this._internalRoot=e}kc.prototype.render=jd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Sn();K_(a,l,e,i,null,null)},kc.prototype.unmount=jd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;K_(e.current,2,null,e,null,null),gc(),i[ui]=null}};function kc(e){this._internalRoot=e}kc.prototype.unstable_scheduleHydration=function(e){if(e){var i=gu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<zs.length&&i!==0&&i<zs[a].priority;a++);zs.splice(a,0,e),a===0&&W_(e)}};var i0=t.version;if(i0!=="19.2.3")throw Error(r(527,i0,"19.2.3"));nt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(i),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var yA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{qn=Uc.inject(yA),qe=Uc}catch{}}return wl.createRoot=function(e,i){if(!o(e))throw Error(r(299));var a=!1,l="",h=cy,d=hy,_=fy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=G_(e,1,!1,null,null,a,l,null,h,d,_,n0),e[ui]=i.current,Ed(e),new jd(i)},wl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(r(299));var l=!1,h="",d=cy,_=hy,E=fy,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),i=G_(e,1,!0,i,a??null,l,h,x,d,_,E,n0),i.context=Q_(null),a=i.current,l=Sn(),l=yr(l),h=Ss(l),h.callback=null,ws(a,h,l),a=l,i.current.lanes=a,gr(i,a),wi(i),e[ui]=i.current,Ed(e),new kc(i)},wl.version="19.2.3",wl}var d0;function IA(){if(d0)return Hd.exports;d0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Hd.exports=RA(),Hd.exports}var CA=IA();const xA=()=>{};var m0={};const tT=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},NA=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],g=s[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const u=s[n++],f=s[n++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},eT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,g=f?s[o+1]:0,y=o+2<s.length,p=y?s[o+2]:0,T=u>>2,S=(u&3)<<4|g>>4;let N=(g&15)<<2|p>>6,B=p&63;y||(B=64,f||(N=64)),r.push(n[T],n[S],n[N],n[B])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(tT(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):NA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],g=o<s.length?n[s.charAt(o)]:0;++o;const p=o<s.length?n[s.charAt(o)]:64;++o;const S=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||g==null||p==null||S==null)throw new DA;const N=u<<2|g>>4;if(r.push(N),p!==64){const B=g<<4&240|p>>2;if(r.push(B),S!==64){const Q=p<<6&192|S;r.push(Q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class DA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OA=function(s){const t=tT(s);return eT.encodeByteArray(t,!0)},nh=function(s){return OA(s).replace(/\./g,"")},nT=function(s){try{return eT.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function MA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const VA=()=>MA().__FIREBASE_DEFAULTS__,kA=()=>{if(typeof process>"u"||typeof m0>"u")return;const s=m0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},UA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&nT(s[1]);return t&&JSON.parse(t)},bh=()=>{try{return xA()||VA()||kA()||UA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},iT=s=>bh()?.emulatorHosts?.[s],sT=s=>{const t=iT(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},rT=()=>bh()?.config,aT=s=>bh()?.[`_${s}`];class LA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function lr(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lm(s){return(await fetch(s,{credentials:"include"})).ok}function oT(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[nh(JSON.stringify(n)),nh(JSON.stringify(f)),""].join(".")}const Ml={};function PA(){const s={prod:[],emulator:[]};for(const t of Object.keys(Ml))Ml[t]?s.emulator.push(t):s.prod.push(t);return s}function zA(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let g0=!1;function Pm(s,t){if(typeof window>"u"||typeof document>"u"||!lr(window.location.host)||Ml[s]===t||Ml[s]||g0)return;Ml[s]=t;function n(N){return`__firebase__banner__${N}`}const r="__firebase__banner",u=PA().prod.length>0;function f(){const N=document.getElementById(r);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function y(N,B){N.setAttribute("width","24"),N.setAttribute("id",B),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function p(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{g0=!0,f()},N}function T(N,B){N.setAttribute("id",B),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function S(){const N=zA(r),B=n("text"),Q=document.getElementById(B)||document.createElement("span"),Z=n("learnmore"),W=document.getElementById(Z)||document.createElement("a"),ut=n("preprendIcon"),st=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const tt=N.element;g(tt),T(W,Z);const at=p();y(st,ut),tt.append(st,Q,W,at),document.body.appendChild(tt)}u?(Q.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function BA(){const s=bh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function FA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GA(){const s=en();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function QA(){return!BA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KA(){try{return typeof indexedDB=="object"}catch{return!1}}function YA(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const XA="FirebaseError";class ki extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=XA,Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?$A(u,r):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new ki(o,g,r)}}function $A(s,t){return s.replace(JA,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const JA=/\{\$([^}]+)}/g;function ZA(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Kr(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=t[o];if(p0(u)&&p0(f)){if(!Kr(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function p0(s){return s!==null&&typeof s=="object"}function Zl(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function WA(s,t){const n=new tS(s,t);return n.subscribe.bind(n)}class tS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");eS(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=Kd),o.error===void 0&&(o.error=Kd),o.complete===void 0&&(o.complete=Kd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eS(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function Kd(){}function Te(s){return s&&s._delegate?s._delegate:s}class tr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const qr="[DEFAULT]";class nS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new LA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(sS(t))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=qr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qr){return this.instances.has(t)}getOptions(t=qr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&f.resolve(o)}return o}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iS(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=qr){return this.component?this.component.multipleInstances?t:qr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iS(s){return s===qr?void 0:s}function sS(s){return s.instantiationMode==="EAGER"}class rS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new nS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Mt||(Mt={}));const aS={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},oS=Mt.INFO,lS={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},uS=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=lS[t];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class zm{constructor(t){this.name=t,this._logLevel=oS,this._logHandler=uS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?aS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const cS=(s,t)=>t.some(n=>s instanceof n);let y0,_0;function hS(){return y0||(y0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fS(){return _0||(_0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lT=new WeakMap,lm=new WeakMap,uT=new WeakMap,Yd=new WeakMap,jm=new WeakMap;function dS(s){const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(Ys(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&lT.set(n,s)}).catch(()=>{}),jm.set(t,s),t}function mS(s){if(lm.has(s))return;const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});lm.set(s,t)}let um={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return lm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||uT.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ys(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function gS(s){um=s(um)}function pS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(Xd(this),t,...n);return uT.set(r,t.sort?t.sort():[t]),Ys(r)}:fS().includes(s)?function(...t){return s.apply(Xd(this),t),Ys(lT.get(this))}:function(...t){return Ys(s.apply(Xd(this),t))}}function yS(s){return typeof s=="function"?pS(s):(s instanceof IDBTransaction&&mS(s),cS(s,hS())?new Proxy(s,um):s)}function Ys(s){if(s instanceof IDBRequest)return dS(s);if(Yd.has(s))return Yd.get(s);const t=yS(s);return t!==s&&(Yd.set(s,t),jm.set(t,s)),t}const Xd=s=>jm.get(s);function _S(s,t,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,t),g=Ys(f);return r&&f.addEventListener("upgradeneeded",y=>{r(Ys(f.result),y.oldVersion,y.newVersion,Ys(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const vS=["get","getKey","getAll","getAllKeys","count"],TS=["put","add","delete","clear"],$d=new Map;function v0(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if($d.get(t))return $d.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=TS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||vS.includes(n)))return;const u=async function(f,...g){const y=this.transaction(f,o?"readwrite":"readonly");let p=y.store;return r&&(p=p.index(g.shift())),(await Promise.all([p[n](...g),o&&y.done]))[0]};return $d.set(t,u),u}gS(s=>({...s,get:(t,n,r)=>v0(t,n)||s.get(t,n,r),has:(t,n)=>!!v0(t,n)||s.has(t,n)}));class ES{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bS(s){return s.getComponent()?.type==="VERSION"}const cm="@firebase/app",T0="0.14.7";const is=new zm("@firebase/app"),AS="@firebase/app-compat",SS="@firebase/analytics-compat",wS="@firebase/analytics",RS="@firebase/app-check-compat",IS="@firebase/app-check",CS="@firebase/auth",xS="@firebase/auth-compat",NS="@firebase/database",DS="@firebase/data-connect",OS="@firebase/database-compat",MS="@firebase/functions",VS="@firebase/functions-compat",kS="@firebase/installations",US="@firebase/installations-compat",LS="@firebase/messaging",PS="@firebase/messaging-compat",zS="@firebase/performance",jS="@firebase/performance-compat",BS="@firebase/remote-config",qS="@firebase/remote-config-compat",HS="@firebase/storage",FS="@firebase/storage-compat",GS="@firebase/firestore",QS="@firebase/ai",KS="@firebase/firestore-compat",YS="firebase",XS="12.8.0";const hm="[DEFAULT]",$S={[cm]:"fire-core",[AS]:"fire-core-compat",[wS]:"fire-analytics",[SS]:"fire-analytics-compat",[IS]:"fire-app-check",[RS]:"fire-app-check-compat",[CS]:"fire-auth",[xS]:"fire-auth-compat",[NS]:"fire-rtdb",[DS]:"fire-data-connect",[OS]:"fire-rtdb-compat",[MS]:"fire-fn",[VS]:"fire-fn-compat",[kS]:"fire-iid",[US]:"fire-iid-compat",[LS]:"fire-fcm",[PS]:"fire-fcm-compat",[zS]:"fire-perf",[jS]:"fire-perf-compat",[BS]:"fire-rc",[qS]:"fire-rc-compat",[HS]:"fire-gcs",[FS]:"fire-gcs-compat",[GS]:"fire-fst",[KS]:"fire-fst-compat",[QS]:"fire-vertex","fire-js":"fire-js",[YS]:"fire-js-all"};const ih=new Map,JS=new Map,fm=new Map;function E0(s,t){try{s.container.addComponent(t)}catch(n){is.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function Yr(s){const t=s.name;if(fm.has(t))return is.debug(`There were multiple attempts to register component ${t}.`),!1;fm.set(t,s);for(const n of ih.values())E0(n,s);for(const n of JS.values())E0(n,s);return!0}function Ah(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function jn(s){return s==null?!1:s.settings!==void 0}const ZS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new Jl("app","Firebase",ZS);class WS{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new tr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}const Wr=XS;function cT(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:hm,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Xs.create("bad-app-name",{appName:String(o)});if(n||(n=rT()),!n)throw Xs.create("no-options");const u=ih.get(o);if(u){if(Kr(n,u.options)&&Kr(r,u.config))return u;throw Xs.create("duplicate-app",{appName:o})}const f=new rS(o);for(const y of fm.values())f.addComponent(y);const g=new WS(n,r,f);return ih.set(o,g),g}function Bm(s=hm){const t=ih.get(s);if(!t&&s===hm&&rT())return cT();if(!t)throw Xs.create("no-app",{appName:s});return t}function Ci(s,t,n){let r=$S[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${t}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),is.warn(f.join(" "));return}Yr(new tr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const tw="firebase-heartbeat-database",ew=1,jl="firebase-heartbeat-store";let Jd=null;function hT(){return Jd||(Jd=_S(tw,ew,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(jl)}catch(n){console.warn(n)}}}}).catch(s=>{throw Xs.create("idb-open",{originalErrorMessage:s.message})})),Jd}async function nw(s){try{const n=(await hT()).transaction(jl),r=await n.objectStore(jl).get(fT(s));return await n.done,r}catch(t){if(t instanceof ki)is.warn(t.message);else{const n=Xs.create("idb-get",{originalErrorMessage:t?.message});is.warn(n.message)}}}async function b0(s,t){try{const r=(await hT()).transaction(jl,"readwrite");await r.objectStore(jl).put(t,fT(s)),await r.done}catch(n){if(n instanceof ki)is.warn(n.message);else{const r=Xs.create("idb-set",{originalErrorMessage:n?.message});is.warn(r.message)}}}function fT(s){return`${s.name}!${s.options.appId}`}const iw=1024,sw=30;class rw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ow(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=A0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>sw){const o=lw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){is.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=A0(),{heartbeatsToSend:n,unsentEntries:r}=aw(this._heartbeatsCache.heartbeats),o=nh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return is.warn(t),""}}}function A0(){return new Date().toISOString().substring(0,10)}function aw(s,t=iw){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),S0(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),S0(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ow{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KA()?YA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return b0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return b0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function S0(s){return nh(JSON.stringify({version:2,heartbeats:s})).length}function lw(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}function uw(s){Yr(new tr("platform-logger",t=>new ES(t),"PRIVATE")),Yr(new tr("heartbeat",t=>new rw(t),"PRIVATE")),Ci(cm,T0,s),Ci(cm,T0,"esm2020"),Ci("fire-js","")}uw("");function dT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cw=dT,mT=new Jl("auth","Firebase",dT());const sh=new zm("@firebase/auth");function hw(s,...t){sh.logLevel<=Mt.WARN&&sh.warn(`Auth (${Wr}): ${s}`,...t)}function Qc(s,...t){sh.logLevel<=Mt.ERROR&&sh.error(`Auth (${Wr}): ${s}`,...t)}function ss(s,...t){throw qm(s,...t)}function xi(s,...t){return qm(s,...t)}function gT(s,t,n){const r={...cw(),[t]:n};return new Jl("auth","Firebase",r).create(t,{appName:s.name})}function $s(s){return gT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qm(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return mT.create(s,...t)}function Tt(s,t,...n){if(!s)throw qm(t,...n)}function es(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Qc(t),new Error(t)}function rs(s,t){s||es(t)}function dm(){return typeof self<"u"&&self.location?.href||""}function fw(){return w0()==="http:"||w0()==="https:"}function w0(){return typeof self<"u"&&self.location?.protocol||null}function dw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fw()||HA()||"connection"in navigator)?navigator.onLine:!0}function mw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Wl{constructor(t,n){this.shortDelay=t,this.longDelay=n,rs(n>t,"Short delay should be less than long delay!"),this.isMobile=jA()||FA()}get(){return dw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hm(s,t){rs(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class pT{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const pw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yw=new Wl(3e4,6e4);function Sh(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function fo(s,t,n,r,o={}){return yT(s,o,async()=>{let u={},f={};r&&(t==="GET"?f=r:u={body:JSON.stringify(r)});const g=Zl({key:s.config.apiKey,...f}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const p={method:t,headers:y,...u};return qA()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&lr(s.emulatorConfig.host)&&(p.credentials="include"),pT.fetch()(await vT(s,s.config.apiHost,n,g),p)})}async function yT(s,t,n){s._canInitEmulator=!1;const r={...gw,...t};try{const o=new _w(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Lc(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[y,p]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(s,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw Lc(s,"email-already-in-use",f);if(y==="USER_DISABLED")throw Lc(s,"user-disabled",f);const T=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw gT(s,T,p);ss(s,T)}}catch(o){if(o instanceof ki)throw o;ss(s,"network-request-failed",{message:String(o)})}}async function _T(s,t,n,r,o={}){const u=await fo(s,t,n,r,o);return"mfaPendingCredential"in u&&ss(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function vT(s,t,n,r){const o=`${t}${n}?${r}`,u=s,f=u.config.emulator?Hm(s.config,o):`${s.config.apiScheme}://${o}`;return pw.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class _w{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xi(this.auth,"network-request-failed")),yw.get())})}}function Lc(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=xi(s,t,r);return o.customData._tokenResponse=n,o}async function vw(s,t){return fo(s,"POST","/v1/accounts:delete",t)}async function rh(s,t){return fo(s,"POST","/v1/accounts:lookup",t)}function Vl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Tw(s,t=!1){const n=Te(s),r=await n.getIdToken(t),o=Fm(r);Tt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:Vl(Zd(o.auth_time)),issuedAtTime:Vl(Zd(o.iat)),expirationTime:Vl(Zd(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Zd(s){return Number(s)*1e3}function Fm(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=nT(n);return o?JSON.parse(o):(Qc("Failed to decode base64 JWT payload"),null)}catch(o){return Qc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function R0(s){const t=Fm(s);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Bl(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof ki&&Ew(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Ew({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class bw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class mm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ah(s){const t=s.auth,n=await s.getIdToken(),r=await Bl(s,rh(t,{idToken:n}));Tt(r?.users.length,t,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?TT(o.providerUserInfo):[],f=Sw(s.providerData,u),g=s.isAnonymous,y=!(s.email&&o.passwordHash)&&!f?.length,p=g?y:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new mm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(s,T)}async function Aw(s){const t=Te(s);await ah(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Sw(s,t){return[...s.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function TT(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function ww(s,t){const n=await yT(s,{},async()=>{const r=Zl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await vT(s,o,"/v1/token",`key=${u}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:r};return s.emulatorConfig&&lr(s.emulatorConfig.host)&&(y.credentials="include"),pT.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Rw(s,t){return fo(s,"POST","/v2/accounts:revokeToken",Sh(s,t))}class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):R0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const n=R0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await ww(t,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new Za;return r&&(Tt(typeof r=="string","internal-error",{appName:t}),f.refreshToken=r),o&&(Tt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Tt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return es("not implemented")}}function Bs(s,t){Tt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ti{constructor({uid:t,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new bw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Bl(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Tw(this,t)}reload(){return Aw(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ti({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await ah(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject($s(this.auth));const t=await this.getIdToken();return await Bl(this,vw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,g=n.tenantId??void 0,y=n._redirectEventId??void 0,p=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:S,emailVerified:N,isAnonymous:B,providerData:Q,stsTokenManager:Z}=n;Tt(S&&Z,t,"internal-error");const W=Za.fromJSON(this.name,Z);Tt(typeof S=="string",t,"internal-error"),Bs(r,t.name),Bs(o,t.name),Tt(typeof N=="boolean",t,"internal-error"),Tt(typeof B=="boolean",t,"internal-error"),Bs(u,t.name),Bs(f,t.name),Bs(g,t.name),Bs(y,t.name),Bs(p,t.name),Bs(T,t.name);const ut=new ti({uid:S,auth:t,email:o,emailVerified:N,displayName:r,isAnonymous:B,photoURL:f,phoneNumber:u,tenantId:g,stsTokenManager:W,createdAt:p,lastLoginAt:T});return Q&&Array.isArray(Q)&&(ut.providerData=Q.map(st=>({...st}))),y&&(ut._redirectEventId=y),ut}static async _fromIdTokenResponse(t,n,r=!1){const o=new Za;o.updateFromServerResponse(n);const u=new ti({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await ah(u),u}static async _fromGetAccountInfoResponse(t,n,r){const o=n.users[0];Tt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?TT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,g=new Za;g.updateFromIdToken(r);const y=new ti({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new mm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,p),y}}const I0=new Map;function ns(s){rs(s instanceof Function,"Expected a class definition");let t=I0.get(s);return t?(rs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,I0.set(s,t),t)}class ET{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}ET.type="NONE";const C0=ET;function Kc(s,t,n){return`firebase:${s}:${t}:${n}`}class Wa{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Kc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Kc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await rh(this.auth,{idToken:t}).catch(()=>{});return n?ti._fromGetAccountInfoResponse(this.auth,n,t):null}return ti._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Wa(ns(C0),t,r);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||ns(C0);const f=Kc(r,t.config.apiKey,t.name);let g=null;for(const p of n)try{const T=await p._get(f);if(T){let S;if(typeof T=="string"){const N=await rh(t,{idToken:T}).catch(()=>{});if(!N)break;S=await ti._fromGetAccountInfoResponse(t,N,T)}else S=ti._fromJSON(t,T);p!==u&&(g=S),u=p;break}}catch{}const y=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Wa(u,t,r):(u=y[0],g&&await u._set(f,g.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new Wa(u,t,r))}}function x0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(wT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(bT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(IT(t))return"Blackberry";if(CT(t))return"Webos";if(AT(t))return"Safari";if((t.includes("chrome/")||ST(t))&&!t.includes("edge/"))return"Chrome";if(RT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function bT(s=en()){return/firefox\//i.test(s)}function AT(s=en()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ST(s=en()){return/crios\//i.test(s)}function wT(s=en()){return/iemobile/i.test(s)}function RT(s=en()){return/android/i.test(s)}function IT(s=en()){return/blackberry/i.test(s)}function CT(s=en()){return/webos/i.test(s)}function Gm(s=en()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Iw(s=en()){return Gm(s)&&!!window.navigator?.standalone}function Cw(){return GA()&&document.documentMode===10}function xT(s=en()){return Gm(s)||RT(s)||CT(s)||IT(s)||/windows phone/i.test(s)||wT(s)}function NT(s,t=[]){let n;switch(s){case"Browser":n=x0(en());break;case"Worker":n=`${x0(en())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wr}/${r}`}class xw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=u=>new Promise((f,g)=>{try{const y=t(u);f(y)}catch(y){g(y)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Nw(s,t={}){return fo(s,"GET","/v2/passwordPolicy",Sh(s,t))}const Dw=6;class Ow{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Dw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class Mw{constructor(t,n,r,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N0(this),this.idTokenSubscription=new N0(this),this.beforeStateQueue=new xw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ns(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await rh(this,{idToken:t}),r=await ti._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(jn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,g=await this.tryRedirectSignIn(t);(!u||u===f)&&g?.user&&(r=g.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ah(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=mw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(jn(this.app))return Promise.reject($s(this));const n=t?Te(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject($s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return jn(this.app)?Promise.reject($s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Nw(this),n=new Ow(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Jl("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Rw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ns(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[ns(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,r,o);return()=>{f=!0,y()}}else{const y=t.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=NT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&hw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function wh(s){return Te(s)}class N0{constructor(t){this.auth=t,this.observer=null,this.addObserver=WA(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Qm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vw(s){Qm=s}function kw(s){return Qm.loadJS(s)}function Uw(){return Qm.gapiScript}function Lw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function Pw(s,t){const n=Ah(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Kr(u,t??{}))return o;ss(o,"already-initialized")}return n.initialize({options:t})}function zw(s,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ns);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function jw(s,t,n){const r=wh(s);Tt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=DT(t),{host:f,port:g}=Bw(t),y=g===null?"":`:${g}`,p={url:`${u}//${f}${y}/`},T=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Tt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Tt(Kr(p,r.config.emulator)&&Kr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,lr(f)?(Lm(`${u}//${f}${y}`),Pm("Auth",!0)):qw()}function DT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Bw(s){const t=DT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:D0(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:D0(f)}}}function D0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function qw(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class OT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return es("not implemented")}_getIdTokenResponse(t){return es("not implemented")}_linkToIdToken(t,n){return es("not implemented")}_getReauthenticationResolver(t){return es("not implemented")}}async function to(s,t){return _T(s,"POST","/v1/accounts:signInWithIdp",Sh(s,t))}const Hw="http://localhost";class Xr extends OT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Xr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ss("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const f=new Xr(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return to(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,to(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,to(t,n)}buildRequest(){const t={requestUri:Hw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Zl(n)}return t}}class MT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class tu extends MT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class qs extends tu{constructor(){super("facebook.com")}static credential(t){return Xr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qs.credential(t.oauthAccessToken)}catch{return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";qs.PROVIDER_ID="facebook.com";class Hs extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Xr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Hs.credential(n,r)}catch{return null}}}Hs.GOOGLE_SIGN_IN_METHOD="google.com";Hs.PROVIDER_ID="google.com";class Fs extends tu{constructor(){super("github.com")}static credential(t){return Xr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fs.credential(t.oauthAccessToken)}catch{return null}}}Fs.GITHUB_SIGN_IN_METHOD="github.com";Fs.PROVIDER_ID="github.com";class Gs extends tu{constructor(){super("twitter.com")}static credential(t,n){return Xr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Gs.credential(n,r)}catch{return null}}}Gs.TWITTER_SIGN_IN_METHOD="twitter.com";Gs.PROVIDER_ID="twitter.com";async function Fw(s,t){return _T(s,"POST","/v1/accounts:signUp",Sh(s,t))}class er{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,o=!1){const u=await ti._fromIdTokenResponse(t,r,o),f=O0(r);return new er({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const o=O0(r);return new er({user:t,providerId:o,_tokenResponse:r,operationType:n})}}function O0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function M0(s){if(jn(s.app))return Promise.reject($s(s));const t=wh(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new er({user:t.currentUser,providerId:null,operationType:"signIn"});const n=await Fw(t,{returnSecureToken:!0}),r=await er._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(r.user),r}class oh extends ki{constructor(t,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,o){return new oh(t,n,r,o)}}function VT(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(s,u,t,r):u})}async function Gw(s,t,n=!1){const r=await Bl(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return er._forOperation(s,"link",r)}async function Qw(s,t,n=!1){const{auth:r}=s;if(jn(r.app))return Promise.reject($s(r));const o="reauthenticate";try{const u=await Bl(s,VT(r,o,t,s),n);Tt(u.idToken,r,"internal-error");const f=Fm(u.idToken);Tt(f,r,"internal-error");const{sub:g}=f;return Tt(s.uid===g,r,"user-mismatch"),er._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ss(r,"user-mismatch"),u}}async function Kw(s,t,n=!1){if(jn(s.app))return Promise.reject($s(s));const r="signIn",o=await VT(s,r,t),u=await er._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}function Yw(s,t,n,r){return Te(s).onIdTokenChanged(t,n,r)}function Xw(s,t,n){return Te(s).beforeAuthStateChanged(t,n)}function $w(s,t,n,r){return Te(s).onAuthStateChanged(t,n,r)}const lh="__sak";class kT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Jw=1e3,Zw=10;class UT extends kT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&t(n,o,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,g,y)=>{this.notifyListeners(f,y)});return}const r=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);Cw()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Zw):o()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},Jw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}UT.type="LOCAL";const Ww=UT;class LT extends kT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}LT.type="SESSION";const PT=LT;function t2(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Rh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const r=new Rh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const g=Array.from(f).map(async p=>p(n.origin,u)),y=await t2(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rh.receivers=[];function Km(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}class e2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((g,y)=>{const p=Km("",20);o.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(S){const N=S;if(N.data.eventId===p)switch(N.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(N.data.response);break;default:clearTimeout(T),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ni(){return window}function n2(s){Ni().location.href=s}function zT(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function i2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s2(){return navigator?.serviceWorker?.controller||null}function r2(){return zT()?self:null}const jT="firebaseLocalStorageDb",a2=1,uh="firebaseLocalStorage",BT="fbase_key";class eu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ih(s,t){return s.transaction([uh],t?"readwrite":"readonly").objectStore(uh)}function o2(){const s=indexedDB.deleteDatabase(jT);return new eu(s).toPromise()}function gm(){const s=indexedDB.open(jT,a2);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(uh,{keyPath:BT})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(uh)?t(r):(r.close(),await o2(),t(await gm()))})})}async function V0(s,t,n){const r=Ih(s,!0).put({[BT]:t,value:n});return new eu(r).toPromise()}async function l2(s,t){const n=Ih(s,!1).get(t),r=await new eu(n).toPromise();return r===void 0?null:r.value}function k0(s,t){const n=Ih(s,!0).delete(t);return new eu(n).toPromise()}const u2=800,c2=3;class qT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>c2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rh._getInstance(r2()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await i2(),!this.activeServiceWorker)return;this.sender=new e2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||s2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await gm();return await V0(t,lh,"1"),await k0(t,lh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>V0(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>l2(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>k0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Ih(o,!1).getAll();return new eu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),u2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qT.type="LOCAL";const h2=qT;new Wl(3e4,6e4);function f2(s,t){return t?ns(t):(Tt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Ym extends OT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return to(t,this._buildIdpRequest())}_linkToIdToken(t,n){return to(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return to(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function d2(s){return Kw(s.auth,new Ym(s),s.bypassAuthState)}function m2(s){const{auth:t,user:n}=s;return Tt(n,t,"internal-error"),Qw(n,new Ym(s),s.bypassAuthState)}async function g2(s){const{auth:t,user:n}=s;return Tt(n,t,"internal-error"),Gw(n,new Ym(s),s.bypassAuthState)}class HT{constructor(t,n,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:g}=t;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return d2;case"linkViaPopup":case"linkViaRedirect":return g2;case"reauthViaPopup":case"reauthViaRedirect":return m2;default:ss(this.auth,"internal-error")}}resolve(t){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const p2=new Wl(2e3,1e4);class Ja extends HT{constructor(t,n,r,o,u){super(t,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const t=Km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,p2.get())};t()}}Ja.currentPopupAction=null;const y2="pendingRedirect",Yc=new Map;class _2 extends HT{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Yc.get(this.auth._key());if(!t){try{const r=await v2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Yc.set(this.auth._key(),t)}return this.bypassAuthState||Yc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function v2(s,t){const n=b2(t),r=E2(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function T2(s,t){Yc.set(s._key(),t)}function E2(s){return ns(s._redirectPersistence)}function b2(s){return Kc(y2,s.config.apiKey,s.name)}async function A2(s,t,n=!1){if(jn(s.app))return Promise.reject($s(s));const r=wh(s),o=f2(r,t),f=await new _2(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,t)),f}const S2=600*1e3;class w2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!R2(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!FT(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(xi(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=S2&&this.cachedEventUids.clear(),this.cachedEventUids.has(U0(t))}saveEventToCache(t){this.cachedEventUids.add(U0(t)),this.lastProcessedEventTime=Date.now()}}function U0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function FT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function R2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FT(s);default:return!1}}async function I2(s,t={}){return fo(s,"GET","/v1/projects",t)}const C2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,x2=/^https?/;async function N2(s){if(s.config.emulator)return;const{authorizedDomains:t}=await I2(s);for(const n of t)try{if(D2(n))return}catch{}ss(s,"unauthorized-domain")}function D2(s){const t=dm(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!x2.test(n))return!1;if(C2.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const O2=new Wl(3e4,6e4);function L0(){const s=Ni().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function M2(s){return new Promise((t,n)=>{function r(){L0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{L0(),n(xi(s,"network-request-failed"))},timeout:O2.get()})}if(Ni().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ni().gapi?.load)r();else{const o=Lw("iframefcb");return Ni()[o]=()=>{gapi.load?r():n(xi(s,"network-request-failed"))},kw(`${Uw()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Xc=null,t})}let Xc=null;function V2(s){return Xc=Xc||M2(s),Xc}const k2=new Wl(5e3,15e3),U2="__/auth/iframe",L2="emulator/auth/iframe",P2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j2(s){const t=s.config;Tt(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?Hm(t,L2):`https://${s.config.authDomain}/${U2}`,r={apiKey:t.apiKey,appName:s.name,v:Wr},o=z2.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Zl(r).slice(1)}`}async function B2(s){const t=await V2(s),n=Ni().gapi;return Tt(n,s,"internal-error"),t.open({where:document.body,url:j2(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P2,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=xi(s,"network-request-failed"),g=Ni().setTimeout(()=>{u(f)},k2.get());function y(){Ni().clearTimeout(g),o(r)}r.ping(y).then(y,()=>{u(f)})}))}const q2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H2=500,F2=600,G2="_blank",Q2="http://localhost";class P0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K2(s,t,n,r=H2,o=F2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const y={...q2,width:r.toString(),height:o.toString(),top:u,left:f},p=en().toLowerCase();n&&(g=ST(p)?G2:n),bT(p)&&(t=t||Q2,y.scrollbars="yes");const T=Object.entries(y).reduce((N,[B,Q])=>`${N}${B}=${Q},`,"");if(Iw(p)&&g!=="_self")return Y2(t||"",g),new P0(null);const S=window.open(t||"",g,T);Tt(S,s,"popup-blocked");try{S.focus()}catch{}return new P0(S)}function Y2(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const X2="__/auth/handler",$2="emulator/auth/handler",J2=encodeURIComponent("fac");async function z0(s,t,n,r,o,u){Tt(s.config.authDomain,s,"auth-domain-config-required"),Tt(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Wr,eventId:o};if(t instanceof MT){t.setDefaultLanguage(s.languageCode),f.providerId=t.providerId||"",ZA(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))f[T]=S}if(t instanceof tu){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(f.scopes=T.join(","))}s.tenantId&&(f.tid=s.tenantId);const g=f;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const y=await s._getAppCheckToken(),p=y?`#${J2}=${encodeURIComponent(y)}`:"";return`${Z2(s)}?${Zl(g).slice(1)}${p}`}function Z2({config:s}){return s.emulator?Hm(s,$2):`https://${s.authDomain}/${X2}`}const Wd="webStorageSupport";class W2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PT,this._completeRedirectFn=A2,this._overrideRedirectResult=T2}async _openPopup(t,n,r,o){rs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await z0(t,n,r,dm(),o);return K2(t,u,Km())}async _openRedirect(t,n,r,o){await this._originValidation(t);const u=await z0(t,n,r,dm(),o);return n2(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(rs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await B2(t),r=new w2(t);return n.register("authEvent",o=>(Tt(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Wd,{type:Wd},o=>{const u=o?.[0]?.[Wd];u!==void 0&&n(!!u),ss(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=N2(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return xT()||AT()||Gm()}}const tR=W2;var j0="@firebase/auth",B0="1.12.0";class eR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function nR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iR(s){Yr(new tr("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=r.options;Tt(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:f,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NT(s)},p=new Mw(r,o,u,y);return zw(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Yr(new tr("auth-internal",t=>{const n=wh(t.getProvider("auth").getImmediate());return(r=>new eR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ci(j0,B0,nR(s)),Ci(j0,B0,"esm2020")}const sR=300,rR=aT("authIdTokenMaxAge")||sR;let q0=null;const aR=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rR)return;const o=n?.token;q0!==o&&(q0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function oR(s=Bm()){const t=Ah(s,"auth");if(t.isInitialized())return t.getImmediate();const n=Pw(s,{popupRedirectResolver:tR,persistence:[h2,Ww,PT]}),r=aT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=aR(u.toString());Xw(n,f,()=>f(n.currentUser)),Yw(n,g=>f(g))}}const o=iT("auth");return o&&jw(n,`http://${o}`),n}function lR(){return document.getElementsByTagName("head")?.[0]??document}Vw({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=o=>{const u=xi("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",lR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iR("Browser");var H0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Js,GT;(function(){var s;function t(C,A){function R(){}R.prototype=A.prototype,C.F=A.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(O,D,k){for(var I=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)I[Xt-2]=arguments[Xt];return A.prototype[D].apply(O,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,R){R||(R=0);const O=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)O[D]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(D=0;D<16;++D)O[D]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=C.g[0],R=C.g[1],D=C.g[2];let k=C.g[3],I;I=A+(k^R&(D^k))+O[0]+3614090360&4294967295,A=R+(I<<7&4294967295|I>>>25),I=k+(D^A&(R^D))+O[1]+3905402710&4294967295,k=A+(I<<12&4294967295|I>>>20),I=D+(R^k&(A^R))+O[2]+606105819&4294967295,D=k+(I<<17&4294967295|I>>>15),I=R+(A^D&(k^A))+O[3]+3250441966&4294967295,R=D+(I<<22&4294967295|I>>>10),I=A+(k^R&(D^k))+O[4]+4118548399&4294967295,A=R+(I<<7&4294967295|I>>>25),I=k+(D^A&(R^D))+O[5]+1200080426&4294967295,k=A+(I<<12&4294967295|I>>>20),I=D+(R^k&(A^R))+O[6]+2821735955&4294967295,D=k+(I<<17&4294967295|I>>>15),I=R+(A^D&(k^A))+O[7]+4249261313&4294967295,R=D+(I<<22&4294967295|I>>>10),I=A+(k^R&(D^k))+O[8]+1770035416&4294967295,A=R+(I<<7&4294967295|I>>>25),I=k+(D^A&(R^D))+O[9]+2336552879&4294967295,k=A+(I<<12&4294967295|I>>>20),I=D+(R^k&(A^R))+O[10]+4294925233&4294967295,D=k+(I<<17&4294967295|I>>>15),I=R+(A^D&(k^A))+O[11]+2304563134&4294967295,R=D+(I<<22&4294967295|I>>>10),I=A+(k^R&(D^k))+O[12]+1804603682&4294967295,A=R+(I<<7&4294967295|I>>>25),I=k+(D^A&(R^D))+O[13]+4254626195&4294967295,k=A+(I<<12&4294967295|I>>>20),I=D+(R^k&(A^R))+O[14]+2792965006&4294967295,D=k+(I<<17&4294967295|I>>>15),I=R+(A^D&(k^A))+O[15]+1236535329&4294967295,R=D+(I<<22&4294967295|I>>>10),I=A+(D^k&(R^D))+O[1]+4129170786&4294967295,A=R+(I<<5&4294967295|I>>>27),I=k+(R^D&(A^R))+O[6]+3225465664&4294967295,k=A+(I<<9&4294967295|I>>>23),I=D+(A^R&(k^A))+O[11]+643717713&4294967295,D=k+(I<<14&4294967295|I>>>18),I=R+(k^A&(D^k))+O[0]+3921069994&4294967295,R=D+(I<<20&4294967295|I>>>12),I=A+(D^k&(R^D))+O[5]+3593408605&4294967295,A=R+(I<<5&4294967295|I>>>27),I=k+(R^D&(A^R))+O[10]+38016083&4294967295,k=A+(I<<9&4294967295|I>>>23),I=D+(A^R&(k^A))+O[15]+3634488961&4294967295,D=k+(I<<14&4294967295|I>>>18),I=R+(k^A&(D^k))+O[4]+3889429448&4294967295,R=D+(I<<20&4294967295|I>>>12),I=A+(D^k&(R^D))+O[9]+568446438&4294967295,A=R+(I<<5&4294967295|I>>>27),I=k+(R^D&(A^R))+O[14]+3275163606&4294967295,k=A+(I<<9&4294967295|I>>>23),I=D+(A^R&(k^A))+O[3]+4107603335&4294967295,D=k+(I<<14&4294967295|I>>>18),I=R+(k^A&(D^k))+O[8]+1163531501&4294967295,R=D+(I<<20&4294967295|I>>>12),I=A+(D^k&(R^D))+O[13]+2850285829&4294967295,A=R+(I<<5&4294967295|I>>>27),I=k+(R^D&(A^R))+O[2]+4243563512&4294967295,k=A+(I<<9&4294967295|I>>>23),I=D+(A^R&(k^A))+O[7]+1735328473&4294967295,D=k+(I<<14&4294967295|I>>>18),I=R+(k^A&(D^k))+O[12]+2368359562&4294967295,R=D+(I<<20&4294967295|I>>>12),I=A+(R^D^k)+O[5]+4294588738&4294967295,A=R+(I<<4&4294967295|I>>>28),I=k+(A^R^D)+O[8]+2272392833&4294967295,k=A+(I<<11&4294967295|I>>>21),I=D+(k^A^R)+O[11]+1839030562&4294967295,D=k+(I<<16&4294967295|I>>>16),I=R+(D^k^A)+O[14]+4259657740&4294967295,R=D+(I<<23&4294967295|I>>>9),I=A+(R^D^k)+O[1]+2763975236&4294967295,A=R+(I<<4&4294967295|I>>>28),I=k+(A^R^D)+O[4]+1272893353&4294967295,k=A+(I<<11&4294967295|I>>>21),I=D+(k^A^R)+O[7]+4139469664&4294967295,D=k+(I<<16&4294967295|I>>>16),I=R+(D^k^A)+O[10]+3200236656&4294967295,R=D+(I<<23&4294967295|I>>>9),I=A+(R^D^k)+O[13]+681279174&4294967295,A=R+(I<<4&4294967295|I>>>28),I=k+(A^R^D)+O[0]+3936430074&4294967295,k=A+(I<<11&4294967295|I>>>21),I=D+(k^A^R)+O[3]+3572445317&4294967295,D=k+(I<<16&4294967295|I>>>16),I=R+(D^k^A)+O[6]+76029189&4294967295,R=D+(I<<23&4294967295|I>>>9),I=A+(R^D^k)+O[9]+3654602809&4294967295,A=R+(I<<4&4294967295|I>>>28),I=k+(A^R^D)+O[12]+3873151461&4294967295,k=A+(I<<11&4294967295|I>>>21),I=D+(k^A^R)+O[15]+530742520&4294967295,D=k+(I<<16&4294967295|I>>>16),I=R+(D^k^A)+O[2]+3299628645&4294967295,R=D+(I<<23&4294967295|I>>>9),I=A+(D^(R|~k))+O[0]+4096336452&4294967295,A=R+(I<<6&4294967295|I>>>26),I=k+(R^(A|~D))+O[7]+1126891415&4294967295,k=A+(I<<10&4294967295|I>>>22),I=D+(A^(k|~R))+O[14]+2878612391&4294967295,D=k+(I<<15&4294967295|I>>>17),I=R+(k^(D|~A))+O[5]+4237533241&4294967295,R=D+(I<<21&4294967295|I>>>11),I=A+(D^(R|~k))+O[12]+1700485571&4294967295,A=R+(I<<6&4294967295|I>>>26),I=k+(R^(A|~D))+O[3]+2399980690&4294967295,k=A+(I<<10&4294967295|I>>>22),I=D+(A^(k|~R))+O[10]+4293915773&4294967295,D=k+(I<<15&4294967295|I>>>17),I=R+(k^(D|~A))+O[1]+2240044497&4294967295,R=D+(I<<21&4294967295|I>>>11),I=A+(D^(R|~k))+O[8]+1873313359&4294967295,A=R+(I<<6&4294967295|I>>>26),I=k+(R^(A|~D))+O[15]+4264355552&4294967295,k=A+(I<<10&4294967295|I>>>22),I=D+(A^(k|~R))+O[6]+2734768916&4294967295,D=k+(I<<15&4294967295|I>>>17),I=R+(k^(D|~A))+O[13]+1309151649&4294967295,R=D+(I<<21&4294967295|I>>>11),I=A+(D^(R|~k))+O[4]+4149444226&4294967295,A=R+(I<<6&4294967295|I>>>26),I=k+(R^(A|~D))+O[11]+3174756917&4294967295,k=A+(I<<10&4294967295|I>>>22),I=D+(A^(k|~R))+O[2]+718787259&4294967295,D=k+(I<<15&4294967295|I>>>17),I=R+(k^(D|~A))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+k&4294967295}r.prototype.v=function(C,A){A===void 0&&(A=C.length);const R=A-this.blockSize,O=this.C;let D=this.h,k=0;for(;k<A;){if(D==0)for(;k<=R;)o(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<A;)if(O[D++]=C.charCodeAt(k++),D==this.blockSize){o(this,O),D=0;break}}else for(;k<A;)if(O[D++]=C[k++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=A},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)C[A++]=this.g[R]>>>O&255;return C};function u(C,A){var R=g;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=A(C)}function f(C,A){this.h=A;const R=[];let O=!0;for(let D=C.length-1;D>=0;D--){const k=C[D]|0;O&&k==A||(R[D]=k,O=!1)}this.g=R}var g={};function y(C){return-128<=C&&C<128?u(C,function(A){return new f([A|0],A<0?-1:0)}):new f([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return W(p(-C));const A=[];let R=1;for(let O=0;C>=R;O++)A[O]=C/R|0,R*=4294967296;return new f(A,0)}function T(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return W(T(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(A,8));let O=S;for(let k=0;k<C.length;k+=8){var D=Math.min(8,C.length-k);const I=parseInt(C.substring(k,k+D),A);D<8?(D=p(Math.pow(A,D)),O=O.j(D).add(p(I))):(O=O.j(R),O=O.add(p(I)))}return O}var S=y(0),N=y(1),B=y(16777216);s=f.prototype,s.m=function(){if(Z(this))return-W(this).m();let C=0,A=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);C+=(O>=0?O:4294967296+O)*A,A*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Q(this))return"0";if(Z(this))return"-"+W(this).toString(C);const A=p(Math.pow(C,6));var R=this;let O="";for(;;){const D=at(R,A).g;R=ut(R,D.j(A));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=D,Q(R))return k+O;for(;k.length<6;)k="0"+k;O=k+O}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Q(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function Z(C){return C.h==-1}s.l=function(C){return C=ut(this,C),Z(C)?-1:Q(C)?0:1};function W(C){const A=C.g.length,R=[];for(let O=0;O<A;O++)R[O]=~C.g[O];return new f(R,~C.h).add(N)}s.abs=function(){return Z(this)?W(this):this},s.add=function(C){const A=Math.max(this.g.length,C.g.length),R=[];let O=0;for(let D=0;D<=A;D++){let k=O+(this.i(D)&65535)+(C.i(D)&65535),I=(k>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);O=I>>>16,k&=65535,I&=65535,R[D]=I<<16|k}return new f(R,R[R.length-1]&-2147483648?-1:0)};function ut(C,A){return C.add(W(A))}s.j=function(C){if(Q(this)||Q(C))return S;if(Z(this))return Z(C)?W(this).j(W(C)):W(W(this).j(C));if(Z(C))return W(this.j(W(C)));if(this.l(B)<0&&C.l(B)<0)return p(this.m()*C.m());const A=this.g.length+C.g.length,R=[];for(var O=0;O<2*A;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<C.g.length;D++){const k=this.i(O)>>>16,I=this.i(O)&65535,Xt=C.i(D)>>>16,le=C.i(D)&65535;R[2*O+2*D]+=I*le,st(R,2*O+2*D),R[2*O+2*D+1]+=k*le,st(R,2*O+2*D+1),R[2*O+2*D+1]+=I*Xt,st(R,2*O+2*D+1),R[2*O+2*D+2]+=k*Xt,st(R,2*O+2*D+2)}for(C=0;C<A;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=A;C<2*A;C++)R[C]=0;return new f(R,0)};function st(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function tt(C,A){this.g=C,this.h=A}function at(C,A){if(Q(A))throw Error("division by zero");if(Q(C))return new tt(S,S);if(Z(C))return A=at(W(C),A),new tt(W(A.g),W(A.h));if(Z(A))return A=at(C,W(A)),new tt(W(A.g),A.h);if(C.g.length>30){if(Z(C)||Z(A))throw Error("slowDivide_ only works with positive integers.");for(var R=N,O=A;O.l(C)<=0;)R=yt(R),O=yt(O);var D=vt(R,1),k=vt(O,1);for(O=vt(O,2),R=vt(R,2);!Q(O);){var I=k.add(O);I.l(C)<=0&&(D=D.add(R),k=I),O=vt(O,1),R=vt(R,1)}return A=ut(C,D.j(A)),new tt(D,A)}for(D=S;C.l(A)>=0;){for(R=Math.max(1,Math.floor(C.m()/A.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),k=p(R),I=k.j(A);Z(I)||I.l(C)>0;)R-=O,k=p(R),I=k.j(A);Q(k)&&(k=N),D=D.add(k),C=ut(C,I)}return new tt(D,C)}s.B=function(C){return at(this,C).h},s.and=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)&C.i(O);return new f(R,this.h&C.h)},s.or=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)|C.i(O);return new f(R,this.h|C.h)},s.xor=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)^C.i(O);return new f(R,this.h^C.h)};function yt(C){const A=C.g.length+1,R=[];for(let O=0;O<A;O++)R[O]=C.i(O)<<1|C.i(O-1)>>>31;return new f(R,C.h)}function vt(C,A){const R=A>>5;A%=32;const O=C.g.length-R,D=[];for(let k=0;k<O;k++)D[k]=A>0?C.i(k+R)>>>A|C.i(k+R+1)<<32-A:C.i(k+R);return new f(D,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,GT=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=T,Js=f}).apply(typeof H0<"u"?H0:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var QT,Cl,KT,$c,pm,YT,XT,$T;(function(){var s,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(c,m){if(m)t:{var v=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var L=c[b];if(!(L in v))break t;v=v[L]}c=c[c.length-1],b=v[c],m=m(b),m!=b&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var u=u||{},f=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function y(c,m,v){return c.call.apply(c.bind,arguments)}function p(c,m,v){return p=y,p.apply(null,arguments)}function T(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function S(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(b,L,q){for(var et=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)et[wt-2]=arguments[wt];return m.prototype[L].apply(b,et)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function B(c){const m=c.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=c[b];return v}return[]}function Q(c,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const q=L.length||0;c.length=v+q;for(let et=0;et<q;et++)c[v+et]=L[et]}else c.push(L)}}class Z{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(c){f.setTimeout(()=>{throw c},0)}function ut(){var c=C;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class st{constructor(){this.h=this.g=null}add(m,v){const b=tt.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var tt=new Z(()=>new at,c=>c.reset());class at{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,vt=!1,C=new st,A=()=>{const c=Promise.resolve(void 0);yt=()=>{c.then(R)}};function R(){for(var c;c=ut();){try{c.h.call(c.g)}catch(v){W(v)}var m=tt;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}vt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function Xt(c,m){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(Xt,D),Xt.prototype.init=function(c,m){const v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Xt.Z.h.call(this)},Xt.prototype.h=function(){Xt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),F=0;function nt(c,m,v,b,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++F,this.da=this.fa=!1}function ft(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function zt(c,m,v){for(const b in c)m.call(v,c[b],b,c)}function Gt(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function V(c){const m={};for(const v in c)m[v]=c[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(c,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)c[v]=b[v];for(let q=0;q<X.length;q++)v=X[q],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function lt(c){this.src=c,this.g={},this.h=0}lt.prototype.add=function(c,m,v,b,L){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const et=It(c,m,b,L);return et>-1?(m=c[et],v||(m.fa=!1)):(m=new nt(m,this.src,q,!!b,L),m.fa=v,c.push(m)),m};function Et(c,m){const v=m.type;if(v in c.g){var b=c.g[v],L=Array.prototype.indexOf.call(b,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(b,L,1),q&&(ft(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function It(c,m,v,b){for(let L=0;L<c.length;++L){const q=c[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==b)return L}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Ve={};function re(c,m,v,b,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)re(c,m[q],v,b,L);return null}return v=bo(v),c&&c[le]?c.J(m,v,g(b)?!!b.capture:!1,L):hr(c,m,v,!1,b,L)}function hr(c,m,v,b,L,q){if(!m)throw Error("Invalid event type");const et=g(L)?!!L.capture:!!L;let wt=fr(c);if(wt||(c[Lt]=wt=new lt(c)),v=wt.add(m,v,b,et,q),v.proxy)return v;if(b=ia(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)k||(L=et),L===void 0&&(L=!1),c.addEventListener(m.toString(),b,L);else if(c.attachEvent)c.attachEvent(si(m.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ia(){function c(v){return m.call(c.src,c.listener,v)}const m=To;return c}function sa(c,m,v,b,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)sa(c,m[q],v,b,L);else b=g(b)?!!b.capture:!!b,v=bo(v),c&&c[le]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],v=It(m,v,b,L),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=fr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=It(m,v,b,L)),(v=c>-1?m[c]:null)&&ra(v))}function ra(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[le])Et(m.i,c);else{var v=c.type,b=c.proxy;m.removeEventListener?m.removeEventListener(v,b,c.capture):m.detachEvent?m.detachEvent(si(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=fr(m))?(Et(v,c),v.h==0&&(v.src=null,m[Lt]=null)):ft(c)}}}function si(c){return c in Ve?Ve[c]:Ve[c]="on"+c}function To(c,m){if(c.da)c=!0;else{m=new Xt(m,this);const v=c.listener,b=c.ha||c.src;c.fa&&ra(c),c=v.call(b,m)}return c}function fr(c){return c=c[Lt],c instanceof lt?c:null}var Eo="__closure_events_fn_"+(Math.random()*1e9>>>0);function bo(c){return typeof c=="function"?c:(c[Eo]||(c[Eo]=function(m){return c.handleEvent(m)}),c[Eo])}function Ee(){O.call(this),this.i=new lt(this),this.M=this,this.G=null}S(Ee,O),Ee.prototype[le]=!0,Ee.prototype.removeEventListener=function(c,m,v,b){sa(this,c,m,v,b)};function ke(c,m){var v,b=c.G;if(b)for(v=[];b;b=b.G)v.push(b);if(c=c.M,b=m.type||m,typeof m=="string")m=new D(m,c);else if(m instanceof D)m.target=m.target||c;else{var L=m;m=new D(b,c),it(m,L)}L=!0;let q,et;if(v)for(et=v.length-1;et>=0;et--)q=m.g=v[et],L=ls(q,b,!0,m)&&L;if(q=m.g=c,L=ls(q,b,!0,m)&&L,L=ls(q,b,!1,m)&&L,v)for(et=0;et<v.length;et++)q=m.g=v[et],L=ls(q,b,!1,m)&&L}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let b=0;b<v.length;b++)ft(v[b]);delete c.g[m],c.h--}}this.G=null},Ee.prototype.J=function(c,m,v,b){return this.i.add(String(c),m,!1,v,b)},Ee.prototype.K=function(c,m,v,b){return this.i.add(String(c),m,!0,v,b)};function ls(c,m,v,b){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const et=m[q];if(et&&!et.da&&et.capture==v){const wt=et.listener,pe=et.ha||et.src;et.fa&&Et(c.i,et),L=wt.call(pe,b)!==!1&&L}}return L&&!b.defaultPrevented}function qh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function lu(c){c.g=qh(()=>{c.g=null,c.i&&(c.i=!1,lu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class nn extends O{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:lu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dr(c){O.call(this),this.h=c,this.g={}}S(dr,O);var Ao=[];function So(c){zt(c.g,function(m,v){this.g.hasOwnProperty(v)&&ra(m)},c),c.g={}}dr.prototype.N=function(){dr.Z.N.call(this),So(this)},dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var us=f.JSON.stringify,Hh=f.JSON.parse,uu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function cu(){}function hu(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){D.call(this,"d")}S(qe,D);function In(){D.call(this,"c")}S(In,D);var ge={},fu=null;function aa(){return fu=fu||new Ee}ge.Ia="serverreachability";function du(c){D.call(this,ge.Ia,c)}S(du,D);function ri(c){const m=aa();ke(m,new du(m))}ge.STAT_EVENT="statevent";function mr(c,m){D.call(this,ge.STAT_EVENT,c),this.stat=m}S(mr,D);function be(c){const m=aa();ke(m,new mr(m,c))}ge.Ja="timingevent";function ai(c,m){D.call(this,ge.Ja,c),this.size=m}S(ai,D);function oi(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function Fh(c,m,v,b,L,q){c.info(function(){if(c.g)if(q){var et="",wt=q.split("&");for(let qt=0;qt<wt.length;qt++){var pe=wt[qt].split("=");if(pe.length>1){const ae=pe[0];pe=pe[1];const Dn=ae.split("_");et=Dn.length>=2&&Dn[1]=="type"?et+(ae+"="+pe+"&"):et+(ae+"=redacted&")}}}else et=null;else et=q;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+et})}function mu(c,m,v,b,L,q,et){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+et})}function li(c,m,v,b){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Gh(c,v)+(b?" "+b:"")})}function gr(c,m){c.info(function(){return"TIMEOUT: "+m})}Hn.prototype.info=function(){};function Gh(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<b.length;et++)b[et]=""}}}}return us(q)}catch{return m}}var pr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ro;function yr(){}S(yr,cu),yr.prototype.g=function(){return new XMLHttpRequest},Ro=new yr;function Ui(c){return encodeURIComponent(String(c))}function gu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Fn(c,m,v,b){this.j=c,this.i=m,this.l=v,this.S=b||1,this.V=new dr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Ae={},Pe={};function ui(c,m,v){c.M=1,c.A=_r(we(m)),c.u=v,c.R=!0,oa(c,null)}function oa(c,m){c.F=Date.now(),ci(c),c.B=we(c.A);var v=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),ha(v.i,"t",b),c.C=0,v=c.j.L,c.h=new Gn,c.g=Nu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new nn(p(c.Y,c,c.g),c.P)),m=c.V,v=c.g,b=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Ao[0]=L.toString()),L=Ao);for(let q=0;q<L.length;q++){const et=re(v,L[q],b||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ri(),Fh(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Yn(c)==3?m.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)t:{const wt=Yn(this.g),pe=this.g.ya(),qt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||He(this.g)))){this.K||wt!=4||pe==7||(pe==8||qt<=0?ri(3):ri(2)),hi(this);var m=this.g.ca();this.X=m;var v=Qh(this);if(this.o=m==200,mu(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(b)){var q=b;break e}}q=null}if(c=q)li(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,c);else{this.o=!1,this.m=3,be(12),pn(this),Cn(this);break t}}if(this.R){c=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=yu(this,v),ae==Pe){wt==4&&(this.m=4,be(14),c=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==Ae){this.m=4,be(15),li(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else li(this.i,this.l,ae,null),fi(this,ae);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,be(16),c=!1),this.o=this.o&&c,!c)li(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Bo(et),et.P=!0,be(11))}}else li(this.i,this.l,v,null),fi(this,v);wt==4&&pn(this),this.o&&!this.K&&(wt==4?Ru(this.j,this):(this.o=!1,ci(this)))}else Pi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),pn(this),Cn(this)}}}catch{}};function Qh(c){if(!pu(c))return c.g.la();const m=He(c.g);if(m==="")return"";let v="";const b=m.length,L=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Cn(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<b;q++)c.h.h=!0,v+=c.h.i.decode(m[q],{stream:!(L&&q==b-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function pu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function yu(c,m){var v=c.C,b=m.indexOf(`
`,v);return b==-1?Pe:(v=Number(m.substring(v,b)),isNaN(v)?Ae:(b+=1,b+v>m.length?Pe:(m=m.slice(b,b+v),c.C=b+v,m)))}Fn.prototype.cancel=function(){this.K=!0,pn(this)};function ci(c){c.T=Date.now()+c.H,la(c,c.H)}function la(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=oi(p(c.aa,c),m)}function hi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(gr(this.i,this.B),this.M!=2&&(ri(),be(17)),pn(this),this.m=2,Cn(this)):la(this,this.T-c)};function Cn(c){c.j.I==0||c.K||Ru(c.j,c)}function pn(c){hi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,So(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function fi(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||mi(v.h,c))){if(!c.L&&mi(v.h,c)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)pa(v),ys(v);else break t;wr(v),be(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=oi(p(v.Va,v),6e3));di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((c.L||v.g==c)&&pa(v),!I(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let qt=L[m];const ae=qt[0];if(!(ae<=v.K))if(v.K=ae,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const Dn=qt[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const Ei=qt[4];Ei!=null&&(v.za=Ei,v.j.info("SVER="+v.za));const Xn=qt[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(b=1.5*Xn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const $n=c.g;if($n){const Rr=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rr){var q=b.h;q.g||Rr.indexOf("spdy")==-1&&Rr.indexOf("quic")==-1&&Rr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(xo(q,q.h),q.h=null))}if(b.G){const ya=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(b.wa=ya,Qt(b.J,b.G,ya))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var et=c;if(b.na=xu(b,b.L?b.ba:null,b.W),et.L){No(b.h,et);var wt=et,pe=b.O;pe&&(wt.H=pe),wt.D&&(hi(wt),ci(wt)),b.g=et}else Su(b);v.i.length>0&&vi(v)}else qt[0]!="stop"&&qt[0]!="close"||Ti(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?Ti(v,7):zo(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}ri(4)}catch{}}var Se=class{constructor(c,m){this.g=c,this.map=m}};function Io(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Co(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function di(c){return c.h?1:c.g?c.g.size:0}function mi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function xo(c,m){c.g?c.g.add(m):c.h=m}function No(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Io.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Do(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return B(c.i)}var _u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const b=c[v].indexOf("=");let L,q=null;b>=0?(L=c[v].substring(0,b),q=c[v].substring(b+1)):L=c[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof yn?(this.l=c.l,ze(this,c.j),this.o=c.o,this.g=c.g,cs(this,c.u),this.h=c.h,Oo(this,bu(c.i)),this.m=c.m):c&&(m=String(c).match(_u))?(this.l=!1,ze(this,m[1]||"",!0),this.o=gi(m[2]||""),this.g=gi(m[3]||"",!0),cs(this,m[4]),this.h=gi(m[5]||"",!0),Oo(this,m[6]||"",!0),this.m=gi(m[7]||"")):(this.l=!1,this.i=new fs(null,this.l))}yn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(vr(m,ca,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(vr(m,ca,!0),"@"),c.push(Ui(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(vr(v,v.charAt(0)=="/"?Mo:vu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",vr(v,Tu)),c.join("")},yn.prototype.resolve=function(c){const m=we(this);let v=!!c.j;v?ze(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var b=c.h;if(v)cs(m,c.u);else if(v=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let et=0;et<L.length;){const wt=L[et++];wt=="."?b&&et==L.length&&q.push(""):wt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&et==L.length&&q.push("")):(q.push(wt),b=!0)}b=q.join("/")}else b=L}return v?m.h=b:v=c.i.toString()!=="",v?Oo(m,bu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function we(c){return new yn(c)}function ze(c,m,v){c.j=v?gi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function cs(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Oo(c,m,v){m instanceof fs?(c.i=m,fa(c.i,c.l)):(v||(m=vr(m,hs)),c.i=new fs(m,c.l))}function Qt(c,m,v){c.i.set(m,v)}function _r(c){return Qt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function gi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vr(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,on),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ca=/[#\/\?@]/g,vu=/[#\?:]/g,Mo=/[#\?]/g,hs=/[#\?@]/g,Tu=/#/g;function fs(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&ua(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=fs.prototype,s.add=function(c,m){ln(this),this.i=null,c=ds(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Eu(c,m){ln(c),m=ds(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Vo(c,m){return ln(c),m=ds(c,m),c.g.has(m)}s.forEach=function(c,m){ln(this),this.g.forEach(function(v,b){v.forEach(function(L){c.call(m,L,b,this)},this)},this)};function ko(c,m){ln(c);let v=[];if(typeof m=="string")Vo(c,m)&&(v=v.concat(c.g.get(ds(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return ln(this),this.i=null,c=ds(this,c),Vo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=ko(this,c),c.length>0?String(c[0]):m):m};function ha(c,m,v){Eu(c,m),v.length>0&&(c.i=null,c.g.set(ds(c,m),B(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=Ui(v);v=ko(this,v);for(let q=0;q<v.length;q++){let et=L;v[q]!==""&&(et+="="+Ui(v[q])),c.push(et)}}return this.i=c.join("&")};function bu(c){const m=new fs;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function ds(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function fa(c,m){m&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(Eu(this,b),ha(this,L,v))},c)),c.j=m}function Qn(c,m){const v=new Hn;if(f.Image){const b=new Image;b.onload=T(xn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=T(xn,v,"TestLoadImage: error",!1,m,b),b.onabort=T(xn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=T(xn,v,"TestLoadImage: timeout",!1,m,b),f.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else m(!1)}function Uo(c,m){const v=new Hn,b=new AbortController,L=setTimeout(()=>{b.abort(),xn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:b.signal}).then(q=>{clearTimeout(L),q.ok?xn(v,"TestPingServer: ok",!0,m):xn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),xn(v,"TestPingServer: error",!1,m)})}function xn(c,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function ms(){this.g=new uu}function pi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(pi,cu),pi.prototype.g=function(){return new Tr(this.i,this.h)};function Tr(c,m){Ee.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Tr,Ee),s=Tr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Kn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gs(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;da(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function da(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?gs(this):Kn(this),this.readyState==3&&da(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,gs(this))},s.Na=function(c){this.g&&(this.response=c,gs(this))},s.ga=function(){this.g&&gs(this)};function gs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Kn(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Kn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nn(c){let m="";return zt(c,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Er(c,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Nn(v),typeof c=="string"?v!=null&&Ui(v):Qt(c,m,v))}function $t(c){Ee.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S($t,Ee);var yi=/^https?$/i,Lo=["POST","PUT"];s=$t.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ro.g(),this.g.onreadystatechange=N(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){br(this,q);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())v.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Lo,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of v)this.g.setRequestHeader(q,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){br(this,q)}};function br(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Po(c),Li(c)}function Po(c){c.A||(c.A=!0,ke(c,"complete"),ke(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ke(this,"complete"),ke(this,"abort"),Li(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),$t.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ar(this):this.Xa())},s.Xa=function(){Ar(this)};function Ar(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(ke(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const q=c.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=q===0){let et=String(c.D).match(_u)[1]||null;!et&&f.self&&f.self.location&&(et=f.self.location.protocol.slice(0,-1)),b=!yi.test(et?et.toLowerCase():"")}v=b}if(v)ke(c,"complete"),ke(c,"success");else{c.o=6;try{var L=Yn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Po(c)}}finally{Li(c)}}}}function Li(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||ke(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Hh(m)}};function He(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(c){const m={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(I(c[b]))continue;var v=gu(c[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}Gt(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function ps(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,c),this.Za=_i("retryDelaySeedMs",1e4,c),this.Ta=_i("forwardChannelMaxRetries",2,c),this.va=_i("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Io(c&&c.concurrentRequestLimit),this.Ba=new ms,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ps.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,b){be(0),this.W=c,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=xu(this,null,this.W),vi(this)};function zo(c){if(ma(c),c.I==3){var m=c.V++,v=we(c.J);if(Qt(v,"SID",c.M),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),Sr(c,v),m=new Fn(c,c.j,m),m.M=2,m.A=_r(we(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.A,v=!0),v||(m.g=Nu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ci(m)}Cu(c)}function ys(c){c.g&&(Bo(c),c.g.cancel(),c.g=null)}function ma(c){ys(c),c.v&&(f.clearTimeout(c.v),c.v=null),pa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function vi(c){if(!Co(c.h)&&!c.m){c.m=!0;var m=c.Ea;yt||A(),vt||(yt(),vt=!0),C.add(m,c),c.D=0}}function ga(c,m){return di(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=oi(p(c.Ea,c,m),Iu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Fn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=V(q),it(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Au(this,L,m),v=we(this.J),Qt(v,"RID",c),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),Sr(this,v),q&&(this.R?m="headers="+Ui(Nn(q))+"&"+m:this.u&&Er(v,this.u,q)),xo(this.h,L),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",m),Qt(v,"SID","null"),L.U=!0,ui(L,v,null)):ui(L,v,m),this.I=2}}else this.I==3&&(c?jo(this,c):this.i.length==0||Co(this.h)||jo(this))};function jo(c,m){var v;m?v=m.l:v=c.V++;const b=we(c.J);Qt(b,"SID",c.M),Qt(b,"RID",v),Qt(b,"AID",c.K),Sr(c,b),c.u&&c.o&&Er(b,c.u,c.o),v=new Fn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Au(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),xo(c.h,v),ui(v,b,m)}function Sr(c,m){c.H&&zt(c.H,function(v,b){Qt(m,b,v)}),c.l&&zt({},function(v,b){Qt(m,b,v)})}function Au(c,m,v){v=Math.min(c.i.length,v);const b=c.l?p(c.l.Ka,c.l,c):null;t:{var L=c.i;let wt=-1;for(;;){const pe=["count="+v];wt==-1?v>0?(wt=L[0].g,pe.push("ofs="+wt)):wt=0:pe.push("ofs="+wt);let qt=!0;for(let ae=0;ae<v;ae++){var q=L[ae].g;const Dn=L[ae].map;if(q-=wt,q<0)wt=Math.max(0,L[ae].g-100),qt=!1;else try{q="req"+q+"_"||"";try{var et=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Ei,Xn]of et){let $n=Xn;g(Xn)&&($n=us(Xn)),pe.push(q+Ei+"="+encodeURIComponent($n))}}catch(Ei){throw pe.push(q+"type="+encodeURIComponent("_badmap")),Ei}}catch{b&&b(Dn)}}if(qt){et=pe.join("&");break t}}et=void 0}return c=c.i.splice(0,v),m.G=c,et}function Su(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;yt||A(),vt||(yt(),vt=!0),C.add(m,c),c.A=0}}function wr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=oi(p(c.Da,c),Iu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,wu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=oi(p(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),ys(this),wu(this))};function Bo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function wu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=we(c.na);Qt(m,"RID","rpc"),Qt(m,"SID",c.M),Qt(m,"AID",c.K),Qt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qt(m,"TO",c.ia),Qt(m,"TYPE","xmlhttp"),Sr(c,m),c.u&&c.o&&Er(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=_r(we(m)),v.u=null,v.R=!0,oa(v,c)}s.Va=function(){this.C!=null&&(this.C=null,ys(this),wr(this),be(19))};function pa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Ru(c,m){var v=null;if(c.g==m){pa(c),Bo(c),c.g=null;var b=2}else if(mi(c.h,m))v=m.G,No(c.h,m),b=1;else return;if(c.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;b=aa(),ke(b,new ai(b,v)),vi(c)}else Su(c);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&ga(c,m)||b==2&&wr(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function Iu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Ti(c,m){if(c.j.info("Error code "+m),m==2){var v=p(c.bb,c),b=c.Ua;const L=!b;b=new yn(b||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ze(b,"https"),_r(b),L?Qn(b.toString(),v):Uo(b.toString(),v)}else be(2);c.I=0,c.l&&c.l.pa(m),Cu(c),ma(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function Cu(c){if(c.I=0,c.ja=[],c.l){const m=Do(c.h);(m.length!=0||c.i.length!=0)&&(Q(c.ja,m),Q(c.ja,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.oa()}}function xu(c,m,v){var b=v instanceof yn?we(v):new yn(v);if(b.g!="")m&&(b.g=m+"."+b.g),cs(b,b.u);else{var L=f.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new yn(null);b&&ze(q,b),m&&(q.g=m),L&&cs(q,L),v&&(q.h=v),b=q}return v=c.G,m=c.wa,v&&m&&Qt(b,v,m),Qt(b,"VER",c.ka),Sr(c,b),b}function Nu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new $t(new pi({ab:v})):new $t(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}s=Du.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function _s(){}_s.prototype.g=function(c,m){return new sn(c,m)};function sn(c,m){Ee.call(this),this.g=new ps(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!I(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new zi(this)}S(sn,Ee),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){zo(this.g)},sn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=us(c),c=v);m.i.push(new Se(m.Ya++,c)),m.I==3&&vi(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,sn.Z.N.call(this)};function Ou(c){qe.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(Ou,qe);function Mu(){In.call(this),this.status=1}S(Mu,In);function zi(c){this.g=c}S(zi,Du),zi.prototype.ra=function(){ke(this.g,"a")},zi.prototype.qa=function(c){ke(this.g,new Ou(c))},zi.prototype.pa=function(c){ke(this.g,new Mu)},zi.prototype.oa=function(){ke(this.g,"b")},_s.prototype.createWebChannel=_s.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,$T=function(){return new _s},XT=function(){return aa()},YT=ge,pm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pr.NO_ERROR=0,pr.TIMEOUT=8,pr.HTTP_ERROR=6,$c=pr,wo.COMPLETE="complete",KT=wo,hu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,Cl=hu,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,QT=$t}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});class We{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");let mo="12.8.0";function uR(s){mo=s}const $r=new zm("@firebase/firestore");function Ka(){return $r.logLevel}function ot(s,...t){if($r.logLevel<=Mt.DEBUG){const n=t.map(Xm);$r.debug(`Firestore (${mo}): ${s}`,...n)}}function as(s,...t){if($r.logLevel<=Mt.ERROR){const n=t.map(Xm);$r.error(`Firestore (${mo}): ${s}`,...n)}}function so(s,...t){if($r.logLevel<=Mt.WARN){const n=t.map(Xm);$r.warn(`Firestore (${mo}): ${s}`,...n)}}function Xm(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function _t(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,JT(s,r,n)}function JT(s,t,n){let r=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw as(r),new Error(r)}function Ft(s,t,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||JT(t,o,r)}function St(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends ki{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class ZT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class cR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(We.UNAUTHENTICATED)))}shutdown(){}}class hR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class fR{constructor(t){this.t=t,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let u=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Fr,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=u;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Fr)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft(typeof r.accessToken=="string",31837,{l:r}),new ZT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new We(t)}}class dR{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=We.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class mR{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new dR(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(We.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class F0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const r=u=>{u.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ot("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new F0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new F0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function pR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class $m{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=pR(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=t.charAt(o[u]%62))}return r}}function Vt(s,t){return s<t?-1:s>t?1:0}function ym(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=t.charAt(r);if(o!==u)return tm(o)===tm(u)?Vt(o,u):tm(o)?1:-1}return Vt(s.length,t.length)}const yR=55296,_R=57343;function tm(s){const t=s.charCodeAt(0);return t>=yR&&t<=_R}function ro(s,t,n){return s.length===t.length&&s.every(((r,o)=>n(r,t[o])))}const G0="__name__";class Ri{constructor(t,n,r){n===void 0?n=0:n>t.length&&_t(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&_t(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ri.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ri?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const u=Ri.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Vt(t.length,n.length)}static compareSegments(t,n){const r=Ri.isNumericId(t),o=Ri.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Ri.extractNumericId(t).compare(Ri.extractNumericId(n)):ym(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Js.fromString(t.substring(4,t.length-2))}}class ee extends Ri{construct(t,n,r){return new ee(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new rt($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new ee(n)}static emptyPath(){return new ee([])}}const vR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends Ri{construct(t,n,r){return new Xe(t,n,r)}static isValidIdentifier(t){return vR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===G0}static keyField(){return new Xe([G0])}static fromServerFormat(t){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new rt($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new rt($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new rt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(r+=g,o++):(u(),o++)}if(u(),f)throw new rt($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(n)}static emptyPath(){return new Xe([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ee.fromString(t))}static fromName(t){return new gt(ee.fromString(t).popFirst(5))}static empty(){return new gt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ee(t.slice()))}}function WT(s,t,n){if(!n)throw new rt($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function TR(s,t,n,r){if(t===!0&&r===!0)throw new rt($.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Q0(s){if(!gt.isDocumentKey(s))throw new rt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function K0(s){if(gt.isDocumentKey(s))throw new rt($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function tE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Ch(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":_t(12329,{type:typeof s})}function Zs(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new rt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ch(s);throw new rt($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}function Oe(s,t){const n={typeString:s};return t&&(n.value=t),n}function nu(s,t){if(!tE(s))throw new rt($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new rt($.INVALID_ARGUMENT,n);return!0}const Y0=-62135596800,X0=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*X0);return new se(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new rt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Y0)throw new rt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/X0}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(nu(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Y0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Oe("string",se._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new se(0,0))}static max(){return new bt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ql=-1;function ER(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(r===1e9?new se(n+1,0):new se(n,r));return new nr(o,gt.empty(),t)}function bR(s){return new nr(s.readTime,s.key,ql)}class nr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new nr(bt.min(),gt.empty(),ql)}static max(){return new nr(bt.max(),gt.empty(),ql)}}function AR(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=gt.comparator(s.documentKey,t.documentKey),n!==0?n:Vt(s.largestBatchId,t.largestBatchId))}const SR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function go(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==SR)throw s;ot("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new J(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):J.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):J.reject(n)}static resolve(t){return new J(((n,r)=>{n(t)}))}static reject(t){return new J(((n,r)=>{r(t)}))}static waitFor(t){return new J(((n,r)=>{let o=0,u=0,f=!1;t.forEach((g=>{++o,g.next((()=>{++u,f&&u===o&&n()}),(y=>r(y)))})),f=!0,u===o&&n()}))}static or(t){let n=J.resolve(!1);for(const r of t)n=n.next((o=>o?J.resolve(o):r()));return n}static forEach(t,n){const r=[];return t.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(t,n){return new J(((r,o)=>{const u=t.length,f=new Array(u);let g=0;for(let y=0;y<u;y++){const p=y;n(t[p]).next((T=>{f[p]=T,++g,g===u&&r(f)}),(T=>o(T)))}}))}static doWhile(t,n){return new J(((r,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):r()};u()}))}}function RR(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function po(s){return s.name==="IndexedDbTransactionError"}class xh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}xh.ce=-1;const Jm=-1;function Nh(s){return s==null}function ch(s){return s===0&&1/s==-1/0}function IR(s){return typeof s=="number"&&Number.isInteger(s)&&!ch(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const eE="";function CR(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=$0(t)),t=xR(s.get(n),t);return $0(t)}function xR(s,t){let n=t;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case eE:n+="";break;default:n+=u}}return n}function $0(s){return s+eE+""}function J0(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function ur(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function nE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ue{constructor(t,n){this.comparator=t,this.root=n||Ye.EMPTY}insert(t,n){return new ue(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new zc(this.root,t,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new zc(this.root,t,this.comparator,!0)}}class zc{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ye{constructor(t,n,r,o,u){this.key=t,this.value=n,this.color=r??Ye.RED,this.left=o??Ye.EMPTY,this.right=u??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,u){return new Ye(t??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ye.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,n,r,o,u){return this}insert(t,n,r){return new Ye(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Le{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Z0(this.data.getIterator())}getIteratorFrom(t){return new Z0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Le)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Le(this.comparator);return n.data=t,n}}class Z0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new wn([])}unionWith(t){let n=new Le(Xe.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new wn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ro(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class iE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new iE("Invalid base64 string: "+u):u}})(t);return new $e(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new $e(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const NR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(s){if(Ft(!!s,39018),typeof s=="string"){let t=0;const n=NR.exec(s);if(Ft(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ve(s.seconds),nanos:ve(s.nanos)}}function ve(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function sr(s){return typeof s=="string"?$e.fromBase64String(s):$e.fromUint8Array(s)}const sE="server_timestamp",rE="__type__",aE="__previous_value__",oE="__local_write_time__";function Zm(s){return(s?.mapValue?.fields||{})[rE]?.stringValue===sE}function Dh(s){const t=s.mapValue.fields[aE];return Zm(t)?Dh(t):t}function Hl(s){const t=ir(s.mapValue.fields[oE].timestampValue);return new se(t.seconds,t.nanos)}class DR{constructor(t,n,r,o,u,f,g,y,p,T,S){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=T,this.apiKey=S}}const hh="(default)";class Fl{constructor(t,n){this.projectId=t,this.database=n||hh}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database===hh}isEqual(t){return t instanceof Fl&&t.projectId===this.projectId&&t.database===this.database}}function OR(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new rt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(s.options.projectId,t)}const lE="__type__",MR="__max__",jc={mapValue:{}},uE="__vector__",fh="value";function rr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Zm(s)?4:kR(s)?9007199254740991:VR(s)?10:11:_t(28295,{value:s})}function Vi(s,t){if(s===t)return!0;const n=rr(s);if(n!==rr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Hl(s).isEqual(Hl(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ir(o.timestampValue),g=ir(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,u){return sr(o.bytesValue).isEqual(sr(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,u){return ve(o.geoPointValue.latitude)===ve(u.geoPointValue.latitude)&&ve(o.geoPointValue.longitude)===ve(u.geoPointValue.longitude)})(s,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ve(o.integerValue)===ve(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ve(o.doubleValue),g=ve(u.doubleValue);return f===g?ch(f)===ch(g):isNaN(f)&&isNaN(g)}return!1})(s,t);case 9:return ro(s.arrayValue.values||[],t.arrayValue.values||[],Vi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},g=u.mapValue.fields||{};if(J0(f)!==J0(g))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(g[y]===void 0||!Vi(f[y],g[y])))return!1;return!0})(s,t);default:return _t(52216,{left:s})}}function Gl(s,t){return(s.values||[]).find((n=>Vi(n,t)))!==void 0}function ao(s,t){if(s===t)return 0;const n=rr(s),r=rr(t);if(n!==r)return Vt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(s.booleanValue,t.booleanValue);case 2:return(function(u,f){const g=ve(u.integerValue||u.doubleValue),y=ve(f.integerValue||f.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,t);case 3:return W0(s.timestampValue,t.timestampValue);case 4:return W0(Hl(s),Hl(t));case 5:return ym(s.stringValue,t.stringValue);case 6:return(function(u,f){const g=sr(u),y=sr(f);return g.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(u,f){const g=u.split("/"),y=f.split("/");for(let p=0;p<g.length&&p<y.length;p++){const T=Vt(g[p],y[p]);if(T!==0)return T}return Vt(g.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,f){const g=Vt(ve(u.latitude),ve(f.latitude));return g!==0?g:Vt(ve(u.longitude),ve(f.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return tv(s.arrayValue,t.arrayValue);case 10:return(function(u,f){const g=u.fields||{},y=f.fields||{},p=g[fh]?.arrayValue,T=y[fh]?.arrayValue,S=Vt(p?.values?.length||0,T?.values?.length||0);return S!==0?S:tv(p,T)})(s.mapValue,t.mapValue);case 11:return(function(u,f){if(u===jc.mapValue&&f===jc.mapValue)return 0;if(u===jc.mapValue)return 1;if(f===jc.mapValue)return-1;const g=u.fields||{},y=Object.keys(g),p=f.fields||{},T=Object.keys(p);y.sort(),T.sort();for(let S=0;S<y.length&&S<T.length;++S){const N=ym(y[S],T[S]);if(N!==0)return N;const B=ao(g[y[S]],p[T[S]]);if(B!==0)return B}return Vt(y.length,T.length)})(s.mapValue,t.mapValue);default:throw _t(23264,{he:n})}}function W0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Vt(s,t);const n=ir(s),r=ir(t),o=Vt(n.seconds,r.seconds);return o!==0?o:Vt(n.nanos,r.nanos)}function tv(s,t){const n=s.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=ao(n[o],r[o]);if(u)return u}return Vt(n.length,r.length)}function oo(s){return _m(s)}function _m(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=ir(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return sr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return gt.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=_m(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${_m(n.fields[f])}`;return o+"}"})(s.mapValue):_t(61005,{value:s})}function Jc(s){switch(rr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Dh(s);return t?16+Jc(t):16;case 5:return 2*s.stringValue.length;case 6:return sr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Jc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return ur(r.fields,((u,f)=>{o+=u.length+Jc(f)})),o})(s.mapValue);default:throw _t(13486,{value:s})}}function ev(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function vm(s){return!!s&&"integerValue"in s}function Wm(s){return!!s&&"arrayValue"in s}function nv(s){return!!s&&"nullValue"in s}function iv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Zc(s){return!!s&&"mapValue"in s}function VR(s){return(s?.mapValue?.fields||{})[lE]?.stringValue===uE}function kl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return ur(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=kl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=kl(s.arrayValue.values[n]);return t}return{...s}}function kR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===MR}class gn{constructor(t){this.value=t}static empty(){return new gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Zc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=kl(n)}setAll(t){let n=Xe.emptyPath(),r={},o=[];t.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,r,o),r={},o=[],n=g.popLast()}f?r[g.lastSegment()]=kl(f):o.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(t){const n=this.field(t.popLast());Zc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Vi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];Zc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){ur(n,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new gn(kl(this.value))}}function cE(s){const t=[];return ur(s.fields,((n,r)=>{const o=new Xe([n]);if(Zc(r)){const u=cE(r.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new wn(t)}class tn{constructor(t,n,r,o,u,f,g){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(t){return new tn(t,0,bt.min(),bt.min(),bt.min(),gn.empty(),0)}static newFoundDocument(t,n,r,o){return new tn(t,1,n,bt.min(),r,o,0)}static newNoDocument(t,n){return new tn(t,2,n,bt.min(),bt.min(),gn.empty(),0)}static newUnknownDocument(t,n){return new tn(t,3,n,bt.min(),bt.min(),gn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dh{constructor(t,n){this.position=t,this.inclusive=n}}function sv(s,t,n){let r=0;for(let o=0;o<s.position.length;o++){const u=t[o],f=s.position[o];if(u.field.isKeyField()?r=gt.comparator(gt.fromName(f.referenceValue),n.key):r=ao(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function rv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Vi(s.position[n],t.position[n]))return!1;return!0}class Ql{constructor(t,n="asc"){this.field=t,this.dir=n}}function UR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class hE{}class De extends hE{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new PR(t,n,r):n==="array-contains"?new BR(t,r):n==="in"?new qR(t,r):n==="not-in"?new HR(t,r):n==="array-contains-any"?new FR(t,r):new De(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new zR(t,r):new jR(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ao(n,this.value)):n!==null&&rr(this.value)===rr(n)&&this.matchesComparison(ao(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends hE{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ii(t,n)}matches(t){return fE(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fE(s){return s.op==="and"}function dE(s){return LR(s)&&fE(s)}function LR(s){for(const t of s.filters)if(t instanceof ii)return!1;return!0}function Tm(s){if(s instanceof De)return s.field.canonicalString()+s.op.toString()+oo(s.value);if(dE(s))return s.filters.map((t=>Tm(t))).join(",");{const t=s.filters.map((n=>Tm(n))).join(",");return`${s.op}(${t})`}}function mE(s,t){return s instanceof De?(function(r,o){return o instanceof De&&r.op===o.op&&r.field.isEqual(o.field)&&Vi(r.value,o.value)})(s,t):s instanceof ii?(function(r,o){return o instanceof ii&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,g)=>u&&mE(f,o.filters[g])),!0):!1})(s,t):void _t(19439)}function gE(s){return s instanceof De?(function(n){return`${n.field.canonicalString()} ${n.op} ${oo(n.value)}`})(s):s instanceof ii?(function(n){return n.op.toString()+" {"+n.getFilters().map(gE).join(" ,")+"}"})(s):"Filter"}class PR extends De{constructor(t,n,r){super(t,n,r),this.key=gt.fromName(r.referenceValue)}matches(t){const n=gt.comparator(t.key,this.key);return this.matchesComparison(n)}}class zR extends De{constructor(t,n){super(t,"in",n),this.keys=pE("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class jR extends De{constructor(t,n){super(t,"not-in",n),this.keys=pE("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function pE(s,t){return(t.arrayValue?.values||[]).map((n=>gt.fromName(n.referenceValue)))}class BR extends De{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Wm(n)&&Gl(n.arrayValue,this.value)}}class qR extends De{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Gl(this.value.arrayValue,n)}}class HR extends De{constructor(t,n){super(t,"not-in",n)}matches(t){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gl(this.value.arrayValue,n)}}class FR extends De{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Wm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Gl(this.value.arrayValue,r)))}}class GR{constructor(t,n=null,r=[],o=[],u=null,f=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function av(s,t=null,n=[],r=[],o=null,u=null,f=null){return new GR(s,t,n,r,o,u,f)}function tg(s){const t=St(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>Tm(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Nh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>oo(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>oo(r))).join(",")),t.Te=n}return t.Te}function eg(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!UR(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!mE(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!rv(s.startAt,t.startAt)&&rv(s.endAt,t.endAt)}function Em(s){return gt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class yo{constructor(t,n=null,r=[],o=[],u=null,f="F",g=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function QR(s,t,n,r,o,u,f,g){return new yo(s,t,n,r,o,u,f,g)}function ng(s){return new yo(s)}function ov(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function KR(s){return gt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function yE(s){return s.collectionGroup!==null}function Ul(s){const t=St(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Le(Xe.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Ql(u,r))})),n.has(Xe.keyField().canonicalString())||t.Ie.push(new Ql(Xe.keyField(),r))}return t.Ie}function Di(s){const t=St(s);return t.Ee||(t.Ee=YR(t,Ul(s))),t.Ee}function YR(s,t){if(s.limitType==="F")return av(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ql(o.field,u)}));const n=s.endAt?new dh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new dh(s.startAt.position,s.startAt.inclusive):null;return av(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function bm(s,t){const n=s.filters.concat([t]);return new yo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function XR(s,t){const n=s.explicitOrderBy.concat([t]);return new yo(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function Am(s,t,n){return new yo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function Oh(s,t){return eg(Di(s),Di(t))&&s.limitType===t.limitType}function _E(s){return`${tg(Di(s))}|lt:${s.limitType}`}function Ya(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>gE(o))).join(", ")}]`),Nh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>oo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>oo(o))).join(",")),`Target(${r})`})(Di(s))}; limitType=${s.limitType})`}function Mh(s,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):gt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,o){for(const u of Ul(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,t)&&(function(r,o){return!(r.startAt&&!(function(f,g,y){const p=sv(f,g,y);return f.inclusive?p<=0:p<0})(r.startAt,Ul(r),o)||r.endAt&&!(function(f,g,y){const p=sv(f,g,y);return f.inclusive?p>=0:p>0})(r.endAt,Ul(r),o))})(s,t)}function $R(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function vE(s){return(t,n)=>{let r=!1;for(const o of Ul(s)){const u=JR(o,t,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function JR(s,t,n){const r=s.field.isKeyField()?gt.comparator(t.key,n.key):(function(u,f,g){const y=f.data.field(u),p=g.data.field(u);return y!==null&&p!==null?ao(y,p):_t(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return _t(19790,{direction:s.dir})}}class ta{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ur(this.inner,((n,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return nE(this.inner)}size(){return this.innerSize}}const ZR=new ue(gt.comparator);function os(){return ZR}const TE=new ue(gt.comparator);function xl(...s){let t=TE;for(const n of s)t=t.insert(n.key,n);return t}function EE(s){let t=TE;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Hr(){return Ll()}function bE(){return Ll()}function Ll(){return new ta((s=>s.toString()),((s,t)=>s.isEqual(t)))}const WR=new ue(gt.comparator),tI=new Le(gt.comparator);function kt(...s){let t=tI;for(const n of s)t=t.add(n);return t}const eI=new Le(Vt);function nI(){return eI}function ig(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(t)?"-0":t}}function AE(s){return{integerValue:""+s}}function iI(s,t){return IR(t)?AE(t):ig(s,t)}class Vh{constructor(){this._=void 0}}function sI(s,t,n){return s instanceof mh?(function(o,u){const f={fields:{[rE]:{stringValue:sE},[oE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Zm(u)&&(u=Dh(u)),u&&(f.fields[aE]=u),{mapValue:f}})(n,t):s instanceof Kl?wE(s,t):s instanceof Yl?RE(s,t):(function(o,u){const f=SE(o,u),g=lv(f)+lv(o.Ae);return vm(f)&&vm(o.Ae)?AE(g):ig(o.serializer,g)})(s,t)}function rI(s,t,n){return s instanceof Kl?wE(s,t):s instanceof Yl?RE(s,t):n}function SE(s,t){return s instanceof gh?(function(r){return vm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class mh extends Vh{}class Kl extends Vh{constructor(t){super(),this.elements=t}}function wE(s,t){const n=IE(t);for(const r of s.elements)n.some((o=>Vi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Yl extends Vh{constructor(t){super(),this.elements=t}}function RE(s,t){let n=IE(t);for(const r of s.elements)n=n.filter((o=>!Vi(o,r)));return{arrayValue:{values:n}}}class gh extends Vh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function lv(s){return ve(s.integerValue||s.doubleValue)}function IE(s){return Wm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function aI(s,t){return s.field.isEqual(t.field)&&(function(r,o){return r instanceof Kl&&o instanceof Kl||r instanceof Yl&&o instanceof Yl?ro(r.elements,o.elements,Vi):r instanceof gh&&o instanceof gh?Vi(r.Ae,o.Ae):r instanceof mh&&o instanceof mh})(s.transform,t.transform)}class oI{constructor(t,n){this.version=t,this.transformResults=n}}class ei{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ei}static exists(t){return new ei(void 0,t)}static updateTime(t){return new ei(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Wc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class kh{}function CE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new sg(s.key,ei.none()):new iu(s.key,s.data,ei.none());{const n=s.data,r=gn.empty();let o=new Le(Xe.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new cr(s.key,r,new wn(o.toArray()),ei.none())}}function lI(s,t,n){s instanceof iu?(function(o,u,f){const g=o.value.clone(),y=cv(o.fieldTransforms,u,f.transformResults);g.setAll(y),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,t,n):s instanceof cr?(function(o,u,f){if(!Wc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const g=cv(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(xE(o)),y.setAll(g),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(s,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Pl(s,t,n,r){return s instanceof iu?(function(u,f,g,y){if(!Wc(u.precondition,f))return g;const p=u.value.clone(),T=hv(u.fieldTransforms,y,f);return p.setAll(T),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null})(s,t,n,r):s instanceof cr?(function(u,f,g,y){if(!Wc(u.precondition,f))return g;const p=hv(u.fieldTransforms,y,f),T=f.data;return T.setAll(xE(u)),T.setAll(p),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(s,t,n,r):(function(u,f,g){return Wc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(s,t,n)}function uI(s,t){let n=null;for(const r of s.fieldTransforms){const o=t.data.field(r.field),u=SE(r.transform,o||null);u!=null&&(n===null&&(n=gn.empty()),n.set(r.field,u))}return n||null}function uv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ro(r,o,((u,f)=>aI(u,f)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class iu extends kh{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cr extends kh{constructor(t,n,r,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function xE(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function cv(s,t,n){const r=new Map;Ft(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,g=t.data.field(u.field);r.set(u.field,rI(f,g,n[o]))}return r}function hv(s,t,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,sI(u,f,t))}return r}class sg extends kh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cI extends kh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hI{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&lI(u,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Pl(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Pl(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=bE();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=n.has(o.key)?null:g;const y=CE(f,g);y!==null&&r.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(bt.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),kt())}isEqual(t){return this.batchId===t.batchId&&ro(this.mutations,t.mutations,((n,r)=>uv(n,r)))&&ro(this.baseMutations,t.baseMutations,((n,r)=>uv(n,r)))}}class rg{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){Ft(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return WR})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new rg(t,n,r,o)}}class fI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class dI{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ne,Pt;function mI(s){switch(s){case $.OK:return _t(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return _t(15467,{code:s})}}function NE(s){if(s===void 0)return as("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ne.OK:return $.OK;case Ne.CANCELLED:return $.CANCELLED;case Ne.UNKNOWN:return $.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return $.INTERNAL;case Ne.UNAVAILABLE:return $.UNAVAILABLE;case Ne.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ne.NOT_FOUND:return $.NOT_FOUND;case Ne.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ne.ABORTED:return $.ABORTED;case Ne.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ne.DATA_LOSS:return $.DATA_LOSS;default:return _t(39323,{code:s})}}(Pt=Ne||(Ne={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function gI(){return new TextEncoder}const pI=new Js([4294967295,4294967295],0);function fv(s){const t=gI().encode(s),n=new GT;return n.update(t),new Uint8Array(n.digest())}function dv(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Js([n,r],0),new Js([o,u],0)]}class ag{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nl(`Invalid padding: ${n}`);if(r<0)throw new Nl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Js.fromNumber(this.ge)}ye(t,n,r){let o=t.add(n.multiply(Js.fromNumber(r)));return o.compare(pI)===1&&(o=new Js([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=fv(t),[r,o]=dv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new ag(u,o,n);return r.forEach((g=>f.insert(g))),f}insert(t){if(this.ge===0)return;const n=fv(t),[r,o]=dv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.be(f)}}be(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uh{constructor(t,n,r,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,su.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Uh(bt.min(),o,new ue(Vt),os(),kt())}}class su{constructor(t,n,r,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new su(r,n,kt(),kt(),kt())}}class th{constructor(t,n,r,o){this.Se=t,this.removedTargetIds=n,this.key=r,this.De=o}}class DE{constructor(t,n){this.targetId=t,this.Ce=n}}class OE{constructor(t,n,r=$e.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class mv{constructor(){this.ve=0,this.Fe=gv(),this.Me=$e.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),n=kt(),r=kt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:_t(38017,{changeType:u})}})),new su(this.Me,this.xe,t,n,r)}Ke(){this.Oe=!1,this.Fe=gv()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class yI{constructor(t){this.Ge=t,this.ze=new Map,this.je=os(),this.He=Bc(),this.Je=Bc(),this.Ze=new ue(Vt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,r=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Em(u))if(r===0){const f=new gt(u.path);this.et(n,f,tn.newNoDocument(f,bt.min()))}else Ft(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const g=this.ut(t),y=g?this.ct(g,t,f):1;if(y!==0){this.it(n);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,g;try{f=sr(r).toUint8Array()}catch(y){if(y instanceof iE)return so("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new ag(f,o,u)}catch(y){return so(y instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&Em(g.target)){const y=new gt(g.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,tn.newNoDocument(y,t))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let r=kt();this.Je.forEach(((u,f)=>{let g=!0;f.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new Uh(t,n,this.Ze,this.je,r);return this.je=os(),this.He=Bc(),this.Je=Bc(),this.Ze=new ue(Vt),o}Ye(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new mv,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Le(Vt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Le(Vt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new mv),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Bc(){return new ue(gt.comparator)}function gv(){return new ue(gt.comparator)}const _I={asc:"ASCENDING",desc:"DESCENDING"},vI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TI={and:"AND",or:"OR"};class EI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Sm(s,t){return s.useProto3Json||Nh(t)?t:{value:t}}function ph(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ME(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function bI(s,t){return ph(s,t.toTimestamp())}function Oi(s){return Ft(!!s,49232),bt.fromTimestamp((function(n){const r=ir(n);return new se(r.seconds,r.nanos)})(s))}function og(s,t){return wm(s,t).canonicalString()}function wm(s,t){const n=(function(o){return new ee(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?n:n.child(t)}function VE(s){const t=ee.fromString(s);return Ft(zE(t),10190,{key:t.toString()}),t}function Rm(s,t){return og(s.databaseId,t.path)}function em(s,t){const n=VE(t);if(n.get(1)!==s.databaseId.projectId)throw new rt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new rt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new gt(UE(n))}function kE(s,t){return og(s.databaseId,t)}function AI(s){const t=VE(s);return t.length===4?ee.emptyPath():UE(t)}function Im(s){return new ee(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function UE(s){return Ft(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function pv(s,t,n){return{name:Rm(s,t),fields:n.value.mapValue.fields}}function SI(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:_t(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(p,T){return p.useProto3Json?(Ft(T===void 0||typeof T=="string",58123),$e.fromBase64String(T||"")):(Ft(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),$e.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&(function(p){const T=p.code===void 0?$.UNKNOWN:NE(p.code);return new rt(T,p.message||"")})(f);n=new OE(r,o,u,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=em(s,r.document.name),u=Oi(r.document.updateTime),f=r.document.createTime?Oi(r.document.createTime):bt.min(),g=new gn({mapValue:{fields:r.document.fields}}),y=tn.newFoundDocument(o,u,f,g),p=r.targetIds||[],T=r.removedTargetIds||[];n=new th(p,T,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=em(s,r.document),u=r.readTime?Oi(r.readTime):bt.min(),f=tn.newNoDocument(o,u),g=r.removedTargetIds||[];n=new th([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=em(s,r.document),u=r.removedTargetIds||[];n=new th([],u,o,null)}else{if(!("filter"in t))return _t(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new dI(o,u),g=r.targetId;n=new DE(g,f)}}return n}function wI(s,t){let n;if(t instanceof iu)n={update:pv(s,t.key,t.value)};else if(t instanceof sg)n={delete:Rm(s,t.key)};else if(t instanceof cr)n={update:pv(s,t.key,t.data),updateMask:VI(t.fieldMask)};else{if(!(t instanceof cI))return _t(16599,{dt:t.type});n={verify:Rm(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,f){const g=f.transform;if(g instanceof mh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Kl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Yl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof gh)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw _t(20930,{transform:f.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:bI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_t(27497)})(s,t.precondition)),n}function RI(s,t){return s&&s.length>0?(Ft(t!==void 0,14353),s.map((n=>(function(o,u){let f=o.updateTime?Oi(o.updateTime):Oi(u);return f.isEqual(bt.min())&&(f=Oi(u)),new oI(f,o.transformResults||[])})(n,t)))):[]}function II(s,t){return{documents:[kE(s,t.path)]}}function CI(s,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kE(s,o);const u=(function(p){if(p.length!==0)return PE(ii.create(p,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(p){if(p.length!==0)return p.map((T=>(function(N){return{field:Xa(N.field),direction:DI(N.dir)}})(T)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const g=Sm(s,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:n,parent:o}}function xI(s){let t=AI(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Ft(r===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=(function(S){const N=LE(S);return N instanceof ii&&dE(N)?N.getFilters():[N]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((N=>(function(Q){return new Ql($a(Q.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(N)))})(n.orderBy));let g=null;n.limit&&(g=(function(S){let N;return N=typeof S=="object"?S.value:S,Nh(N)?null:N})(n.limit));let y=null;n.startAt&&(y=(function(S){const N=!!S.before,B=S.values||[];return new dh(B,N)})(n.startAt));let p=null;return n.endAt&&(p=(function(S){const N=!S.before,B=S.values||[];return new dh(B,N)})(n.endAt)),QR(t,o,f,u,g,"F",y,p)}function NI(s,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function LE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$a(n.unaryFilter.field);return De.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=$a(n.unaryFilter.field);return De.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=$a(n.unaryFilter.field);return De.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=$a(n.unaryFilter.field);return De.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(s):s.fieldFilter!==void 0?(function(n){return De.create($a(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ii.create(n.compositeFilter.filters.map((r=>LE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(n.compositeFilter.op))})(s):_t(30097,{filter:s})}function DI(s){return _I[s]}function OI(s){return vI[s]}function MI(s){return TI[s]}function Xa(s){return{fieldPath:s.canonicalString()}}function $a(s){return Xe.fromServerFormat(s.fieldPath)}function PE(s){return s instanceof De?(function(n){if(n.op==="=="){if(iv(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(nv(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iv(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(nv(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:OI(n.op),value:n.value}}})(s):s instanceof ii?(function(n){const r=n.getFilters().map((o=>PE(o)));return r.length===1?r[0]:{compositeFilter:{op:MI(n.op),filters:r}}})(s):_t(54877,{filter:s})}function VI(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function zE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function jE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Ks{constructor(t,n,r,o,u=bt.min(),f=bt.min(),g=$e.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new Ks(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class kI{constructor(t){this.yt=t}}function UI(s){const t=xI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Am(t,t.limit,"L"):t}class LI{constructor(){this.Sn=new PI}addToCollectionParentIndex(t,n){return this.Sn.add(n),J.resolve()}getCollectionParents(t,n){return J.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return J.resolve()}deleteFieldIndex(t,n){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,n){return J.resolve()}getDocumentsMatchingTarget(t,n){return J.resolve(null)}getIndexType(t,n){return J.resolve(0)}getFieldIndexes(t,n){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,n){return J.resolve(nr.min())}getMinOffsetFromCollectionGroup(t,n){return J.resolve(nr.min())}updateCollectionGroup(t,n,r){return J.resolve()}updateIndexEntries(t,n){return J.resolve()}}class PI{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Le(ee.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Le(ee.comparator)).toArray()}}const yv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BE=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(BE,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class lo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new lo(0)}static ar(){return new lo(-1)}}const _v="LruGarbageCollector",zI=1048576;function vv([s,t],[n,r]){const o=Vt(s,n);return o===0?Vt(t,r):o}class jI{constructor(t){this.Pr=t,this.buffer=new Le(vv),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();vv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class BI{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ot(_v,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){po(n)?ot(_v,"Ignoring IndexedDB error during garbage collection: ",n):await go(n)}await this.Ar(3e5)}))}}class qI{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return J.resolve(xh.ce);const r=new jI(n);return this.Vr.forEachTarget(t,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.Vr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(yv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yv):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let r,o,u,f,g,y,p;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(r=S,g=Date.now(),this.removeTargets(t,r,n)))).next((S=>(u=S,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(p=Date.now(),Ka()<=Mt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${u} targets in `+(y-g)+`ms
	Removed ${S} documents in `+(p-y)+`ms
Total Duration: ${p-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function HI(s,t){return new qI(s,t)}class FI{constructor(){this.changes=new ta((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,tn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class GI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class QI{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(r!==null&&Pl(r.mutation,o,wn.empty(),se.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,kt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=kt()){const o=Hr();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,r).next((u=>{let f=xl();return u.forEach(((g,y)=>{f=f.insert(g,y.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const r=Hr();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,kt())))}populateOverlays(t,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(t,n,r,o){let u=os();const f=Ll(),g=(function(){return Ll()})();return n.forEach(((y,p)=>{const T=r.get(p.key);o.has(p.key)&&(T===void 0||T.mutation instanceof cr)?u=u.insert(p.key,p):T!==void 0?(f.set(p.key,T.mutation.getFieldMask()),Pl(T.mutation,p,T.mutation.getFieldMask(),se.now())):f.set(p.key,wn.empty())})),this.recalculateAndSaveOverlays(t,u).next((y=>(y.forEach(((p,T)=>f.set(p,T))),n.forEach(((p,T)=>g.set(p,new GI(T,f.get(p)??null)))),g)))}recalculateAndSaveOverlays(t,n){const r=Ll();let o=new ue(((f,g)=>f-g)),u=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const g of f)g.keys().forEach((y=>{const p=n.get(y);if(p===null)return;let T=r.get(y)||wn.empty();T=g.applyToLocalView(p,T),r.set(y,T);const S=(o.get(g.batchId)||kt()).add(y);o=o.insert(g.batchId,S)}))})).next((()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,T=y.value,S=bE();T.forEach((N=>{if(!u.has(N)){const B=CE(n.get(N),r.get(N));B!==null&&S.set(N,B),u=u.add(N)}})),f.push(this.documentOverlayCache.saveOverlays(t,p,S))}return J.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,o){return KR(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):yE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-u.size):J.resolve(Hr());let g=ql,y=u;return f.next((p=>J.forEach(p,((T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),u.get(T)?J.resolve():this.remoteDocumentCache.getEntry(t,T).next((N=>{y=y.insert(T,N)}))))).next((()=>this.populateOverlays(t,p,u))).next((()=>this.computeViews(t,y,p,kt()))).next((T=>({batchId:g,changes:EE(T)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new gt(n)).next((r=>{let o=xl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const u=n.collectionGroup;let f=xl();return this.indexManager.getCollectionParents(t,u).next((g=>J.forEach(g,(y=>{const p=(function(S,N){return new yo(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,p,r,o).next((T=>{T.forEach(((S,N)=>{f=f.insert(S,N)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,o)))).next((f=>{u.forEach(((y,p)=>{const T=p.getKey();f.get(T)===null&&(f=f.insert(T,tn.newInvalidDocument(T)))}));let g=xl();return f.forEach(((y,p)=>{const T=u.get(y);T!==void 0&&Pl(T.mutation,p,wn.empty(),se.now()),Mh(n,p)&&(g=g.insert(y,p))})),g}))}}class KI{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return J.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Oi(o.createTime)}})(n)),J.resolve()}getNamedQuery(t,n){return J.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:UI(o.bundledQuery),readTime:Oi(o.readTime)}})(n)),J.resolve()}}class YI{constructor(){this.overlays=new ue(gt.comparator),this.Lr=new Map}getOverlay(t,n){return J.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Hr();return J.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((o,u)=>{this.bt(t,n,u)})),J.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),J.resolve()}getOverlaysForCollection(t,n,r){const o=Hr(),u=n.length+1,f=new gt(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&y.largestBatchId>r&&o.set(y.getKey(),y)}return J.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let u=new ue(((p,T)=>p-T));const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let T=u.get(p.largestBatchId);T===null&&(T=Hr(),u=u.insert(p.largestBatchId,T)),T.set(p.getKey(),p)}}const g=Hr(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,T)=>g.set(p,T))),!(g.size()>=o)););return J.resolve(g)}bt(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new fI(n,r));let u=this.Lr.get(n);u===void 0&&(u=kt(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class XI{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,J.resolve()}}class lg{constructor(){this.kr=new Le(Be.Kr),this.qr=new Le(Be.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const r=new Be(t,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Wr(new Be(t,n))}Qr(t,n){t.forEach((r=>this.removeReference(r,n)))}Gr(t){const n=new gt(new ee([])),r=new Be(n,t),o=new Be(n,t+1),u=[];return this.qr.forEachInRange([r,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new gt(new ee([])),r=new Be(n,t),o=new Be(n,t+1);let u=kt();return this.qr.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Be(t,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Be{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return gt.comparator(t.key,n.key)||Vt(t.Hr,n.Hr)}static Ur(t,n){return Vt(t.Hr,n.Hr)||gt.comparator(t.key,n.key)}}class $I{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Le(Be.Kr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new hI(u,n,r,o);this.mutationQueue.push(f);for(const g of o)this.Jr=this.Jr.add(new Be(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return J.resolve(f)}lookupMutationBatch(t,n){return J.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.Xr(r),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Jm:this.Yn-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Be(n,0),o=new Be(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(f=>{const g=this.Zr(f.Hr);u.push(g)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Le(Vt);return n.forEach((o=>{const u=new Be(o,0),f=new Be(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(g=>{r=r.add(g.Hr)}))})),J.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let u=r;gt.isDocumentKey(u)||(u=u.child(""));const f=new Be(new gt(u),0);let g=new Le(Vt);return this.Jr.forEachWhile((y=>{const p=y.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(g=g.add(y.Hr)),!0)}),f),J.resolve(this.Yr(g))}Yr(t){const n=[];return t.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Ft(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return J.forEach(n.mutations,(o=>{const u=new Be(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,n){const r=new Be(n,0),o=this.Jr.firstAfterOrEqual(r);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class JI{constructor(t){this.ti=t,this.docs=(function(){return new ue(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(t,n){let r=os();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))})),J.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let u=os();const f=n.path,g=new gt(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:T}}=y.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||AR(bR(T),r)<=0||(o.has(T.key)||Mh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(t,n,r,o){_t(9500)}ni(t,n){return J.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new ZI(this)}getSize(t){return J.resolve(this.size)}}class ZI extends FI{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(r)})),J.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class WI{constructor(t){this.persistence=t,this.ri=new ta((n=>tg(n)),eg),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.ii=0,this.si=new lg,this.targetCount=0,this.oi=lo._r()}forEachTarget(t,n){return this.ri.forEach(((r,o)=>n(o))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),J.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new lo(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,J.resolve()}updateTargetData(t,n){return this.lr(n),J.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,n,r){let o=0;const u=[];return this.ri.forEach(((f,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),J.waitFor(u).next((()=>o))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,n){const r=this.ri.get(n)||null;return J.resolve(r)}addMatchingKeys(t,n,r){return this.si.$r(n,r),J.resolve()}removeMatchingKeys(t,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),J.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),J.resolve()}getMatchingKeysForTargetId(t,n){const r=this.si.jr(n);return J.resolve(r)}containsKey(t,n){return J.resolve(this.si.containsKey(n))}}class qE{constructor(t,n){this._i={},this.overlays={},this.ai=new xh(0),this.ui=!1,this.ui=!0,this.ci=new XI,this.referenceDelegate=t(this),this.li=new WI(this),this.indexManager=new LI,this.remoteDocumentCache=(function(o){return new JI(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new kI(n),this.Pi=new KI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new YI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this._i[t.toKey()];return r||(r=new $I(n,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,r){ot("MemoryPersistence","Starting transaction:",t);const o=new tC(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return J.or(Object.values(this._i).map((r=>()=>r.containsKey(t,n))))}}class tC extends wR{constructor(t){super(),this.currentSequenceNumber=t}}class ug{constructor(t){this.persistence=t,this.Ri=new lg,this.Ai=null}static Vi(t){return new ug(t)}get di(){if(this.Ai)return this.Ai;throw _t(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),J.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),J.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),J.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(r=>{const o=gt.fromPath(r);return this.mi(t,o).next((u=>{u||n.removeEntry(o,bt.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class yh{constructor(t,n){this.persistence=t,this.fi=new ta((r=>CR(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=HI(this,n)}static Vi(t,n){return new yh(t,n)}Ti(){}Ii(t){return J.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((o=>r+o))))}pr(t){let n=0;return this.mr(t,(r=>{n++})).next((()=>n))}mr(t,n){return J.forEach(this.fi,((r,o)=>this.wr(t,r,o).next((u=>u?J.resolve():n(o)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(f=>this.wr(t,f,n).next((g=>{g||(r++,u.removeEntry(f,bt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),J.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),J.resolve()}removeReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),J.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Jc(t.data.value)),n}wr(t,n,r){return J.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.fi.get(n);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class cg{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.Ts=r,this.Is=o}static Es(t,n){let r=kt(),o=kt();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new cg(t,n.fromCache,r,o)}}class eC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class nC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return QA()?8:RR(en())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,o){const u={result:null};return this.gs(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(t,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new eC;return this.ys(t,n,f).next((g=>{if(u.result=g,this.As)return this.ws(t,n,f,g.size)}))})).next((()=>u.result))}ws(t,n,r,o){return r.documentReadCount<this.Vs?(Ka()<=Mt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Ka()<=Mt.DEBUG&&ot("QueryEngine","Query:",Ya(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Ka()<=Mt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(n))):J.resolve())}gs(t,n){if(ov(n))return J.resolve(null);let r=Di(n);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Am(n,null,"F"),r=Di(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const f=kt(...u);return this.fs.getDocuments(t,f).next((g=>this.indexManager.getMinOffset(t,r).next((y=>{const p=this.bs(n,g);return this.Ss(n,p,f,y.readTime)?this.gs(t,Am(n,null,"F")):this.Ds(t,p,n,y)}))))})))))}ps(t,n,r,o){return ov(n)||o.isEqual(bt.min())?J.resolve(null):this.fs.getDocuments(t,r).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,r,o)?J.resolve(null):(Ka()<=Mt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ya(n)),this.Ds(t,f,n,ER(o,ql)).next((g=>g)))}))}bs(t,n){let r=new Le(vE(t));return n.forEach(((o,u)=>{Mh(t,u)&&(r=r.add(u))})),r}Ss(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,n,r){return Ka()<=Mt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Ya(n)),this.fs.getDocumentsMatchingQuery(t,n,nr.min(),r)}Ds(t,n,r,o){return this.fs.getDocumentsMatchingQuery(t,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const hg="LocalStore",iC=3e8;class sC{constructor(t,n,r,o){this.persistence=t,this.Cs=n,this.serializer=o,this.vs=new ue(Vt),this.Fs=new ta((u=>tg(u)),eg),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new QI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function rC(s,t,n,r){return new sC(s,t,n,r)}async function HE(s,t){const n=St(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Os(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],g=[];let y=kt();for(const p of o){f.push(p.batchId);for(const T of p.mutations)y=y.add(T.key)}for(const p of u){g.push(p.batchId);for(const T of p.mutations)y=y.add(T.key)}return n.localDocuments.getDocuments(r,y).next((p=>({Ns:p,removedBatchIds:f,addedBatchIds:g})))}))}))}function aC(s,t){const n=St(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(g,y,p,T){const S=p.batch,N=S.keys();let B=J.resolve();return N.forEach((Q=>{B=B.next((()=>T.getEntry(y,Q))).next((Z=>{const W=p.docVersions.get(Q);Ft(W!==null,48541),Z.version.compareTo(W)<0&&(S.applyToRemoteDocument(Z,p),Z.isValidDocument()&&(Z.setReadTime(p.commitVersion),T.addEntry(Z)))}))})),B.next((()=>g.mutationQueue.removeMutationBatch(y,S)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let y=kt();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y})(t)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function FE(s){const t=St(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function oC(s,t){const n=St(s),r=t.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const g=[];t.targetChanges.forEach(((T,S)=>{const N=o.get(S);if(!N)return;g.push(n.li.removeMatchingKeys(u,T.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,T.addedDocuments,S))));let B=N.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?B=B.withResumeToken($e.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):T.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(T.resumeToken,r)),o=o.insert(S,B),(function(Z,W,ut){return Z.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=iC?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0})(N,B,T)&&g.push(n.li.updateTargetData(u,B))}));let y=os(),p=kt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),g.push(lC(u,f,t.documentUpdates).next((T=>{y=T.Bs,p=T.Ls}))),!r.isEqual(bt.min())){const T=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));g.push(T)}return J.waitFor(g).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,p))).next((()=>y))})).then((u=>(n.vs=o,u)))}function lC(s,t,n){let r=kt(),o=kt();return n.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let f=os();return n.forEach(((g,y)=>{const p=u.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(bt.min())?(t.removeEntry(g,y.readTime),f=f.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(y),f=f.insert(g,y)):ot(hg,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)})),{Bs:f,Ls:o}}))}function uC(s,t){const n=St(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Jm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function cC(s,t){const n=St(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,t).next((u=>u?(o=u,J.resolve(o)):n.li.allocateTargetId(r).next((f=>(o=new Ks(t,f,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(t,r.targetId)),r}))}async function Cm(s,t,n){const r=St(s),o=r.vs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!po(f))throw f;ot(hg,`Failed to update sequence numbers for target ${t}: ${f}`)}r.vs=r.vs.remove(t),r.Fs.delete(o.target)}function Tv(s,t,n){const r=St(s);let o=bt.min(),u=kt();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,p,T){const S=St(y),N=S.Fs.get(T);return N!==void 0?J.resolve(S.vs.get(N)):S.li.getTargetData(p,T)})(r,f,Di(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,g.targetId).next((y=>{u=y}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,t,n?o:bt.min(),n?u:kt()))).next((g=>(hC(r,$R(t),g),{documents:g,ks:u})))))}function hC(s,t,n){let r=s.Ms.get(t)||bt.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Ms.set(t,r)}class Ev{constructor(){this.activeTargetIds=nI()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class fC{constructor(){this.vo=new Ev,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,r){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Ev,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class dC{Mo(t){}shutdown(){}}const bv="ConnectivityMonitor";class Av{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ot(bv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ot(bv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let qc=null;function xm(){return qc===null?qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():qc++,"0x"+qc.toString(16)}const nm="RestConnection",mC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class gC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===hh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(t,n,r,o,u){const f=xm(),g=this.Qo(t,n.toUriEncodedString());ot(nm,`Sending RPC '${t}' ${f}:`,g,r);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,o,u);const{host:p}=new URL(g),T=lr(p);return this.zo(t,g,y,r,T).then((S=>(ot(nm,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw so(nm,`RPC '${t}' ${f} failed with error: `,S,"url: ",g,"request:",r),S}))}jo(t,n,r,o,u,f){return this.Wo(t,n,r,o,u)}Go(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+mo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}Qo(t,n){const r=mC[t];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class pC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Ze="WebChannelConnection",Rl=(s,t,n)=>{s.listen(t,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class eo extends gC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!eo.c_){const t=XT();Rl(t,YT.STAT_EVENT,(n=>{n.stat===pm.PROXY?ot(Ze,"STAT_EVENT: detected buffering proxy"):n.stat===pm.NOPROXY&&ot(Ze,"STAT_EVENT: detected no buffering proxy")})),eo.c_=!0}}zo(t,n,r,o,u){const f=xm();return new Promise(((g,y)=>{const p=new QT;p.setWithCredentials(!0),p.listenOnce(KT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case $c.NO_ERROR:const S=p.getResponseJson();ot(Ze,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),g(S);break;case $c.TIMEOUT:ot(Ze,`RPC '${t}' ${f} timed out`),y(new rt($.DEADLINE_EXCEEDED,"Request time out"));break;case $c.HTTP_ERROR:const N=p.getStatus();if(ot(Ze,`RPC '${t}' ${f} failed with status:`,N,"response text:",p.getResponseText()),N>0){let B=p.getResponseJson();Array.isArray(B)&&(B=B[0]);const Q=B?.error;if(Q&&Q.status&&Q.message){const Z=(function(ut){const st=ut.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(st)>=0?st:$.UNKNOWN})(Q.status);y(new rt(Z,Q.message))}else y(new rt($.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new rt($.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ot(Ze,`RPC '${t}' ${f} completed.`)}}));const T=JSON.stringify(o);ot(Ze,`RPC '${t}' ${f} sending request:`,o),p.send(n,"POST",T,r,15)}))}T_(t,n,r){const o=xm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const p=u.join("");ot(Ze,`Creating RPC '${t}' stream ${o}: ${p}`,g);const T=f.createWebChannel(p,g);this.I_(T);let S=!1,N=!1;const B=new pC({Ho:Q=>{N?ot(Ze,`Not sending because RPC '${t}' stream ${o} is closed:`,Q):(S||(ot(Ze,`Opening RPC '${t}' stream ${o} transport.`),T.open(),S=!0),ot(Ze,`RPC '${t}' stream ${o} sending:`,Q),T.send(Q))},Jo:()=>T.close()});return Rl(T,Cl.EventType.OPEN,(()=>{N||(ot(Ze,`RPC '${t}' stream ${o} transport opened.`),B.i_())})),Rl(T,Cl.EventType.CLOSE,(()=>{N||(N=!0,ot(Ze,`RPC '${t}' stream ${o} transport closed`),B.o_(),this.E_(T))})),Rl(T,Cl.EventType.ERROR,(Q=>{N||(N=!0,so(Ze,`RPC '${t}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),B.o_(new rt($.UNAVAILABLE,"The operation could not be completed")))})),Rl(T,Cl.EventType.MESSAGE,(Q=>{if(!N){const Z=Q.data[0];Ft(!!Z,16349);const W=Z,ut=W?.error||W[0]?.error;if(ut){ot(Ze,`RPC '${t}' stream ${o} received error:`,ut);const st=ut.status;let tt=(function(vt){const C=Ne[vt];if(C!==void 0)return NE(C)})(st),at=ut.message;tt===void 0&&(tt=$.INTERNAL,at="Unknown error status: "+st+" with message "+ut.message),N=!0,B.o_(new rt(tt,at)),T.close()}else ot(Ze,`RPC '${t}' stream ${o} received:`,Z),B.__(Z)}})),eo.u_(),setTimeout((()=>{B.s_()}),0),B}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,r){super.Go(t,n,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return $T()}}function yC(s){return new eo(s)}function im(){return typeof document<"u"?document:null}function Lh(s){return new EI(s,!0)}eo.c_=!1;class GE{constructor(t,n,r=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=n,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Sv="PersistentStream";class QE{constructor(t,n,r,o,u,f,g,y){this.Ci=t,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new GE(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(as(n.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{t((()=>{const o=new rt($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,n){const r=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(Sv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(ot(Sv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _C extends QE{constructor(t,n,r,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=SI(this.serializer,t),r=(function(u){if(!("targetChange"in u))return bt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?bt.min():f.readTime?Oi(f.readTime):bt.min()})(t);return this.listener.J_(n,r)}Z_(t){const n={};n.database=Im(this.serializer),n.addTarget=(function(u,f){let g;const y=f.target;if(g=Em(y)?{documents:II(u,y)}:{query:CI(u,y).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=ME(u,f.resumeToken);const p=Sm(u,f.expectedCount);p!==null&&(g.expectedCount=p)}else if(f.snapshotVersion.compareTo(bt.min())>0){g.readTime=ph(u,f.snapshotVersion.toTimestamp());const p=Sm(u,f.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,t);const r=NI(this.serializer,t);r&&(n.labels=r),this.K_(n)}X_(t){const n={};n.database=Im(this.serializer),n.removeTarget=t,this.K_(n)}}class vC extends QE{constructor(t,n,r,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=RI(t.writeResults,t.commitTime),r=Oi(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Im(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>wI(this.serializer,r)))};this.K_(n)}}class TC{}class EC extends TC{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new rt($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(t,wm(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new rt($.UNKNOWN,u.toString())}))}jo(t,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.jo(t,wm(n,r),o,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new rt($.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function bC(s,t,n,r){return new EC(s,t,n,r)}class AC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(as(n),this.aa=!1):ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Jr="RemoteStore";class SC{constructor(t,n,r,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{ea(this)&&(ot(Jr,"Restarting streams for network reachability change."),await(async function(y){const p=St(y);p.Ea.add(4),await ru(p),p.Va.set("Unknown"),p.Ea.delete(4),await Ph(p)})(this))}))})),this.Va=new AC(r,o)}}async function Ph(s){if(ea(s))for(const t of s.Ra)await t(!0)}async function ru(s){for(const t of s.Ra)await t(!1)}function KE(s,t){const n=St(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),gg(n)?mg(n):_o(n).O_()&&dg(n,t))}function fg(s,t){const n=St(s),r=_o(n);n.Ia.delete(t),r.O_()&&YE(n,t),n.Ia.size===0&&(r.O_()?r.L_():ea(n)&&n.Va.set("Unknown"))}function dg(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}_o(s).Z_(t)}function YE(s,t){s.da.$e(t),_o(s).X_(t)}function mg(s){s.da=new yI({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),_o(s).start(),s.Va.ua()}function gg(s){return ea(s)&&!_o(s).x_()&&s.Ia.size>0}function ea(s){return St(s).Ea.size===0}function XE(s){s.da=void 0}async function wC(s){s.Va.set("Online")}async function RC(s){s.Ia.forEach(((t,n)=>{dg(s,t)}))}async function IC(s,t){XE(s),gg(s)?(s.Va.ha(t),mg(s)):s.Va.set("Unknown")}async function CC(s,t,n){if(s.Va.set("Online"),t instanceof OE&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const g of u.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ia.delete(g),o.da.removeTarget(g))})(s,t)}catch(r){ot(Jr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await _h(s,r)}else if(t instanceof th?s.da.Xe(t):t instanceof DE?s.da.st(t):s.da.tt(t),!n.isEqual(bt.min()))try{const r=await FE(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const g=u.da.Tt(f);return g.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const T=u.Ia.get(p);T&&u.Ia.set(p,T.withResumeToken(y.resumeToken,f))}})),g.targetMismatches.forEach(((y,p)=>{const T=u.Ia.get(y);if(!T)return;u.Ia.set(y,T.withResumeToken($e.EMPTY_BYTE_STRING,T.snapshotVersion)),YE(u,y);const S=new Ks(T.target,y,p,T.sequenceNumber);dg(u,S)})),u.remoteSyncer.applyRemoteEvent(g)})(s,n)}catch(r){ot(Jr,"Failed to raise snapshot:",r),await _h(s,r)}}async function _h(s,t,n){if(!po(t))throw t;s.Ea.add(1),await ru(s),s.Va.set("Offline"),n||(n=()=>FE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ot(Jr,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Ph(s)}))}function $E(s,t){return t().catch((n=>_h(s,n,t)))}async function zh(s){const t=St(s),n=ar(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Jm;for(;xC(t);)try{const o=await uC(t.localStore,r);if(o===null){t.Ta.length===0&&n.L_();break}r=o.batchId,NC(t,o)}catch(o){await _h(t,o)}JE(t)&&ZE(t)}function xC(s){return ea(s)&&s.Ta.length<10}function NC(s,t){s.Ta.push(t);const n=ar(s);n.O_()&&n.Y_&&n.ea(t.mutations)}function JE(s){return ea(s)&&!ar(s).x_()&&s.Ta.length>0}function ZE(s){ar(s).start()}async function DC(s){ar(s).ra()}async function OC(s){const t=ar(s);for(const n of s.Ta)t.ea(n.mutations)}async function MC(s,t,n){const r=s.Ta.shift(),o=rg.from(r,t,n);await $E(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await zh(s)}async function VC(s,t){t&&ar(s).Y_&&await(async function(r,o){if((function(f){return mI(f)&&f!==$.ABORTED})(o.code)){const u=r.Ta.shift();ar(r).B_(),await $E(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await zh(r)}})(s,t),JE(s)&&ZE(s)}async function wv(s,t){const n=St(s);n.asyncQueue.verifyOperationInProgress(),ot(Jr,"RemoteStore received new credentials");const r=ea(n);n.Ea.add(3),await ru(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Ph(n)}async function kC(s,t){const n=St(s);t?(n.Ea.delete(2),await Ph(n)):t||(n.Ea.add(2),await ru(n),n.Va.set("Unknown"))}function _o(s){return s.ma||(s.ma=(function(n,r,o){const u=St(n);return u.sa(),new _C(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:wC.bind(null,s),Yo:RC.bind(null,s),t_:IC.bind(null,s),J_:CC.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),gg(s)?mg(s):s.Va.set("Unknown")):(await s.ma.stop(),XE(s))}))),s.ma}function ar(s){return s.fa||(s.fa=(function(n,r,o){const u=St(n);return u.sa(),new vC(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:DC.bind(null,s),t_:VC.bind(null,s),ta:OC.bind(null,s),na:MC.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await zh(s)):(await s.fa.stop(),s.Ta.length>0&&(ot(Jr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class pg{constructor(t,n,r,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,u){const f=Date.now()+r,g=new pg(t,n,f,o,u);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yg(s,t){if(as("AsyncQueue",`${t}: ${s}`),po(s))return new rt($.UNAVAILABLE,`${t}: ${s}`);throw s}class no{static emptySet(t){return new no(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||gt.comparator(n.key,r.key):(n,r)=>gt.comparator(n.key,r.key),this.keyedMap=xl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof no)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new no;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class Rv{constructor(){this.ga=new ue(gt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):_t(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class uo{constructor(t,n,r,o,u,f,g,y,p){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(t,n,r,o,u){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new uo(t,n,no.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Oh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class UC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class LC{constructor(){this.queries=Iv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=St(n),u=o.queries;o.queries=Iv(),u.forEach(((f,g)=>{for(const y of g.ba)y.onError(r)}))})(this,new rt($.ABORTED,"Firestore shutting down"))}}function Iv(){return new ta((s=>_E(s)),Oh)}async function PC(s,t){const n=St(s);let r=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.Da()&&(r=2):(u=new UC,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const g=yg(f,`Initialization of query '${Ya(t.query)}' failed`);return void t.onError(g)}n.queries.set(o,u),u.ba.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&_g(n)}async function zC(s,t){const n=St(s),r=t.query;let o=3;const u=n.queries.get(r);if(u){const f=u.ba.indexOf(t);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function jC(s,t){const n=St(s);let r=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const g of f.ba)g.Fa(o)&&(r=!0);f.wa=o}}r&&_g(n)}function BC(s,t,n){const r=St(s),o=r.queries.get(t);if(o)for(const u of o.ba)u.onError(n);r.queries.delete(t)}function _g(s){s.Ca.forEach((t=>{t.next()}))}var Nm,Cv;(Cv=Nm||(Nm={})).Ma="default",Cv.Cache="cache";class qC{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new uo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=uo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Nm.Cache}}class WE{constructor(t){this.key=t}}class t1{constructor(t){this.key=t}}class HC{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=kt(),this.mutatedKeys=kt(),this.eu=vE(t),this.tu=new no(this.eu)}get nu(){return this.Za}ru(t,n){const r=n?n.iu:new Rv,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((T,S)=>{const N=o.get(T),B=Mh(this.query,S)?S:null,Q=!!N&&this.mutatedKeys.has(N.key),Z=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let W=!1;N&&B?N.data.isEqual(B.data)?Q!==Z&&(r.track({type:3,doc:B}),W=!0):this.su(N,B)||(r.track({type:2,doc:B}),W=!0,(y&&this.eu(B,y)>0||p&&this.eu(B,p)<0)&&(g=!0)):!N&&B?(r.track({type:0,doc:B}),W=!0):N&&!B&&(r.track({type:1,doc:N}),W=!0,(y||p)&&(g=!0)),W&&(B?(f=f.add(B),u=Z?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:f,iu:r,Ss:g,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((T,S)=>(function(B,Q){const Z=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Vt:W})}};return Z(B)-Z(Q)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),o=o??!1;const g=n&&!o?this._u():[],y=this.Ya.size===0&&this.current&&!o?1:0,p=y!==this.Xa;return this.Xa=y,f.length!==0||p?{snapshot:new uo(this.query,t.tu,u,f,t.mutatedKeys,y===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Rv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=kt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return t.forEach((r=>{this.Ya.has(r)||n.push(new t1(r))})),this.Ya.forEach((r=>{t.has(r)||n.push(new WE(r))})),n}cu(t){this.Za=t.ks,this.Ya=kt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const vg="SyncEngine";class FC{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class GC{constructor(t){this.key=t,this.hu=!1}}class QC{constructor(t,n,r,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ta((g=>_E(g)),Oh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ue(gt.comparator),this.Au=new Map,this.Vu=new lg,this.du={},this.mu=new Map,this.fu=lo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function KC(s,t,n=!0){const r=a1(s);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await e1(r,t,n,!0),o}async function YC(s,t){const n=a1(s);await e1(n,t,!0,!1)}async function e1(s,t,n,r){const o=await cC(s.localStore,Di(t)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let g;return r&&(g=await XC(s,t,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&KE(s.remoteStore,o),g}async function XC(s,t,n,r,o){s.pu=(S,N,B)=>(async function(Z,W,ut,st){let tt=W.view.ru(ut);tt.Ss&&(tt=await Tv(Z.localStore,W.query,!1).then((({documents:C})=>W.view.ru(C,tt))));const at=st&&st.targetChanges.get(W.targetId),yt=st&&st.targetMismatches.get(W.targetId)!=null,vt=W.view.applyChanges(tt,Z.isPrimaryClient,at,yt);return Nv(Z,W.targetId,vt.au),vt.snapshot})(s,S,N,B);const u=await Tv(s.localStore,t,!0),f=new HC(t,u.ks),g=f.ru(u.documents),y=su.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),p=f.applyChanges(g,s.isPrimaryClient,y);Nv(s,n,p.au);const T=new FC(t,n,f);return s.Tu.set(t,T),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),p.snapshot}async function $C(s,t,n){const r=St(s),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!Oh(f,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Cm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&fg(r.remoteStore,o.targetId),Dm(r,o.targetId)})).catch(go)):(Dm(r,o.targetId),await Cm(r.localStore,o.targetId,!0))}async function JC(s,t){const n=St(s),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fg(n.remoteStore,r.targetId))}async function ZC(s,t,n){const r=rx(s);try{const o=await(function(f,g){const y=St(f),p=se.now(),T=g.reduce(((B,Q)=>B.add(Q.key)),kt());let S,N;return y.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let Q=os(),Z=kt();return y.xs.getEntries(B,T).next((W=>{Q=W,Q.forEach(((ut,st)=>{st.isValidDocument()||(Z=Z.add(ut))}))})).next((()=>y.localDocuments.getOverlayedDocuments(B,Q))).next((W=>{S=W;const ut=[];for(const st of g){const tt=uI(st,S.get(st.key).overlayedDocument);tt!=null&&ut.push(new cr(st.key,tt,cE(tt.value.mapValue),ei.exists(!0)))}return y.mutationQueue.addMutationBatch(B,p,ut,g)})).next((W=>{N=W;const ut=W.applyToLocalDocumentSet(S,Z);return y.documentOverlayCache.saveOverlays(B,W.batchId,ut)}))})).then((()=>({batchId:N.batchId,changes:EE(S)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(f,g,y){let p=f.du[f.currentUser.toKey()];p||(p=new ue(Vt)),p=p.insert(g,y),f.du[f.currentUser.toKey()]=p})(r,o.batchId,n),await au(r,o.changes),await zh(r.remoteStore)}catch(o){const u=yg(o,"Failed to persist write");n.reject(u)}}async function n1(s,t){const n=St(s);try{const r=await oC(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ft(f.hu,14607):o.removedDocuments.size>0&&(Ft(f.hu,42227),f.hu=!1))})),await au(n,r,t)}catch(r){await go(r)}}function xv(s,t,n){const r=St(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,f)=>{const g=f.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(f,g){const y=St(f);y.onlineState=g;let p=!1;y.queries.forEach(((T,S)=>{for(const N of S.ba)N.va(g)&&(p=!0)})),p&&_g(y)})(r.eventManager,t),o.length&&r.Pu.J_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function WC(s,t,n){const r=St(s);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),u=o&&o.key;if(u){let f=new ue(gt.comparator);f=f.insert(u,tn.newNoDocument(u,bt.min()));const g=kt().add(u),y=new Uh(bt.min(),new Map,new ue(Vt),f,g);await n1(r,y),r.Ru=r.Ru.remove(u),r.Au.delete(t),Tg(r)}else await Cm(r.localStore,t,!1).then((()=>Dm(r,t,n))).catch(go)}async function tx(s,t){const n=St(s),r=t.batch.batchId;try{const o=await aC(n.localStore,t);s1(n,r,null),i1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await au(n,o)}catch(o){await go(o)}}async function ex(s,t,n){const r=St(s);try{const o=await(function(f,g){const y=St(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let T;return y.mutationQueue.lookupMutationBatch(p,g).next((S=>(Ft(S!==null,37113),T=S.keys(),y.mutationQueue.removeMutationBatch(p,S)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,T,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,T))).next((()=>y.localDocuments.getDocuments(p,T)))}))})(r.localStore,t);s1(r,t,n),i1(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await au(r,o)}catch(o){await go(o)}}function i1(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function s1(s,t,n){const r=St(s);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),r.du[r.currentUser.toKey()]=o}}function Dm(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((r=>{s.Vu.containsKey(r)||r1(s,r)}))}function r1(s,t){s.Eu.delete(t.path.canonicalString());const n=s.Ru.get(t);n!==null&&(fg(s.remoteStore,n),s.Ru=s.Ru.remove(t),s.Au.delete(n),Tg(s))}function Nv(s,t,n){for(const r of n)r instanceof WE?(s.Vu.addReference(r.key,t),nx(s,r)):r instanceof t1?(ot(vg,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,t),s.Vu.containsKey(r.key)||r1(s,r.key)):_t(19791,{wu:r})}function nx(s,t){const n=t.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(ot(vg,"New document in limbo: "+n),s.Eu.add(r),Tg(s))}function Tg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new gt(ee.fromString(t)),r=s.fu.next();s.Au.set(r,new GC(n)),s.Ru=s.Ru.insert(n,r),KE(s.remoteStore,new Ks(Di(ng(n.path)),r,"TargetPurposeLimboResolution",xh.ce))}}async function au(s,t,n){const r=St(s),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,y)=>{f.push(r.pu(y,t,n).then((p=>{if((p||n)&&r.isPrimaryClient){const T=p?!p.fromCache:n?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(p){o.push(p);const T=cg.Es(y.targetId,p);u.push(T)}})))})),await Promise.all(f),r.Pu.J_(o),await(async function(y,p){const T=St(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>J.forEach(p,(N=>J.forEach(N.Ts,(B=>T.persistence.referenceDelegate.addReference(S,N.targetId,B))).next((()=>J.forEach(N.Is,(B=>T.persistence.referenceDelegate.removeReference(S,N.targetId,B)))))))))}catch(S){if(!po(S))throw S;ot(hg,"Failed to update sequence numbers: "+S)}for(const S of p){const N=S.targetId;if(!S.fromCache){const B=T.vs.get(N),Q=B.snapshotVersion,Z=B.withLastLimboFreeSnapshotVersion(Q);T.vs=T.vs.insert(N,Z)}}})(r.localStore,u))}async function ix(s,t){const n=St(s);if(!n.currentUser.isEqual(t)){ot(vg,"User change. New user:",t.toKey());const r=await HE(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((g=>{g.forEach((y=>{y.reject(new rt($.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await au(n,r.Ns)}}function sx(s,t){const n=St(s),r=n.Au.get(t);if(r&&r.hu)return kt().add(r.key);{let o=kt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const g=n.Tu.get(f);o=o.unionWith(g.view.nu)}return o}}function a1(s){const t=St(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=n1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=WC.bind(null,t),t.Pu.J_=jC.bind(null,t.eventManager),t.Pu.yu=BC.bind(null,t.eventManager),t}function rx(s){const t=St(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ex.bind(null,t),t}class vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Lh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return rC(this.persistence,new nC,t.initialUser,this.serializer)}Cu(t){return new qE(ug.Vi,this.serializer)}Du(t){return new fC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vh.provider={build:()=>new vh};class ax extends vh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ft(this.persistence.referenceDelegate instanceof yh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new BI(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new qE((r=>yh.Vi(r,n)),this.serializer)}}class Om{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ix.bind(null,this.syncEngine),await kC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new LC})()}createDatastore(t){const n=Lh(t.databaseInfo.databaseId),r=yC(t.databaseInfo);return bC(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,o,u,f,g){return new SC(r,o,u,f,g)})(this.localStore,this.datastore,t.asyncQueue,(n=>xv(this.syncEngine,n,0)),(function(){return Av.v()?new Av:new dC})())}createSyncEngine(t,n){return(function(o,u,f,g,y,p,T){const S=new QC(o,u,f,g,y,p);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=St(n);ot(Jr,"RemoteStore shutting down."),r.Ea.add(5),await ru(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Om.provider={build:()=>new Om};class ox{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):as("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const or="FirestoreClient";class lx{constructor(t,n,r,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=We.UNAUTHENTICATED,this.clientId=$m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{ot(or,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(ot(or,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=yg(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function sm(s,t){s.asyncQueue.verifyOperationInProgress(),ot(or,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await HE(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Dv(s,t){s.asyncQueue.verifyOperationInProgress();const n=await ux(s);ot(or,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>wv(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>wv(t.remoteStore,o))),s._onlineComponents=t}async function ux(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot(or,"Using user provided OfflineComponentProvider");try{await sm(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;so("Error using user provided cache. Falling back to memory cache: "+n),await sm(s,new vh)}}else ot(or,"Using default OfflineComponentProvider"),await sm(s,new ax(void 0));return s._offlineComponents}async function o1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot(or,"Using user provided OnlineComponentProvider"),await Dv(s,s._uninitializedComponentsProvider._online)):(ot(or,"Using default OnlineComponentProvider"),await Dv(s,new Om))),s._onlineComponents}function cx(s){return o1(s).then((t=>t.syncEngine))}async function Ov(s){const t=await o1(s),n=t.eventManager;return n.onListen=KC.bind(null,t.syncEngine),n.onUnlisten=$C.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=YC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=JC.bind(null,t.syncEngine),n}function hx(s,t,n,r){const o=new ox(r),u=new qC(t,o,n);return s.asyncQueue.enqueueAndForget((async()=>PC(await Ov(s),u))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>zC(await Ov(s),u)))}}function fx(s,t){const n=new Fr;return s.asyncQueue.enqueueAndForget((async()=>ZC(await cx(s),t,n))),n.promise}function l1(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const dx="ComponentProvider",Mv=new Map;function mx(s,t,n,r,o){return new DR(s,t,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,l1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const u1="firestore.googleapis.com",Vv=!0;class kv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=u1,this.ssl=Vv}else this.host=t.host,this.ssl=t.ssl??Vv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=BE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<zI)throw new rt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}TR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=l1(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class jh{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new cR;switch(r.type){case"firstParty":return new mR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new rt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Mv.get(n);r&&(ot(dx,"Removing Datastore"),Mv.delete(n),r.terminate())})(this),Promise.resolve()}}function gx(s,t,n,r={}){s=Zs(s,jh);const o=lr(t),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${n}`;o&&(Lm(`https://${g}`),Pm("Firestore",!0)),u.host!==u1&&u.host!==g&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:g,ssl:o,emulatorOptions:r};if(!Kr(y,f)&&(s._setSettings(y),r.mockUserToken)){let p,T;if(typeof r.mockUserToken=="string")p=r.mockUserToken,T=We.MOCK_USER;else{p=oT(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new rt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new We(S)}s._authCredentials=new hR(new ZT(p,T))}}class na{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new na(this.firestore,t,this._query)}}class Me{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Me(this.firestore,t,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(nu(n,Me._jsonSchema))return new Me(t,r||null,new gt(ee.fromString(n.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:Oe("string",Me._jsonSchemaVersion),referencePath:Oe("string")};class Ws extends na{constructor(t,n,r){super(t,n,ng(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Me(this.firestore,null,new gt(t))}withConverter(t){return new Ws(this.firestore,t,this._path)}}function Uv(s,t,...n){if(s=Te(s),WT("collection","path",t),s instanceof jh){const r=ee.fromString(t,...n);return K0(r),new Ws(s,null,r)}{if(!(s instanceof Me||s instanceof Ws))throw new rt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...n));return K0(r),new Ws(s.firestore,null,r)}}function Th(s,t,...n){if(s=Te(s),arguments.length===1&&(t=$m.newId()),WT("doc","path",t),s instanceof jh){const r=ee.fromString(t,...n);return Q0(r),new Me(s,null,new gt(r))}{if(!(s instanceof Me||s instanceof Ws))throw new rt($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...n));return Q0(r),new Me(s.firestore,s instanceof Ws?s.converter:null,new gt(r))}}const Lv="AsyncQueue";class Pv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new GE(this,"async_queue_retry"),this._c=()=>{const r=im();r&&ot(Lv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!po(t))throw t;ot(Lv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,as("INTERNAL UNHANDLED ERROR: ",zv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=pg.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:zv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function zv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class co extends jh{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=new Pv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Pv(t),this._firestoreClient=void 0,await t}}}function px(s,t){const n=typeof s=="object"?s:Bm(),r=typeof s=="string"?s:hh,o=Ah(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=sT("firestore");u&&gx(o,...u)}return o}function c1(s){if(s._terminated)throw new rt($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||yx(s),s._firestoreClient}function yx(s){const t=s._freezeSettings(),n=mx(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new lx(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}class Bn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bn($e.fromBase64String(t))}catch(n){throw new rt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Bn($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(nu(t,Bn._jsonSchema))return Bn.fromBase64String(t.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Oe("string",Bn._jsonSchemaVersion),bytes:Oe("string")};class Eg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new rt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class bg{constructor(t){this._methodName=t}}class Mi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new rt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new rt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(t){if(nu(t,Mi._jsonSchema))return new Mi(t.latitude,t.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Oe("string",Mi._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};class ni{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(nu(t,ni._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ni(t.vectorValues);throw new rt($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:Oe("string",ni._jsonSchemaVersion),vectorValues:Oe("object")};const _x=/^__.*__$/;class vx{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new cr(t,this.data,this.fieldMask,n,this.fieldTransforms):new iu(t,this.data,n,this.fieldTransforms)}}class h1{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new cr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function f1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{dataSource:s})}}class Ag{constructor(t,n,r,o,u,f){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Ag({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const n=this.path?.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Eh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(f1(this.dataSource)&&_x.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class Tx{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Lh(t)}createContext(t,n,r,o=!1){return new Ag({dataSource:t,methodName:n,targetDoc:r,path:Xe.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sg(s){const t=s._freezeSettings(),n=Lh(s._databaseId);return new Tx(s._databaseId,!!t.ignoreUndefinedProperties,n)}function Ex(s,t,n,r,o,u={}){const f=s.createContext(u.merge||u.mergeFields?2:0,t,n,o);wg("Data must be an object, but it was:",f,r);const g=d1(r,f);let y,p;if(u.merge)y=new wn(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const N=ho(t,S,n);if(!f.contains(N))throw new rt($.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);p1(T,N)||T.push(N)}y=new wn(T),p=f.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,p=f.fieldTransforms;return new vx(new gn(g),y,p)}class Bh extends bg{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Bh}}function bx(s,t,n,r){const o=s.createContext(1,t,n);wg("Data must be an object, but it was:",o,r);const u=[],f=gn.empty();ur(r,((y,p)=>{const T=g1(t,y,n);p=Te(p);const S=o.childContextForFieldPath(T);if(p instanceof Bh)u.push(T);else{const N=ou(p,S);N!=null&&(u.push(T),f.set(T,N))}}));const g=new wn(u);return new h1(f,g,o.fieldTransforms)}function Ax(s,t,n,r,o,u){const f=s.createContext(1,t,n),g=[ho(t,r,n)],y=[o];if(u.length%2!=0)throw new rt($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)g.push(ho(t,u[N])),y.push(u[N+1]);const p=[],T=gn.empty();for(let N=g.length-1;N>=0;--N)if(!p1(p,g[N])){const B=g[N];let Q=y[N];Q=Te(Q);const Z=f.childContextForFieldPath(B);if(Q instanceof Bh)p.push(B);else{const W=ou(Q,Z);W!=null&&(p.push(B),T.set(B,W))}}const S=new wn(p);return new h1(T,S,f.fieldTransforms)}function Sx(s,t,n,r=!1){return ou(n,s.createContext(r?4:3,t))}function ou(s,t){if(m1(s=Te(s)))return wg("Unsupported field value:",t,s),d1(s,t);if(s instanceof bg)return(function(r,o){if(!f1(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const g of r){let y=ou(g,o.childContextForArray(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}})(s,t)}return(function(r,o){if((r=Te(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iI(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=se.fromDate(r);return{timestampValue:ph(o.serializer,u)}}if(r instanceof se){const u=new se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ph(o.serializer,u)}}if(r instanceof Mi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bn)return{bytesValue:ME(o.serializer,r._byteString)};if(r instanceof Me){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:og(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ni)return(function(f,g){const y=f instanceof ni?f.toArray():f;return{mapValue:{fields:{[lE]:{stringValue:uE},[fh]:{arrayValue:{values:y.map((T=>{if(typeof T!="number")throw g.createError("VectorValues must only contain numeric values.");return ig(g.serializer,T)}))}}}}}})(r,o);if(jE(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Ch(r)}`)})(s,t)}function d1(s,t){const n={};return nE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ur(s,((r,o)=>{const u=ou(o,t.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function m1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof se||s instanceof Mi||s instanceof Bn||s instanceof Me||s instanceof bg||s instanceof ni||jE(s))}function wg(s,t,n){if(!m1(n)||!tE(n)){const r=Ch(n);throw r==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+r)}}function ho(s,t,n){if((t=Te(t))instanceof Eg)return t._internalPath;if(typeof t=="string")return g1(s,t);throw Eh("Field path arguments must be of type string or ",s,!1,void 0,n)}const wx=new RegExp("[~\\*/\\[\\]]");function g1(s,t,n){if(t.search(wx)>=0)throw Eh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Eg(...t.split("."))._internalPath}catch{throw Eh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Eh(s,t,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${r}`),f&&(y+=` in document ${o}`),y+=")"),new rt($.INVALID_ARGUMENT,g+s+y)}function p1(s,t){return s.some((n=>n.isEqual(t)))}class Rx{convertValue(t,n="none"){switch(rr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(sr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return ur(t,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[fh].arrayValue?.values?.map((r=>ve(r.doubleValue)));return new ni(n)}convertGeoPoint(t){return new Mi(ve(t.latitude),ve(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Dh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hl(t));default:return null}}convertTimestamp(t){const n=ir(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ee.fromString(t);Ft(zE(r),9688,{name:t});const o=new Fl(r.get(1),r.get(3)),u=new gt(r.popFirst(5));return o.isEqual(n)||as(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class y1 extends Rx{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Me(this.firestore,null,n)}}const jv="@firebase/firestore",Bv="4.10.0";function qv(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(s,["next","error","complete"])}class _1{constructor(t,n,r,o,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Ix(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(ho("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ix extends _1{data(){return super.data()}}function Cx(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rg{}class v1 extends Rg{}function xx(s,t,...n){let r=[];t instanceof Rg&&r.push(t),r=r.concat(n),(function(u){const f=u.filter((y=>y instanceof Cg)).length,g=u.filter((y=>y instanceof Ig)).length;if(f>1||f>0&&g>0)throw new rt($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Ig extends v1{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Ig(t,n,r)}_apply(t){const n=this._parse(t);return T1(t._query,n),new na(t.firestore,t.converter,bm(t._query,n))}_parse(t){const n=Sg(t.firestore);return(function(u,f,g,y,p,T,S){let N;if(p.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new rt($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Fv(S,T);const Q=[];for(const Z of S)Q.push(Hv(y,u,Z));N={arrayValue:{values:Q}}}else N=Hv(y,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Fv(S,T),N=Sx(g,f,S,T==="in"||T==="not-in");return De.create(p,T,N)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Cg extends Rg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Cg(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ii.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const g=u.getFlattenedFilters();for(const y of g)T1(f,y),f=bm(f,y)})(t._query,n),new na(t.firestore,t.converter,bm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xg extends v1{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new xg(t,n)}_apply(t){const n=(function(o,u,f){if(o.startAt!==null)throw new rt($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new rt($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ql(u,f)})(t._query,this._field,this._direction);return new na(t.firestore,t.converter,XR(t._query,n))}}function Nx(s,t="asc"){const n=t,r=ho("orderBy",s);return xg._create(r,n)}function Hv(s,t,n){if(typeof(n=Te(n))=="string"){if(n==="")throw new rt($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yE(t)&&n.indexOf("/")!==-1)throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ee.fromString(n));if(!gt.isDocumentKey(r))throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ev(s,new gt(r))}if(n instanceof Me)return ev(s,n._key);throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ch(n)}.`)}function Fv(s,t){if(!Array.isArray(s)||s.length===0)throw new rt($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function T1(s,t){const n=(function(o,u){for(const f of o)for(const g of f.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new rt($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function Dx(s,t,n){let r;return r=s?s.toFirestore(t):t,r}class Dl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Gr extends _1{constructor(t,n,r,o,u,f){super(t,n,r,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(ho("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Gr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Gr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gr._jsonSchema={type:Oe("string",Gr._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class eh extends Gr{data(t={}){return super.data(t)}}class io{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Dl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new eh(this._firestore,this._userDataWriter,r.key,r,new Dl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((g=>{const y=new eh(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Dl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const y=new eh(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Dl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,T=-1;return g.type!==0&&(p=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),T=f.indexOf(g.doc.key)),{type:Ox(g.type),doc:y,oldIndex:p,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=io._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=$m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Ox(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:s})}}io._jsonSchemaVersion="firestore/querySnapshot/1.0",io._jsonSchema={type:Oe("string",io._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};function E1(s,t,n,...r){s=Zs(s,Me);const o=Zs(s.firestore,co),u=Sg(o);let f;return f=typeof(t=Te(t))=="string"||t instanceof Eg?Ax(u,"updateDoc",s._key,t,n,r):bx(u,"updateDoc",s._key,t),Ng(o,[f.toMutation(s._key,ei.exists(!0))])}function Mx(s){return Ng(Zs(s.firestore,co),[new sg(s._key,ei.none())])}function Vx(s,t){const n=Zs(s.firestore,co),r=Th(s),o=Dx(s.converter,t),u=Sg(s.firestore);return Ng(n,[Ex(u,"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,ei.exists(!1))]).then((()=>r))}function kx(s,...t){s=Te(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||qv(t[r])||(n=t[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(qv(t[r])){const p=t[r];t[r]=p.next?.bind(p),t[r+1]=p.error?.bind(p),t[r+2]=p.complete?.bind(p)}let u,f,g;if(s instanceof Me)f=Zs(s.firestore,co),g=ng(s._key.path),u={next:p=>{t[r]&&t[r](Ux(f,s,p))},error:t[r+1],complete:t[r+2]};else{const p=Zs(s,na);f=Zs(p.firestore,co),g=p._query;const T=new y1(f);u={next:S=>{t[r]&&t[r](new io(f,T,p,S))},error:t[r+1],complete:t[r+2]},Cx(s._query)}const y=c1(f);return hx(y,g,o,u)}function Ng(s,t){const n=c1(s);return fx(n,t)}function Ux(s,t,n){const r=n.docs.get(t._key),o=new y1(s);return new Gr(s,o,t._key,r,new Dl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){uR(Wr),Yr(new tr("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),g=new co(new fR(r.getProvider("auth-internal")),new gR(f,r.getProvider("app-check-internal")),OR(f,o),f);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Ci(jv,Bv,t),Ci(jv,Bv,"esm2020")})();var Lx="firebase",Px="12.8.0";Ci(Lx,Px,"app");const b1="firebasestorage.googleapis.com",A1="storageBucket",zx=120*1e3,jx=600*1e3;class de extends ki{constructor(t,n,r=0){super(rm(t),`Firebase Storage: ${n} (${rm(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,de.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return rm(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var fe;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(fe||(fe={}));function rm(s){return"storage/"+s}function Dg(){const s="An unknown error occurred, please check the error payload for server response.";return new de(fe.UNKNOWN,s)}function Bx(s){return new de(fe.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function qx(s){return new de(fe.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Hx(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new de(fe.UNAUTHENTICATED,s)}function Fx(){return new de(fe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Gx(s){return new de(fe.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function Qx(){return new de(fe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Kx(){return new de(fe.CANCELED,"User canceled the upload/download.")}function Yx(s){return new de(fe.INVALID_URL,"Invalid URL '"+s+"'.")}function Xx(s){return new de(fe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function $x(){return new de(fe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+A1+"' property when initializing the app?")}function Jx(){return new de(fe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Zx(){return new de(fe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Wx(s){return new de(fe.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Mm(s){return new de(fe.INVALID_ARGUMENT,s)}function S1(){return new de(fe.APP_DELETED,"The Firebase app was deleted.")}function tN(s){return new de(fe.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zl(s,t){return new de(fe.INVALID_FORMAT,"String does not match format '"+s+"': "+t)}function Il(s){throw new de(fe.INTERNAL_ERROR,"Internal error: "+s)}class Rn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Rn.makeFromUrl(t,n)}catch{return new Rn(t,"")}if(r.path==="")return r;throw Xx(t)}static makeFromUrl(t,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(at){at.path.charAt(at.path.length-1)==="/"&&(at.path_=at.path_.slice(0,-1))}const f="(/(.*))?$",g=new RegExp("^gs://"+o+f,"i"),y={bucket:1,path:3};function p(at){at.path_=decodeURIComponent(at.path)}const T="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),N="(/([^?#]*).*)?$",B=new RegExp(`^https?://${S}/${T}/b/${o}/o${N}`,"i"),Q={bucket:1,path:3},Z=n===b1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,W="([^?#]*)",ut=new RegExp(`^https?://${Z}/${o}/${W}`,"i"),tt=[{regex:g,indices:y,postModify:u},{regex:B,indices:Q,postModify:p},{regex:ut,indices:{bucket:1,path:2},postModify:p}];for(let at=0;at<tt.length;at++){const yt=tt[at],vt=yt.regex.exec(t);if(vt){const C=vt[yt.indices.bucket];let A=vt[yt.indices.path];A||(A=""),r=new Rn(C,A),yt.postModify(r);break}}if(r==null)throw Yx(t);return r}}class eN{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function nN(s,t,n){let r=1,o=null,u=null,f=!1,g=0;function y(){return g===2}let p=!1;function T(...W){p||(p=!0,t.apply(null,W))}function S(W){o=setTimeout(()=>{o=null,s(B,y())},W)}function N(){u&&clearTimeout(u)}function B(W,...ut){if(p){N();return}if(W){N(),T.call(null,W,...ut);return}if(y()||f){N(),T.call(null,W,...ut);return}r<64&&(r*=2);let tt;g===1?(g=2,tt=0):tt=(r+Math.random())*1e3,S(tt)}let Q=!1;function Z(W){Q||(Q=!0,N(),!p&&(o!==null?(W||(g=2),clearTimeout(o),S(0)):W||(g=1)))}return S(0),u=setTimeout(()=>{f=!0,Z(!0)},n),Z}function iN(s){s(!1)}function sN(s){return s!==void 0}function rN(s){return typeof s=="object"&&!Array.isArray(s)}function Og(s){return typeof s=="string"||s instanceof String}function Gv(s){return Mg()&&s instanceof Blob}function Mg(){return typeof Blob<"u"}function Qv(s,t,n,r){if(r<t)throw Mm(`Invalid value for '${s}'. Expected ${t} or greater.`);if(r>n)throw Mm(`Invalid value for '${s}'. Expected ${n} or less.`)}function Vg(s,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${s}`}function w1(s){const t=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const o=t(r)+"="+t(s[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var Qr;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Qr||(Qr={}));function aN(s,t){const n=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,u=t.indexOf(s)!==-1;return n||o||u}class oN{constructor(t,n,r,o,u,f,g,y,p,T,S,N=!0,B=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=g,this.errorCallback_=y,this.timeout_=p,this.progressCallback_=T,this.connectionFactory_=S,this.retry=N,this.isUsingEmulator=B,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Q,Z)=>{this.resolve_=Q,this.reject_=Z,this.start_()})}start_(){const t=(r,o)=>{if(o){r(!1,new Hc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=g=>{const y=g.loaded,p=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,p)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const g=u.getErrorCode()===Qr.NO_ERROR,y=u.getStatus();if(!g||aN(y,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===Qr.ABORT;r(!1,new Hc(!1,null,T));return}const p=this.successCodes_.indexOf(y)!==-1;r(!0,new Hc(p,u))})},n=(r,o)=>{const u=this.resolve_,f=this.reject_,g=o.connection;if(o.wasSuccessCode)try{const y=this.callback_(g,g.getResponse());sN(y)?u(y):u()}catch(y){f(y)}else if(g!==null){const y=Dg();y.serverResponse=g.getErrorText(),this.errorCallback_?f(this.errorCallback_(g,y)):f(y)}else if(o.canceled){const y=this.appDelete_?S1():Kx();f(y)}else{const y=Qx();f(y)}};this.canceled_?n(!1,new Hc(!1,null,!0)):this.backoffId_=nN(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&iN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hc{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function lN(s,t){t!==null&&t.length>0&&(s.Authorization="Firebase "+t)}function uN(s,t){s["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function cN(s,t){t&&(s["X-Firebase-GMPID"]=t)}function hN(s,t){t!==null&&(s["X-Firebase-AppCheck"]=t)}function fN(s,t,n,r,o,u,f=!0,g=!1){const y=w1(s.urlParams),p=s.url+y,T=Object.assign({},s.headers);return cN(T,t),lN(T,n),uN(T,u),hN(T,r),new oN(p,s.method,T,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,f,g)}function dN(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function mN(...s){const t=dN();if(t!==void 0){const n=new t;for(let r=0;r<s.length;r++)n.append(s[r]);return n.getBlob()}else{if(Mg())return new Blob(s);throw new de(fe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function gN(s,t,n){return s.webkitSlice?s.webkitSlice(t,n):s.mozSlice?s.mozSlice(t,n):s.slice?s.slice(t,n):null}function pN(s){if(typeof atob>"u")throw Wx("base-64");return atob(s)}const Ii={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class am{constructor(t,n){this.data=t,this.contentType=n||null}}function yN(s,t){switch(s){case Ii.RAW:return new am(R1(t));case Ii.BASE64:case Ii.BASE64URL:return new am(I1(s,t));case Ii.DATA_URL:return new am(vN(t),TN(t))}throw Dg()}function R1(s){const t=[];for(let n=0;n<s.length;n++){let r=s.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<s.length-1&&(s.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const u=r,f=s.charCodeAt(++n);r=65536|(u&1023)<<10|f&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function _N(s){let t;try{t=decodeURIComponent(s)}catch{throw zl(Ii.DATA_URL,"Malformed data URL.")}return R1(t)}function I1(s,t){switch(s){case Ii.BASE64:{const o=t.indexOf("-")!==-1,u=t.indexOf("_")!==-1;if(o||u)throw zl(s,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ii.BASE64URL:{const o=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(o||u)throw zl(s,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=pN(t)}catch(o){throw o.message.includes("polyfill")?o:zl(s,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class C1{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw zl(Ii.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=EN(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function vN(s){const t=new C1(s);return t.base64?I1(Ii.BASE64,t.rest):_N(t.rest)}function TN(s){return new C1(s).contentType}function EN(s,t){return s.length>=t.length?s.substring(s.length-t.length)===t:!1}class Qs{constructor(t,n){let r=0,o="";Gv(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,n){if(Gv(this.data_)){const r=this.data_,o=gN(r,t,n);return o===null?null:new Qs(o)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Qs(r,!0)}}static getBlob(...t){if(Mg()){const n=t.map(r=>r instanceof Qs?r.data_:r);return new Qs(mN.apply(null,n))}else{const n=t.map(f=>Og(f)?yN(Ii.RAW,f).data:f.data_);let r=0;n.forEach(f=>{r+=f.byteLength});const o=new Uint8Array(r);let u=0;return n.forEach(f=>{for(let g=0;g<f.length;g++)o[u++]=f[g]}),new Qs(o,!0)}}uploadData(){return this.data_}}function x1(s){let t;try{t=JSON.parse(s)}catch{return null}return rN(t)?t:null}function bN(s){if(s.length===0)return null;const t=s.lastIndexOf("/");return t===-1?"":s.slice(0,t)}function AN(s,t){const n=t.split("/").filter(r=>r.length>0).join("/");return s.length===0?n:s+"/"+n}function N1(s){const t=s.lastIndexOf("/",s.length-2);return t===-1?s:s.slice(t+1)}function SN(s,t){return t}class an{constructor(t,n,r,o){this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||SN}}let Fc=null;function wN(s){return!Og(s)||s.length<2?s:N1(s)}function D1(){if(Fc)return Fc;const s=[];s.push(new an("bucket")),s.push(new an("generation")),s.push(new an("metageneration")),s.push(new an("name","fullPath",!0));function t(u,f){return wN(f)}const n=new an("name");n.xform=t,s.push(n);function r(u,f){return f!==void 0?Number(f):f}const o=new an("size");return o.xform=r,s.push(o),s.push(new an("timeCreated")),s.push(new an("updated")),s.push(new an("md5Hash",null,!0)),s.push(new an("cacheControl",null,!0)),s.push(new an("contentDisposition",null,!0)),s.push(new an("contentEncoding",null,!0)),s.push(new an("contentLanguage",null,!0)),s.push(new an("contentType",null,!0)),s.push(new an("metadata","customMetadata",!0)),Fc=s,Fc}function RN(s,t){function n(){const r=s.bucket,o=s.fullPath,u=new Rn(r,o);return t._makeStorageReference(u)}Object.defineProperty(s,"ref",{get:n})}function IN(s,t,n){const r={};r.type="file";const o=n.length;for(let u=0;u<o;u++){const f=n[u];r[f.local]=f.xform(r,t[f.server])}return RN(r,s),r}function O1(s,t,n){const r=x1(t);return r===null?null:IN(s,r,n)}function CN(s,t,n,r){const o=x1(t);if(o===null||!Og(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(p=>{const T=s.bucket,S=s.fullPath,N="/b/"+f(T)+"/o/"+f(S),B=Vg(N,n,r),Q=w1({alt:"media",token:p});return B+Q})[0]}function xN(s,t){const n={},r=t.length;for(let o=0;o<r;o++){const u=t[o];u.writable&&(n[u.server]=s[u.local])}return JSON.stringify(n)}class M1{constructor(t,n,r,o){this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function V1(s){if(!s)throw Dg()}function NN(s,t){function n(r,o){const u=O1(s,o,t);return V1(u!==null),u}return n}function DN(s,t){function n(r,o){const u=O1(s,o,t);return V1(u!==null),CN(u,o,s.host,s._protocol)}return n}function k1(s){function t(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=Fx():o=Hx():n.getStatus()===402?o=qx(s.bucket):n.getStatus()===403?o=Gx(s.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return t}function ON(s){const t=k1(s);function n(r,o){let u=t(r,o);return r.getStatus()===404&&(u=Bx(s.path)),u.serverResponse=o.serverResponse,u}return n}function MN(s,t,n){const r=t.fullServerUrl(),o=Vg(r,s.host,s._protocol),u="GET",f=s.maxOperationRetryTime,g=new M1(o,u,DN(s,n),f);return g.errorHandler=ON(t),g}function VN(s,t){return s&&s.contentType||t&&t.type()||"application/octet-stream"}function kN(s,t,n){const r=Object.assign({},n);return r.fullPath=s.path,r.size=t.size(),r.contentType||(r.contentType=VN(null,t)),r}function UN(s,t,n,r,o){const u=t.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function g(){let tt="";for(let at=0;at<2;at++)tt=tt+Math.random().toString().slice(2);return tt}const y=g();f["Content-Type"]="multipart/related; boundary="+y;const p=kN(t,r,o),T=xN(p,n),S="--"+y+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+T+`\r
--`+y+`\r
Content-Type: `+p.contentType+`\r
\r
`,N=`\r
--`+y+"--",B=Qs.getBlob(S,r,N);if(B===null)throw Jx();const Q={name:p.fullPath},Z=Vg(u,s.host,s._protocol),W="POST",ut=s.maxUploadRetryTime,st=new M1(Z,W,NN(s,n),ut);return st.urlParams=Q,st.headers=f,st.body=B.uploadData(),st.errorHandler=k1(t),st}class LN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Qr.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Qr.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Qr.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,o,u){if(this.sent_)throw Il("cannot .send() more than once");if(lr(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Il("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Il("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Il("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Il("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class PN extends LN{initXhr(){this.xhr_.responseType="text"}}function U1(){return new PN}class Zr{constructor(t,n){this._service=t,n instanceof Rn?this._location=n:this._location=Rn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Zr(t,n)}get root(){const t=new Rn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return N1(this._location.path)}get storage(){return this._service}get parent(){const t=bN(this._location.path);if(t===null)return null;const n=new Rn(this._location.bucket,t);return new Zr(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw tN(t)}}function zN(s,t,n){s._throwIfRoot("uploadBytes");const r=UN(s.storage,s._location,D1(),new Qs(t,!0),n);return s.storage.makeRequestWithTokens(r,U1).then(o=>({metadata:o,ref:s}))}function jN(s){s._throwIfRoot("getDownloadURL");const t=MN(s.storage,s._location,D1());return s.storage.makeRequestWithTokens(t,U1).then(n=>{if(n===null)throw Zx();return n})}function BN(s,t){const n=AN(s._location.path,t),r=new Rn(s._location.bucket,n);return new Zr(s.storage,r)}function qN(s){return/^[A-Za-z]+:\/\//.test(s)}function HN(s,t){return new Zr(s,t)}function L1(s,t){if(s instanceof kg){const n=s;if(n._bucket==null)throw $x();const r=new Zr(n,n._bucket);return t!=null?L1(r,t):r}else return t!==void 0?BN(s,t):s}function FN(s,t){if(t&&qN(t)){if(s instanceof kg)return HN(s,t);throw Mm("To use ref(service, url), the first argument must be a Storage instance.")}else return L1(s,t)}function Kv(s,t){const n=t?.[A1];return n==null?null:Rn.makeFromBucketSpec(n,s)}function GN(s,t,n,r={}){s.host=`${t}:${n}`;const o=lr(t);o&&(Lm(`https://${s.host}/b`),Pm("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(s._overrideAuthToken=typeof u=="string"?u:oT(u,s.app.options.projectId))}class kg{constructor(t,n,r,o,u,f=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=b1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zx,this._maxUploadRetryTime=jx,this._requests=new Set,o!=null?this._bucket=Rn.makeFromBucketSpec(o,this._host):this._bucket=Kv(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Rn.makeFromBucketSpec(this._url,t):this._bucket=Kv(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Qv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Qv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Zr(this,t)}_makeRequest(t,n,r,o,u=!0){if(this._deleted)return new eN(S1());{const f=fN(t,this._appId,r,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(t,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,o).getPromise()}}const Yv="@firebase/storage",Xv="0.14.0";const P1="storage";function QN(s,t,n){return s=Te(s),zN(s,t,n)}function KN(s){return s=Te(s),jN(s)}function YN(s,t){return s=Te(s),FN(s,t)}function XN(s=Bm(),t){s=Te(s);const r=Ah(s,P1).getImmediate({identifier:t}),o=sT("storage");return o&&$N(r,...o),r}function $N(s,t,n,r={}){GN(s,t,n,r)}function JN(s,{instanceIdentifier:t}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new kg(n,r,o,t,Wr)}function ZN(){Yr(new tr(P1,JN,"PUBLIC").setMultipleInstances(!0)),Ci(Yv,Xv,""),Ci(Yv,Xv,"esm2020")}ZN();const WN={apiKey:"AIzaSyAixRQFDfvQpcpz9WF7cClQNnLwI0c3i0Q",authDomain:"music-4eef7.firebaseapp.com",projectId:"music-4eef7",storageBucket:"music-4eef7.firebasestorage.app",messagingSenderId:"41798433400",appId:"1:41798433400:web:acbbb075bf2877a1ef8b8d",measurementId:"G-W01741QDKL"},Ug=cT(WN),om=oR(Ug),Ol=px(Ug),tD=XN(Ug);const eD=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nD=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),$v=s=>{const t=nD(s);return t.charAt(0).toUpperCase()+t.slice(1)},z1=(...s)=>s.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),iD=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var sD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rD=dt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:f,...g},y)=>dt.createElement("svg",{ref:y,...sD,width:t,height:t,stroke:s,strokeWidth:r?Number(n)*24/Number(t):n,className:z1("lucide",o),...!u&&!iD(g)&&{"aria-hidden":"true"},...g},[...f.map(([p,T])=>dt.createElement(p,T)),...Array.isArray(u)?u:[u]]));const me=(s,t)=>{const n=dt.forwardRef(({className:r,...o},u)=>dt.createElement(rD,{ref:u,iconNode:t,className:z1(`lucide-${eD($v(s))}`,`lucide-${s}`,r),...o}));return n.displayName=$v(s),n};const aD=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],oD=me("book-open",aD);const lD=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],uD=me("calculator",lD);const cD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],hD=me("external-link",cD);const fD=[["path",{d:"m11.9 12.1 4.514-4.514",key:"109xqo"}],["path",{d:"M20.1 2.3a1 1 0 0 0-1.4 0l-1.114 1.114A2 2 0 0 0 17 4.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 17.828 7h1.344a2 2 0 0 0 1.414-.586L21.7 5.3a1 1 0 0 0 0-1.4z",key:"txyc8t"}],["path",{d:"m6 16 2 2",key:"16qmzd"}],["path",{d:"M8.23 9.85A3 3 0 0 1 11 8a5 5 0 0 1 5 5 3 3 0 0 1-1.85 2.77l-.92.38A2 2 0 0 0 12 18a4 4 0 0 1-4 4 6 6 0 0 1-6-6 4 4 0 0 1 4-4 2 2 0 0 0 1.85-1.23z",key:"1de1vg"}]],Lg=me("guitar",fD);const dD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],mD=me("lock",dD);const gD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],pD=me("log-out",gD);const yD=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Jv=me("menu",yD);const _D=[["path",{d:"M5 12h14",key:"1ays0h"}]],vD=me("minus",_D);const TD=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],ED=me("mouse-pointer-click",TD);const bD=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],AD=me("music",bD);const SD=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Vm=me("pause",SD);const wD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],j1=me("pencil",wD);const RD=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],km=me("play",RD);const ID=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xl=me("plus",ID);const CD=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],xD=me("scroll",CD);const ND=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],DD=me("search",ND);const OD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],MD=me("trash-2",OD);const VD=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],kD=me("upload",VD);const UD=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],LD=me("video",UD);const PD=[["path",{d:"M12 10v2.2l1.6 1",key:"n3r21l"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}]],zD=me("watch",PD);const jD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$l=me("x",jD);const BD=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],B1=me("youtube",BD),qD=({onLogin:s})=>{const[t,n]=dt.useState(""),[r,o]=dt.useState(""),u=f=>{f.preventDefault(),t==="1234"?s("user"):t==="admin"?s("admin"):o("")};return w.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-900 p-4",children:w.jsxs("div",{className:"bg-gray-800 p-8 rounded-2xl shadow-2xl max-w-md w-full border border-gray-700",children:[w.jsx("div",{className:"flex justify-center mb-6",children:w.jsx("div",{className:"bg-indigo-600 p-4 rounded-full",children:w.jsx(Lg,{size:48,className:"text-white"})})}),w.jsx("h1",{className:"text-2xl font-bold text-center mb-2 text-white",children:" Pro"}),w.jsx("p",{className:"text-gray-400 text-center mb-6 text-sm",children:"    YouTube Music"}),w.jsxs("form",{onSubmit:u,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:""}),w.jsxs("div",{className:"relative",children:[w.jsx(mD,{className:"absolute left-3 top-3 text-gray-500",size:18}),w.jsx("input",{type:"password",value:t,onChange:f=>n(f.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none text-white transition",placeholder:"...",autoFocus:!0})]})]}),r&&w.jsx("p",{className:"text-red-400 text-sm text-center",children:r}),w.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200",children:""}),w.jsxs("p",{className:"text-xs text-gray-500 text-center mt-4",children:[": 1234 ",w.jsx("br",{})," : admin"]})]})]})})},HD=({songs:s,currentSong:t,setCurrentSong:n,searchTerm:r,setSearchTerm:o,userRole:u,setUserRole:f,isSidebarOpen:g,setIsSidebarOpen:y,openAddModal:p,openEditModal:T,handleDeleteSong:S,loading:N,filteredSongs:B,onOpenTools:Q})=>w.jsxs("div",{className:`${g?"w-full md:w-96":"w-14"} flex-col border-r border-gray-800 bg-gray-900 z-10 flex-shrink-0 transition-all duration-300 ease-in-out overflow-hidden relative ${t&&!g?"hidden md:flex":"flex"}`,children:[!g&&w.jsxs("div",{className:"h-full flex flex-col items-center pt-4 gap-4",children:[w.jsx("button",{onClick:()=>y(!0),className:"p-2 bg-gray-800 text-indigo-400 rounded-lg hover:bg-gray-700 transition",title:"",children:w.jsx(Jv,{size:20})}),w.jsx("div",{className:"text-xs text-gray-500 font-bold",style:{writingMode:"vertical-rl"},children:""})]}),w.jsxs("div",{className:`flex flex-col h-full ${g?"":"hidden"}`,children:[w.jsxs("div",{className:"p-4 border-b border-gray-800 bg-gray-900",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsxs("h1",{className:"text-xl font-bold text-white flex items-center gap-2",children:[w.jsx(Lg,{className:"text-indigo-500"}),"",w.jsx("span",{className:"text-xs bg-gray-700 text-gray-300 px-2 py-0.5 rounded-full font-normal",children:s.length})]}),w.jsxs("div",{className:"flex gap-2",children:[u==="admin"&&w.jsx("button",{onClick:p,className:"p-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition shadow-lg",children:w.jsx(Xl,{size:18})}),w.jsx("button",{onClick:Q,className:"p-2 text-indigo-400 hover:text-indigo-300",title:"",children:w.jsx("span",{className:"font-bold text-lg",children:""})}),w.jsx("button",{onClick:()=>f(null),className:"p-2 text-gray-500 hover:text-gray-300",title:"",children:w.jsx(pD,{size:18})}),w.jsx("button",{onClick:()=>y(!1),className:"p-2 text-gray-500 hover:text-gray-300 md:hidden",children:w.jsx($l,{size:18})}),w.jsx("button",{onClick:()=>y(!1),className:"hidden md:block p-2 text-gray-500 hover:text-gray-300",title:"",children:w.jsx(Jv,{size:18})})]})]}),w.jsxs("div",{className:"relative",children:[w.jsx(DD,{className:"absolute left-3 top-2.5 text-gray-500",size:18}),w.jsx("input",{type:"text",placeholder:"(:4)...",className:"w-full bg-gray-800 border border-gray-700 rounded-lg pl-10 pr-4 py-2 text-sm text-white focus:ring-1 focus:ring-indigo-500 outline-none",value:r,onChange:Z=>o(Z.target.value)})]})]}),w.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:N?w.jsx("div",{className:"text-center text-gray-500 mt-10",children:"..."}):B.length===0?w.jsxs("div",{className:"text-center text-gray-500 mt-10",children:[w.jsx("p",{children:""}),u==="admin"&&w.jsx("p",{className:"text-xs mt-2",children:" + "})]}):B.map(Z=>w.jsxs("div",{onClick:()=>{n(Z)},className:`group p-3 rounded-xl cursor-pointer border border-transparent transition-all duration-200 ${t?.id===Z.id?"bg-indigo-900/30 border-indigo-500/50":"hover:bg-gray-800 border-gray-800"}`,children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsxs("div",{children:[w.jsx("h3",{className:`font-semibold ${t?.id===Z.id?"text-indigo-400":"text-gray-200"}`,children:Z.title}),w.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:Z.artist})]}),u==="admin"&&w.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition",children:[w.jsx("button",{onClick:W=>T(W,Z),className:"p-1.5 text-gray-500 hover:text-indigo-400 transition",children:w.jsx(j1,{size:16})}),w.jsx("button",{onClick:W=>S(W,Z.id),className:"p-1.5 text-gray-500 hover:text-red-400 transition",children:w.jsx(MD,{size:16})})]})]}),w.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[w.jsxs("span",{className:"text-xs text-gray-600 bg-gray-800/50 px-1.5 py-0.5 rounded",children:[": ",Z.titleLength||Z.title.length]}),Z.sourceUrl&&w.jsx(B1,{size:12,className:"text-gray-600"}),Z.savedSpeed&&w.jsxs("span",{className:"text-[10px] text-indigo-500/70 border border-indigo-900/50 px-1 rounded",children:[Z.savedSpeed,"x"]})]})]},Z.id))})]})]}),FD=({currentSong:s,setCurrentSong:t,userRole:n,openAddModal:r})=>{const[o,u]=dt.useState("paged"),[f,g]=dt.useState(0),[y,p]=dt.useState(!1),[T,S]=dt.useState(1),N=dt.useRef(null),B=dt.useRef(null),[Q,Z]=dt.useState(null),[W,ut]=dt.useState(!1),st=dt.useRef(null);dt.useEffect(()=>{if(!window.YT){const A=document.createElement("script");A.src="https://www.youtube.com/iframe_api";const R=document.getElementsByTagName("script")[0];R.parentNode.insertBefore(A,R)}},[]);const tt=A=>{if(!A)return null;const R=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,O=A.match(R);return O&&O[2].length===11?O[2]:null};dt.useEffect(()=>{if(s){const A=s.savedSpeed!==void 0?s.savedSpeed:1;S(A),p(!1),g(0);const R=tt(s.sourceUrl);R?Q&&Q.loadVideoById?(Q.loadVideoById(R),Q.pauseVideo()):window.YT&&window.YT.Player&&!Q&&st.current&&new window.YT.Player(st.current,{height:"1",width:"1",videoId:R,playerVars:{playsinline:1,controls:0},events:{onReady:O=>Z(O.target),onStateChange:O=>{ut(O.data===window.YT.PlayerState.PLAYING)}}}):Q&&Q.stopVideo&&(Q.stopVideo(),ut(!1))}},[s]),window.onYouTubeIframeAPIReady=()=>{};const at=()=>{Q&&(W?Q.pauseVideo():Q.playVideo())};dt.useEffect(()=>{if(o!=="scroll")return;let A;const R=()=>{N.current&&(N.current.scrollTop+=T*.3),A=requestAnimationFrame(R)};return y&&s&&(A=requestAnimationFrame(R)),()=>cancelAnimationFrame(A)},[y,T,s,o]),dt.useEffect(()=>{const A=R=>{s&&o==="paged"&&R.code==="Space"&&(R.preventDefault(),C())};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[s,o,f]);const yt=A=>{S(A),s&&(B.current&&clearTimeout(B.current),B.current=setTimeout(async()=>{try{const R=Th(Ol,"songs",s.id);await E1(R,{savedSpeed:A})}catch(R){console.error("Failed to save speed",R)}},1e3))},vt=()=>{if(!s)return[];const A=s.tabUrls&&s.tabUrls.length>0?s.tabUrls:s.tabUrl?[s.tabUrl]:[];if(A.length<=1)return A;const R=f,O=R+2;return A.slice(R,O)},C=()=>{if(!s)return;const A=s.tabUrls&&s.tabUrls.length>0?s.tabUrls:[];f+2<A.length?g(f+2):g(0)};return s?w.jsxs("div",{className:"flex-1 flex flex-col h-full relative bg-gray-950",children:[w.jsxs("div",{className:"h-16 border-b border-gray-800 bg-gray-900/95 backdrop-blur flex items-center justify-between px-4 md:px-6 z-20 flex-shrink-0",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("button",{onClick:()=>t(null),className:"md:hidden text-gray-400 hover:text-white",children:" "}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("h2",{className:"text-lg font-bold text-white truncate max-w-[150px] md:max-w-xs",children:s.title}),w.jsx("p",{className:"text-xs text-indigo-400",children:s.artist})]})]}),w.jsxs("div",{className:"flex items-center gap-3",children:[s.sourceUrl&&tt(s.sourceUrl)&&w.jsxs("button",{onClick:at,className:`flex items-center gap-1 px-3 py-1.5 rounded-full text-sm font-bold transition border ${W?"bg-red-600/20 text-red-400 border-red-600/30":"bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700"}`,children:[W?w.jsx(Vm,{size:16,fill:"currentColor"}):w.jsx(km,{size:16,fill:"currentColor"}),w.jsx("span",{className:"hidden sm:inline",children:W?"":""})]}),s.sourceUrl&&w.jsxs("a",{href:s.sourceUrl,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 text-indigo-400 hover:text-indigo-300 text-sm font-medium transition hover:underline",children:[w.jsx(LD,{size:16}),w.jsxs("span",{className:"hidden sm:inline",children:[": ",s.title]}),w.jsx("span",{className:"sm:hidden",children:""}),w.jsx(hD,{size:12})]})]})]}),w.jsxs("div",{ref:N,className:`flex-1 overflow-y-auto relative bg-gray-950 ${o==="paged"?"no-scrollbar":"scroll-smooth"}`,style:{paddingBottom:"0px"},children:[w.jsx("div",{className:"absolute top-0 left-0 w-0 h-0 overflow-hidden opacity-0 pointer-events-none",children:w.jsx("div",{ref:st})}),w.jsxs("div",{className:`w-full h-full flex items-center justify-center ${o==="scroll"?"block pt-4 px-2 pb-32 max-w-4xl mx-auto space-y-4":"p-0"}`,children:[o==="scroll"&&w.jsx(w.Fragment,{children:s.tabUrls&&s.tabUrls.length>0?s.tabUrls.map((A,R)=>w.jsx("img",{src:A,alt:`Tab ${R}`,className:"w-full h-auto rounded-lg bg-white"},R)):s.tabUrl?w.jsx("img",{src:s.tabUrl,alt:"Tab",className:"w-full h-auto rounded-lg bg-white"}):w.jsx("div",{className:"text-gray-500",children:""})}),o==="paged"&&w.jsxs("div",{className:"w-full h-full flex items-center justify-center bg-gray-950",children:[(()=>{const A=vt();return A.length===0?w.jsx("div",{className:"text-gray-500",children:""}):A.length===1?w.jsx("div",{className:"w-full h-full flex items-center justify-center p-2",children:w.jsx("img",{src:A[0],className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl bg-white",alt:"tab page"})}):w.jsxs("div",{className:"w-full h-full flex flex-row",children:[w.jsx("div",{className:"w-1/2 h-full flex items-center justify-center p-1 border-r border-gray-800",children:w.jsx("img",{src:A[0],className:"max-w-full max-h-full object-contain rounded-lg bg-white",alt:"tab left"})}),w.jsx("div",{className:"w-1/2 h-full flex items-center justify-center p-1",children:w.jsx("img",{src:A[1],className:"max-w-full max-h-full object-contain rounded-lg bg-white",alt:"tab right"})})]})})(),s.tabUrls?.length>2&&w.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-gray-800/80 px-3 py-1 rounded-full text-xs text-white",children:[": ",f+1,"-",Math.min(f+2,s.tabUrls.length)," / ",s.tabUrls.length,w.jsx("span",{className:"ml-2 text-gray-400",children:"()"})]})]})]})]}),w.jsxs("div",{className:"absolute bottom-6 right-6 z-30 flex flex-col items-end gap-3 animate-fade-in",children:[w.jsxs("button",{onClick:()=>u(o==="paged"?"scroll":"paged"),className:"bg-gray-800/90 backdrop-blur border border-gray-700 text-white p-3 rounded-full shadow-lg hover:bg-gray-700 transition flex items-center gap-2",title:o==="paged"?"":"",children:[o==="paged"?w.jsx(oD,{size:20}):w.jsx(xD,{size:20}),w.jsx("span",{className:"text-xs font-bold",children:o==="paged"?"":""})]}),o==="scroll"&&w.jsxs("div",{className:"bg-gray-800/90 backdrop-blur border border-gray-700 p-2 rounded-xl shadow-2xl flex flex-col items-center gap-2 w-auto",children:[w.jsx("div",{className:"text-[10px] text-gray-400 font-medium",children:w.jsxs("span",{className:"text-indigo-400",children:[T.toFixed(1),"x"]})}),w.jsx("input",{type:"range",min:"0.5",max:"5.0",step:"0.1",value:T,onChange:A=>yt(parseFloat(A.target.value)),className:"h-24 w-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-indigo-500",style:{writingMode:"bt-lr",WebkitAppearance:"slider-vertical"}}),w.jsx("button",{onClick:()=>p(!y),className:`p-2 rounded-full flex items-center justify-center transition-all ${y?"bg-red-500/20 text-red-400 hover:bg-red-500/30":"bg-indigo-600 text-white hover:bg-indigo-500 shadow-lg shadow-indigo-500/30"}`,title:y?"":"",children:y?w.jsx(Vm,{fill:"currentColor",size:16}):w.jsx(km,{fill:"currentColor",size:16,className:"ml-0.5"})})]})]})]}):w.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-500 p-8 text-center h-full bg-gray-950",children:[w.jsx("div",{className:"bg-gray-900 p-6 rounded-full mb-4 shadow-inner",children:w.jsx(Lg,{size:64,className:"text-gray-700"})}),w.jsx("h2",{className:"text-2xl font-bold text-gray-300 mb-2",children:""}),w.jsx("p",{className:"max-w-md mx-auto mb-8",children:""}),n==="admin"&&w.jsxs("button",{onClick:r,className:"bg-gray-800 hover:bg-gray-700 text-indigo-400 px-6 py-2 rounded-full font-medium transition flex items-center gap-2 border border-gray-700",children:[w.jsx(Xl,{size:18})," "]})]})},GD=({isOpen:s,onClose:t,onSave:n,mode:r="add",initialData:o=null})=>{const[u,f]=dt.useState({title:"",artist:"",sourceUrl:""}),[g,y]=dt.useState([]),[p,T]=dt.useState([]),[S,N]=dt.useState(!1),[B,Q]=dt.useState("");if(dt.useEffect(()=>{s&&(Q(""),y([]),N(!1),r==="edit"&&o?(f({title:o.title||"",artist:o.artist||"",sourceUrl:o.sourceUrl||""}),o.tabUrls&&Array.isArray(o.tabUrls)?T(o.tabUrls):o.tabUrl?T([o.tabUrl]):T([])):(f({title:"",artist:"",sourceUrl:""}),T([])))},[s,r,o]),!s)return null;const Z=st=>{let tt=Array.from(st.target.files);tt.sort((at,yt)=>at.name.localeCompare(yt.name,void 0,{numeric:!0,sensitivity:"base"})),y(tt),Q("")},W=st=>{T(tt=>tt.filter((at,yt)=>yt!==st))},ut=async st=>{if(st.preventDefault(),p.length===0&&g.length===0){Q("");return}N(!0),Q("");try{const tt=[];for(const vt of g){const C=YN(tD,`tab_images/${Date.now()}_${vt.name}`);await QN(C,vt);const A=await KN(C);tt.push(A)}const at=[...p,...tt],yt={...u,titleLength:u.title.length,tabUrls:at,tabUrl:at[0],...r==="add"?{createdAt:new Date().toISOString()}:{}};await n(yt),t()}catch(tt){console.error("Save error:",tt),Q(""+tt.message)}finally{N(!1)}};return w.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:w.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-lg w-full p-6 border border-gray-700 animate-fade-in shadow-2xl overflow-y-auto max-h-[90vh]",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[r==="add"?w.jsx(Xl,{size:20,className:"text-indigo-400"}):w.jsx(j1,{size:20,className:"text-indigo-400"}),r==="add"?"":""]}),w.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white",children:w.jsx($l,{size:24})})]}),w.jsxs("form",{onSubmit:ut,className:"space-y-4",children:[w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:""}),w.jsx("input",{required:!0,type:"text",className:"w-full bg-gray-700 border border-gray-600 rounded p-2 text-white focus:border-indigo-500 outline-none",value:u.title,onChange:st=>f({...u,title:st.target.value}),disabled:S})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:""}),w.jsx("input",{required:!0,type:"text",className:"w-full bg-gray-700 border border-gray-600 rounded p-2 text-white focus:border-indigo-500 outline-none",value:u.artist,onChange:st=>f({...u,artist:st.target.value}),disabled:S})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:" (YouTube Music )"}),w.jsxs("div",{className:"relative",children:[w.jsx(B1,{className:"absolute left-3 top-2.5 text-red-500",size:18}),w.jsx("input",{type:"url",placeholder:"https://music.youtube.com/...",className:"w-full pl-10 bg-gray-700 border border-gray-600 rounded p-2 text-white focus:border-indigo-500 outline-none",value:u.sourceUrl,onChange:st=>f({...u,sourceUrl:st.target.value}),disabled:S})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:" ()"}),p.length>0&&w.jsxs("div",{className:"mb-3 space-y-2",children:[w.jsx("p",{className:"text-xs text-gray-500",children:" ( X ):"}),p.map((st,tt)=>w.jsxs("div",{className:"flex items-center justify-between bg-gray-700/50 p-2 rounded border border-gray-600",children:[w.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[w.jsxs("span",{className:"text-indigo-400 font-bold text-xs",children:["#",tt+1]}),w.jsx("img",{src:st,className:"h-8 w-8 object-cover rounded",alt:"thumb"}),w.jsxs("span",{className:"text-xs text-gray-400 truncate w-32",children:["...",st.slice(-10)]})]}),w.jsx("button",{type:"button",onClick:()=>W(tt),className:"text-red-400 hover:text-red-300 p-1",children:w.jsx($l,{size:16})})]},tt))]}),w.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-6 text-center hover:border-indigo-500 transition-colors bg-gray-700/30",children:[w.jsx("input",{type:"file",id:"fileInput",multiple:!0,accept:"image/*",className:"hidden",onChange:Z,disabled:S}),w.jsxs("label",{htmlFor:"fileInput",className:"cursor-pointer flex flex-col items-center justify-center gap-2",children:[w.jsx(kD,{className:"text-gray-400",size:32}),w.jsx("span",{className:"text-sm text-indigo-400 font-medium",children:""}),w.jsx("span",{className:"text-xs text-gray-500",children:""})]})]}),g.length>0&&w.jsx("div",{className:"mt-2 space-y-1",children:Array.from(g).map((st,tt)=>w.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-400",children:[w.jsx(Xl,{size:12})," : ",st.name]},tt))})]}),B&&w.jsx("p",{className:"text-red-400 text-sm",children:B}),w.jsxs("div",{className:"pt-4 flex gap-3",children:[w.jsx("button",{type:"button",onClick:t,disabled:S,className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-2 rounded-lg transition",children:""}),w.jsx("button",{type:"submit",disabled:S,className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded-lg transition font-medium flex items-center justify-center gap-2",children:S?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"spinner"})," ..."]}):r==="add"?"":""})]})]})]})})},Gc=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],QD=()=>{const[s,t]=dt.useState("C"),[n,r]=dt.useState("C"),[o,u]=dt.useState("G"),[f,g]=dt.useState("C"),y=()=>{const p=Gc.indexOf(o),T=Gc.indexOf(f);let S=p-T;return S<0&&(S+=12),S};return w.jsxs("div",{className:"p-4 bg-gray-700/50 rounded-lg border border-gray-600",children:[w.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:" (Capo)"}),w.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:" (Vocal)"}),w.jsx("select",{value:o,onChange:p=>u(p.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded p-2 text-white",children:Gc.map(p=>w.jsx("option",{value:p,children:p},p))})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:" (Shape)"}),w.jsx("select",{value:f,onChange:p=>g(p.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded p-2 text-white",children:Gc.map(p=>w.jsx("option",{value:p,children:p},p))})]})]}),w.jsxs("div",{className:"bg-indigo-900/50 p-3 rounded-lg text-center border border-indigo-500/30",children:[w.jsx("span",{className:"text-gray-300 text-sm",children:""}),w.jsx("div",{className:"text-3xl font-bold text-indigo-400 my-1",children:y()}),w.jsxs("span",{className:"text-gray-300 text-sm",children:[" (Capo ",y(),")"]})]})]})},q1=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],vo=q1.reduce((s,t,n)=>(s[t]=n,t.includes("#"),s),{});vo.Db=1;vo.Eb=3;vo.Gb=6;vo.Ab=8;vo.Bb=10;const Zv={"6_Major":{frets:[0,2,2,1,0,0],fingers:[1,3,4,2,1,1]},"6_Minor":{frets:[0,2,2,0,0,0],fingers:[1,3,4,1,1,1]},"6_7":{frets:[0,2,0,1,0,0],fingers:[1,3,1,2,1,1]},"6_m7":{frets:[0,2,0,0,0,0],fingers:[1,3,1,1,1,1]},"6_Maj7":{frets:[0,s=>-1,1,2,0,s=>-1],fingers:[1,0,2,3,4,0]},"5_Major":{frets:[-1,0,2,2,2,0],fingers:[0,1,2,3,4,1]},"5_Minor":{frets:[-1,0,2,2,1,0],fingers:[0,1,3,4,2,1]},"5_7":{frets:[-1,0,2,0,2,0],fingers:[0,1,3,1,4,1]},"5_m7":{frets:[-1,0,2,0,1,0],fingers:[0,1,3,1,2,1]},"5_Maj7":{frets:[-1,0,2,1,2,0],fingers:[0,1,3,2,4,1]}},Wv={C_Major:{frets:[-1,3,2,0,1,0],fingers:[0,3,2,0,1,0]},A_Major:{frets:[-1,0,2,2,2,0],fingers:[0,0,1,2,3,0]},G_Major:{frets:[3,2,0,0,0,3],fingers:[2,1,0,0,0,3]},E_Major:{frets:[0,2,2,1,0,0],fingers:[0,2,3,1,0,0]},D_Major:{frets:[-1,-1,0,2,3,2],fingers:[0,0,0,1,3,2]},A_Minor:{frets:[-1,0,2,2,1,0],fingers:[0,0,2,3,1,0]},E_Minor:{frets:[0,2,2,0,0,0],fingers:[0,2,3,0,0,0]},D_Minor:{frets:[-1,-1,0,2,3,1],fingers:[0,0,0,2,3,1]},C_7:{frets:[-1,3,2,3,1,0],fingers:[0,3,2,4,1,0]},A_7:{frets:[-1,0,2,0,2,0],fingers:[0,0,2,0,3,0]},G_7:{frets:[3,2,0,0,0,1],fingers:[3,2,0,0,0,1]},E_7:{frets:[0,2,0,1,0,0],fingers:[0,2,0,1,0,0]},B_7:{frets:[-1,2,1,2,0,2],fingers:[0,2,1,3,0,4]},D_7:{frets:[-1,-1,0,2,1,2],fingers:[0,0,0,2,1,3]},F_Major:{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barre:{fret:1}}},KD=s=>vo[s],YD=(s,t)=>{const n=`${s}_${t}`;if(Wv[n])return{...Wv[n],baseFret:0,name:`${s} ${t}`};const r=KD(s);if(r===void 0)return null;let o=r-4;o<0&&(o+=12);let u=r-9;u<0&&(u+=12);let f="",g=0,y=null;return o<=u&&o>0?(f=`6_${t}`,g=o):(f=`5_${t}`,g=u),Zv[f]?(y=Zv[f],{frets:y.frets,fingers:y.fingers,baseFret:g,barre:{fret:1,from:(f.startsWith("6"),1),to:f.startsWith("6")?6:5},name:`${s} ${t}`}):null},XD=q1,$D=["Major","Minor","7","Maj7","m7"],JD=()=>{const[s,t]=dt.useState("C"),[n,r]=dt.useState("Major"),o=YD(s,n),u=140,f=160,g=25,y=(u-g*2)/5,p=(f-g*2)/5;return o?.baseFret>0&&o.baseFret,w.jsxs("div",{className:"p-4 bg-gray-700/50 rounded-lg border border-gray-600 h-full flex flex-col",children:[w.jsx("h3",{className:"text-lg font-bold text-white mb-3 flex-shrink-0",children:""}),w.jsx("div",{className:"mb-3 flex gap-2 overflow-x-auto pb-2 no-scrollbar flex-shrink-0",children:XD.map(T=>w.jsx("button",{onClick:()=>t(T),className:`min-w-[40px] px-3 py-1 rounded-full text-sm font-bold border transition ${s===T?"bg-indigo-600 border-indigo-500 text-white":"bg-gray-800 border-gray-600 text-gray-400 hover:text-white"}`,children:T},T))}),w.jsx("div",{className:"mb-4 flex flex-wrap gap-2 flex-shrink-0",children:$D.map(T=>w.jsx("button",{onClick:()=>r(T),className:`px-3 py-1 rounded-md text-xs font-medium border transition ${n===T?"bg-indigo-500/20 border-indigo-500 text-indigo-300":"bg-gray-800 border-gray-600 text-gray-400 hover:text-white"}`,children:T==="Major"?"Major ()":T==="Minor"?"Minor ()":T},T))}),w.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-gray-800/50 rounded-xl p-4 border border-gray-700",children:[o?w.jsxs("div",{className:"relative bg-white rounded-xl p-4 shadow-lg",children:[w.jsx("span",{className:"absolute top-2 left-3 text-gray-900 font-bold text-xl",children:o.name}),w.jsxs("svg",{width:u,height:f,viewBox:`0 0 ${u} ${f}`,children:[[0,1,2,3,4].map(T=>w.jsx("line",{x1:g,y1:g+T*p,x2:u-g,y2:g+T*p,stroke:"#333",strokeWidth:T===0&&o.baseFret===0?4:1},`fret-${T}`)),[0,1,2,3,4,5].map(T=>w.jsx("line",{x1:g+T*y,y1:g,x2:g+T*y,y2:f-g*.5,stroke:"#333",strokeWidth:"1"},`str-${T}`)),o.baseFret>0&&w.jsx("text",{x:g-8,y:g+12,fontSize:"10",fill:"#666",textAnchor:"end",fontWeight:"bold",children:o.baseFret}),o.baseFret>0&&o.barre&&w.jsx("g",{children:w.jsx("path",{d:`M ${g+(o.barre.from-1)*y} ${g+.5*p} L ${g+(o.barre.to-1)*y} ${g+.5*p}`,stroke:"#4f46e5",strokeWidth:"8",strokeLinecap:"round",opacity:"0.3"})}),o.frets.map((T,S)=>{const N=g+S*y;if(T===-1)return w.jsx("text",{x:N,y:g-5,textAnchor:"middle",fontSize:"12",fill:"red",children:""},S);if(T===0&&o.baseFret===0)return w.jsx("text",{x:N,y:g-5,textAnchor:"middle",fontSize:"12",fill:"#333",children:""},S);const B=g+(T+.5)*p;if(T>4)return null;const Q=o.fingers?o.fingers[S]:0;return w.jsxs("g",{children:[w.jsx("circle",{cx:N,cy:B,r:"7",fill:Q===1&&o.baseFret>0?"#4f46e5":"#1f2937"}),w.jsx("text",{x:N,y:B+3,textAnchor:"middle",fontSize:"9",fill:"white",fontWeight:"bold",children:Q>0?Q:""})]},S)})]})]}):w.jsx("div",{className:"text-gray-500 text-sm",children:""}),w.jsxs("p",{className:"mt-4 text-xs text-center text-gray-500 leading-relaxed",children:["",w.jsx("br",{}),""]})]})]})},ZD=({isOpen:s,onClose:t,onOpenMetronome:n})=>{const[r,o]=dt.useState("capo");return s?w.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:w.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-md w-full p-4 border border-gray-700 shadow-2xl animate-fade-in flex flex-col max-h-[90vh]",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4 pb-2 border-b border-gray-700",children:[w.jsx("h2",{className:"text-xl font-bold text-white",children:""}),w.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white",children:w.jsx($l,{size:24})})]}),w.jsxs("div",{className:"flex gap-2 mb-4 bg-gray-900/50 p-1 rounded-lg",children:[w.jsxs("button",{onClick:()=>o("capo"),className:`flex-1 py-2 rounded-md flex items-center justify-center gap-2 text-sm transition ${r==="capo"?"bg-indigo-600 text-white shadow":"text-gray-400 hover:text-gray-200"}`,children:[w.jsx(uD,{size:16})," Capo"]}),w.jsxs("button",{onClick:n,className:"flex-1 py-2 rounded-md flex items-center justify-center gap-2 text-sm transition text-gray-400 hover:text-gray-200 hover:bg-gray-800",children:[w.jsx(zD,{size:16})," "]}),w.jsxs("button",{onClick:()=>o("chords"),className:`flex-1 py-2 rounded-md flex items-center justify-center gap-2 text-sm transition ${r==="chords"?"bg-indigo-600 text-white shadow":"text-gray-400 hover:text-gray-200"}`,children:[w.jsx(AD,{size:16})," "]})]}),w.jsxs("div",{className:"flex-1 overflow-y-auto",children:[r==="capo"&&w.jsx(QD,{}),r==="chords"&&w.jsx(JD,{})]})]})}):null},WD=({onClose:s})=>{const[t,n]=dt.useState(120),[r,o]=dt.useState(!1),[u,f]=dt.useState([]),g=dt.useRef(null),y=dt.useRef(0),p=dt.useRef(null),T=25,S=.1;dt.useEffect(()=>{const tt=window.AudioContext||window.webkitAudioContext;return g.current=new tt,()=>{p.current&&window.clearTimeout(p.current),g.current&&g.current.close()}},[]);const N=dt.useRef(t);dt.useEffect(()=>{N.current=t},[t]);const B=()=>{const tt=60/N.current;y.current+=tt},Q=tt=>{if(!g.current)return;const at=g.current.createOscillator(),yt=g.current.createGain();at.connect(yt),yt.connect(g.current.destination),at.frequency.value=1e3,yt.gain.value=1,at.start(tt),at.stop(tt+.1),yt.gain.exponentialRampToValueAtTime(.001,tt+.05)},Z=()=>{for(;y.current<g.current.currentTime+S;)Q(y.current),B();p.current=window.setTimeout(Z,T)},W=()=>{r?(window.clearTimeout(p.current),o(!1)):(g.current.state==="suspended"&&g.current.resume(),y.current=g.current.currentTime+.05,Z(),o(!0))},ut=()=>{const tt=Date.now(),at=[...u,tt];if(at.length>1&&at[at.length-1]-at[at.length-2]>2e3){f([tt]);return}const yt=at.slice(-4);if(f(yt),yt.length>1){const vt=[];for(let O=1;O<yt.length;O++)vt.push(yt[O]-yt[O-1]);const C=vt.reduce((O,D)=>O+D,0)/vt.length,A=Math.round(6e4/C),R=Math.min(Math.max(A,40),240);n(R)}},st=tt=>{n(at=>Math.min(Math.max(at+tt,40),240))};return w.jsx("div",{className:"fixed bottom-0 left-0 right-0 h-16 bg-gray-900 border-t border-gray-800 z-50 flex items-center px-4 md:px-8 shadow-[0_-4px_20px_rgba(0,0,0,0.5)] animate-slide-up",children:w.jsxs("div",{className:"flex items-center w-full max-w-5xl mx-auto justify-between gap-4",children:[w.jsxs("div",{className:"flex items-center gap-4 md:gap-6",children:[w.jsx("button",{onClick:W,className:`w-10 h-10 rounded-full flex items-center justify-center transition-all shadow-lg ${r?"bg-red-500 hover:bg-red-600 text-white shadow-red-500/30":"bg-green-500 hover:bg-green-600 text-white shadow-green-500/30"}`,title:r?"":"",children:r?w.jsx(Vm,{size:20,fill:"currentColor"}):w.jsx(km,{size:20,fill:"currentColor",className:"ml-0.5"})}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{onClick:()=>st(-1),className:"p-1 text-gray-400 hover:text-white transition",children:w.jsx(vD,{size:16})}),w.jsxs("div",{className:"flex flex-col items-center w-16",children:[w.jsx("span",{className:"text-2xl font-mono font-bold text-white leading-none",children:t}),w.jsx("span",{className:"text-[10px] text-gray-500 font-medium",children:"BPM"})]}),w.jsx("button",{onClick:()=>st(1),className:"p-1 text-gray-400 hover:text-white transition",children:w.jsx(Xl,{size:16})})]})]}),w.jsx("div",{className:"flex-1 max-w-md hidden sm:flex items-center px-4",children:w.jsx("input",{type:"range",min:"40",max:"240",value:t,onChange:tt=>n(parseInt(tt.target.value)),className:"w-full h-1.5 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-indigo-500 hover:accent-indigo-400 transition-all"})}),w.jsxs("div",{className:"flex items-center gap-3 border-l border-gray-800 pl-4",children:[w.jsxs("button",{onClick:ut,className:"group flex flex-col items-center justify-center gap-0.5 px-3 py-1 rounded-lg hover:bg-gray-800 transition active:scale-95 active:bg-gray-700",title:" (Tap Tempo)",children:[w.jsx(ED,{size:20,className:"text-indigo-400 group-hover:text-indigo-300"}),w.jsx("span",{className:"text-[10px] font-medium text-gray-400 group-hover:text-gray-300",children:"TAP"})]}),w.jsx("button",{onClick:s,className:"p-2 text-gray-500 hover:text-white transition hover:bg-gray-800 rounded-full ml-2",title:"",children:w.jsx($l,{size:20})})]})]})})},t4=()=>{const[s,t]=dt.useState(null),[n,r]=dt.useState([]),[o,u]=dt.useState(null),[f,g]=dt.useState(!0),[y,p]=dt.useState(""),[T,S]=dt.useState(!0),[N,B]=dt.useState(!1),[Q,Z]=dt.useState(!1),[W,ut]=dt.useState(!1),[st,tt]=dt.useState("add"),[at,yt]=dt.useState(null);dt.useEffect(()=>{(async()=>{try{window.__initial_auth_token?await M0(om):await M0(om)}catch(I){console.error("Auth Error:",I)}})();const k=$w(om,I=>{if(I){const Xt=xx(Uv(Ol,"songs"),Nx("createdAt","desc")),le=kx(Xt,F=>{const nt=F.docs.map(ft=>({id:ft.id,...ft.data()}));r(nt),g(!1)},F=>{console.error("Error fetching songs:",F),g(!1)});return()=>le()}});return()=>k()},[]);const vt=async D=>{st==="add"?await Vx(Uv(Ol,"songs"),D):at&&(await E1(Th(Ol,"songs",at.id),D),o&&o.id===at.id&&u({...o,...D}))},C=async D=>{if(s==="admin")try{await Mx(Th(Ol,"songs",D)),o?.id===D&&u(null)}catch(k){alert(""),console.error(k)}},A=()=>{tt("add"),yt(null),ut(!0)},R=(D,k)=>{D&&D.stopPropagation(),tt("edit"),yt(k),ut(!0)};dt.useEffect(()=>{o&&S(!1)},[o]);const O=n.filter(D=>{const k=y.toLowerCase(),I=D.title.toLowerCase(),Xt=D.artist.toLowerCase(),le=(D.titleLength||D.title.length||0).toString();return I.includes(k)||Xt.includes(k)||le===k});return s?w.jsxs("div",{className:"flex h-screen bg-gray-900 overflow-hidden text-gray-100 font-sans",children:[w.jsx(HD,{songs:n,currentSong:o,setCurrentSong:u,searchTerm:y,setSearchTerm:p,userRole:s,setUserRole:t,isSidebarOpen:T,setIsSidebarOpen:S,openAddModal:A,openEditModal:R,handleDeleteSong:C,loading:f,filteredSongs:O,onOpenTools:()=>B(!0)}),w.jsx(FD,{currentSong:o,setCurrentSong:u,userRole:s,openAddModal:A}),w.jsx(GD,{isOpen:W,onClose:()=>ut(!1),onSave:vt,mode:st,initialData:at}),w.jsx(ZD,{isOpen:N,onClose:()=>B(!1),onOpenMetronome:()=>{B(!1),Z(!0)}}),Q&&w.jsx(WD,{onClose:()=>Z(!1)})]}):w.jsx(qD,{onLogin:t})};CA.createRoot(document.getElementById("root")).render(w.jsx(dt.StrictMode,{children:w.jsx(t4,{})}));
